window.__require=function t(e,n,o){function r(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){return r(e[a][1][t]||t)},l,l.exports,t,e,n,o)}return n[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({AnimationManager:[function(t,e,n){"use strict";cc._RF.push(e,"f6d48dZfkZGQpINK4kw2KR8","AnimationManager");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.AM=void 0;var r=o(t("../Controller/GameManager")),i=cc._decorator,a=(i.ccclass,i.property,function(t){this.animState=null,this.animSpeed=1,this.scaled=!0,this.animCom=t}),c=function(){function t(){}return t.play=function(t,e,n,o){void 0===n&&(n=1),void 0===o&&(o=!0);var i,c=t.play(e);c||console.error("\u52a8\u753b\u540d\u4e0d\u5b58\u5728\uff01\u8bf7\u68c0\u67e5",t.node.name,"\u4e2d\u7684\u52a8\u753b\u540d\uff1a",e),this.animMap.has(t)?((i=this.animMap.get(t)).animState=c,i.animSpeed=n,i.scaled=o,c.speed=i.scaled?r.default.Ins.timeScale*i.animSpeed:i.animSpeed):((i=new a(t)).animState=c,i.animSpeed=n,i.scaled=o,this.animMap.set(t,i),c.speed=i.scaled?r.default.Ins.timeScale*i.animSpeed:i.animSpeed)},t.setSpeed=function(t,e){if(this.animMap.has(t)){var n=this.animMap.get(t);n.animSpeed=e,n.animState.speed=n.scaled?r.default.Ins.timeScale*n.animSpeed:n.animSpeed}},t.updateScale=function(){this.animMap.forEach(function(t){t.animState.speed=t.scaled?r.default.Ins.timeScale*t.animSpeed:t.animSpeed})},t.getAnimState=function(t){var e;return null===(e=this.animMap.get(t))||void 0===e?void 0:e.animState},t.animMap=new Map,t}();n.AM=c,window.AM=c,cc._RF.pop()},{"../Controller/GameManager":"GameManager"}],AnimatorAnimation:[function(t,e,n){"use strict";cc._RF.push(e,"dd8ceFOexxNd4zNSoUeuKCn","AnimatorAnimation");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=(s.property,s.requireComponent),f=s.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._animation=null,e._animState=null,e._wrapModeMap=new Map,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._animation=this.getComponent(cc.Animation),this._animation.on(cc.Animation.EventType.FINISHED,this.onAnimFinished,this),this._animation.on(cc.Animation.EventType.LASTFRAME,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&(this._animState=this._animation.play(t),this._animState&&(this._wrapModeMap.has(this._animState)||this._wrapModeMap.set(this._animState,this._animState.wrapMode),this._animState.wrapMode=e?cc.WrapMode.Loop:this._wrapModeMap.get(this._animState)))},e.prototype.scaleTime=function(t){this._animState&&(this._animState.speed=t)},i([u,f,l(cc.Animation)],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorBase:[function(t,e,n){"use strict";cc._RF.push(e,"fcb57wXRiJPxr3O0twteSO5","AnimatorBase");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("./AnimatorController")),l=cc._decorator,f=l.ccclass,p=l.property,h=l.executionOrder,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.AssetRawUrl=null,e.PlayOnStart=!0,e.AutoUpdate=!0,e._hasInit=!1,e._ac=null,e._stateLogicMap=null,e._onStateChangeCall=null,e._animationPlayer=null,e._extraMulti=1,e.finishInitCall=null,e}return r(e,t),Object.defineProperty(e.prototype,"extraMulti",{get:function(){return this._extraMulti},set:function(t){this._extraMulti!==t&&(this._extraMulti=t,this.updatePlaySpeed())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateName",{get:function(){return this._ac.curState.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"curStateMotion",{get:function(){return this._ac.curState.motion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animComplete",{get:function(){return this._ac.animComplete},enumerable:!1,configurable:!0}),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.initArgs=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];e.forEach(function(e){e&&("function"==typeof e?t._onStateChangeCall=e:"object"==typeof e&&(e instanceof Map?t._stateLogicMap=e:(t._animationPlayer=e,t._animationPlayer.setFinishedCallback(t.onAnimFinished,t))))})},e.prototype.updatePlaySpeed=function(){var t=this._ac.curState.speed*this.extraMulti;this._ac.curState.multi&&(t*=this._ac.params.getNumber(this._ac.curState.multi)||1),this.scaleTime(t)},e.prototype.updateAnimator=function(){if(this.updatePlaySpeed(),this._stateLogicMap){var t=this._stateLogicMap.get(this._ac.curState.name);t&&t.onUpdate()}this._ac.updateAnimator()},e.prototype.update=function(){this._hasInit&&this.AutoUpdate&&this.updateAnimator()},e.prototype.manualUpdate=function(){this._hasInit&&!this.AutoUpdate&&this.updateAnimator()},e.prototype.initJson=function(t){this._ac=new u.default(this,t),this._ac.changeState(t.defaultState),this.finishInitCall&&this.finishInitCall()},e.prototype.awaitInited=function(){return a(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){return t._hasInit?void e():void(t.finishInitCall=function(){return e()})})]})})},e.prototype.onAnimFinished=function(){this._ac.onAnimationComplete()},e.prototype.playAnimation=function(){},e.prototype.scaleTime=function(){},e.prototype.onStateChange=function(t,e){this.playAnimation(e.motion,e.loop);var n=t?t.name:"";if(this._stateLogicMap){var o=this._stateLogicMap.get(n);o&&o.onExit();var r=this._stateLogicMap.get(e.name);r&&r.onEntry()}this._onStateChangeCall&&this._onStateChangeCall(n,e.name)},e.prototype.setBool=function(t,e){this._ac.params.setBool(t,e)},e.prototype.getBool=function(t){return 0!==this._ac.params.getBool(t)},e.prototype.setNumber=function(t,e){this._ac.params.setNumber(t,e)},e.prototype.getNumber=function(t){return this._ac.params.getNumber(t)},e.prototype.setTrigger=function(t){this._ac.params.setTrigger(t)},e.prototype.resetTrigger=function(t){this._ac.params.resetTrigger(t)},e.prototype.autoTrigger=function(t){this._ac.params.autoTrigger(t)},e.prototype.play=function(t){this._hasInit&&this._ac.play(t)},i([p({type:cc.JsonAsset,tooltip:!1})],e.prototype,"AssetRawUrl",void 0),i([p({tooltip:!1})],e.prototype,"PlayOnStart",void 0),i([p({tooltip:!1})],e.prototype,"AutoUpdate",void 0),i([f,h(-1e3)],e)}(cc.Component);n.default=d,cc._RF.pop()},{"./AnimatorController":"AnimatorController"}],AnimatorCondition:[function(t,e,n){"use strict";var o,r;cc._RF.push(e,"3aabdL+WyJN1aO7cbjORDrr","AnimatorCondition"),Object.defineProperty(n,"__esModule",{value:!0}),n.LogicType=n.ParamType=void 0,function(t){t[t.COMPLETE=0]="COMPLETE",t[t.BOOLEAN=1]="BOOLEAN",t[t.NUMBER=2]="NUMBER",t[t.TRIGGER=3]="TRIGGER",t[t.AUTO_TRIGGER=4]="AUTO_TRIGGER"}(o=n.ParamType||(n.ParamType={})),function(t){t[t.EQUAL=0]="EQUAL",t[t.NOTEQUAL=1]="NOTEQUAL",t[t.GREATER=2]="GREATER",t[t.LESS=3]="LESS",t[t.GREATER_EQUAL=4]="GREATER_EQUAL",t[t.LESS_EQUAL=5]="LESS_EQUAL"}(r=n.LogicType||(n.LogicType={}));var i=function(){function t(t,e){this._ac=null,this._param="",this._value=0,this._logic=r.EQUAL,this._ac=e,this._param=t.param,this._value=t.value,this._logic=t.logic}return t.prototype.getParamName=function(){return this._param},t.prototype.getParamType=function(){return this._ac.params.getParamType(this._param)},t.prototype.check=function(){var t=this.getParamType();if(t===o.BOOLEAN)return this._ac.params.getBool(this._param)===this._value;if(t!==o.NUMBER)return t===o.AUTO_TRIGGER?0!==this._ac.params.getAutoTrigger(this._param):t===o.TRIGGER?0!==this._ac.params.getTrigger(this._param):(cc.error("[AnimatorCondition.check] \u9519\u8bef\u7684type: "+t),!1);var e=this._ac.params.getNumber(this._param);switch(this._logic){case r.EQUAL:return e===this._value;case r.NOTEQUAL:return e!==this._value;case r.GREATER:return e>this._value;case r.LESS:return e<this._value;case r.GREATER_EQUAL:return e>=this._value;case r.LESS_EQUAL:return e<=this._value;default:return!1}},t}();n.default=i,cc._RF.pop()},{}],AnimatorController:[function(t,e,n){"use strict";cc._RF.push(e,"12dbbwsQlBAa7Z8VdYL+ron","AnimatorController");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./AnimatorParams")),i=o(t("./AnimatorState")),a=function(){function t(t,e){this._jsonData=null,this._animator=null,this._params=null,this._states=null,this._anyState=null,this._curState=null,this._changeCount=0,this.animCompleteState=null,this.animComplete=!1,this._animator=t,this._jsonData=e,this._states=new Map,this._params=new r.default(e.parameters),this.init(e)}return Object.defineProperty(t.prototype,"curState",{get:function(){return this._curState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this._params},enumerable:!1,configurable:!0}),t.prototype.init=function(t){if(t.states.length<=0)cc.error("[AnimatorController.init] \u72b6\u6001\u673ajson\u9519\u8bef");else{this._anyState=new i.default(t.anyState,this);for(var e=0;e<t.states.length;e++){var n=new i.default(t.states[e],this);this._states.set(n.name,n)}}},t.prototype.updateState=function(){this._curState.checkAndTrans(),this._curState!==this._anyState&&null!==this._anyState&&this._anyState.checkAndTrans()},t.prototype.updateAnimator=function(){this._changeCount=0,this.updateState(),this.animComplete&&this.animCompleteState.loop&&(this.animComplete=!1),this.params.resetAllAutoTrigger()},t.prototype.onAnimationComplete=function(){this.animComplete=!0,this.animCompleteState=this._curState},t.prototype.play=function(t){if(this._states.has(t)){this.animComplete=!1;var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t.prototype.changeState=function(t){if(this._changeCount++,this._changeCount>1e3)cc.error("[AnimatorController.changeState] error: \u72b6\u6001\u5207\u6362\u9012\u5f52\u8c03\u7528\u8d85\u8fc71000\u6b21\uff0ctransition\u8bbe\u7f6e\u53ef\u80fd\u51fa\u9519!");else if(!this._states.has(t)||null!==this._curState&&this._curState.name===t)cc.error("[AnimatorController.changeState] error state: "+t);else{var e=this._curState;this._curState=this._states.get(t),this._animator.onStateChange(e,this._curState),this.updateState()}},t}();n.default=a,cc._RF.pop()},{"./AnimatorParams":"AnimatorParams","./AnimatorState":"AnimatorState"}],AnimatorCustomization:[function(t,e,n){"use strict";cc._RF.push(e,"b1e26Sb95tMAJIdBDjsRnoG","AnimatorCustomization");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=s.property,f=(s.requireComponent,s.disallowMultiple),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.PlayOnStart=!1,e}return r(e,t),e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){this._animationPlayer&&t&&this._animationPlayer.playAnimation(t,e)},e.prototype.scaleTime=function(t){this._animationPlayer&&this._animationPlayer.scaleTime(t)},i([l({override:!0,visible:!1})],e.prototype,"PlayOnStart",void 0),i([u,f],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorDragonBones:[function(t,e,n){"use strict";cc._RF.push(e,"1ac36L8hxZG6pjG+bsE+/CE","AnimatorDragonBones");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=(s.property,s.requireComponent),f=s.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._dragonBones=null,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._dragonBones=this.getComponent(dragonBones.ArmatureDisplay),this._dragonBones.addEventListener(dragonBones.EventObject.COMPLETE,this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t&&this._dragonBones.playAnimation(t,e?0:-1)},e.prototype.scaleTime=function(t){this._dragonBones.timeScale=t},i([u,f,l(dragonBones.ArmatureDisplay)],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorParams:[function(t,e,n){"use strict";cc._RF.push(e,"bd149UxSfZOtqumtzcbiCTF","AnimatorParams"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./AnimatorCondition"),r=function(){function t(t){var e=this;this._paramMap=new Map,t.forEach(function(t){var n={type:t.type,value:t.init};e._paramMap.set(t.param,n)})}return t.prototype.getParamType=function(t){var e=this._paramMap.get(t);return e?e.type:null},t.prototype.setNumber=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.NUMBER&&(n.value=e)},t.prototype.setBool=function(t,e){var n=this._paramMap.get(t);n&&n.type===o.ParamType.BOOLEAN&&(n.value=e?1:0)},t.prototype.setTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=1)},t.prototype.resetTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.TRIGGER&&(e.value=0)},t.prototype.autoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=1)},t.prototype.resetAutoTrigger=function(t){var e=this._paramMap.get(t);e&&e.type===o.ParamType.AUTO_TRIGGER&&(e.value=0)},t.prototype.resetAllAutoTrigger=function(){this._paramMap.forEach(function(t){t.type===o.ParamType.AUTO_TRIGGER&&(t.value=0)})},t.prototype.getNumber=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.NUMBER?e.value:0},t.prototype.getBool=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.BOOLEAN?e.value:0},t.prototype.getTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.TRIGGER?e.value:0},t.prototype.getAutoTrigger=function(t){var e=this._paramMap.get(t);return e&&e.type===o.ParamType.AUTO_TRIGGER?e.value:0},t}();n.default=r,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AnimatorSpineSecondary:[function(t,e,n){"use strict";cc._RF.push(e,"b85bbxD8VJDO6ERQbRHqxxc","AnimatorSpineSecondary");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./AnimatorSpine")),s=a(t("./core/AnimatorBase")),u=cc._decorator,l=u.ccclass,f=u.property,p=u.requireComponent,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.TrackIndex=1,e._main=null,e._spine=null,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(c.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._main=this.getComponent(c.default),this._main.addSecondaryListener(this.onAnimFinished,this),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.playAnimation=function(t,e){t?this._spine.setAnimation(this.TrackIndex,t,e):this._spine.clearTrack(this.TrackIndex)},i([f({tooltip:!1})],e.prototype,"TrackIndex",void 0),i([l,p(sp.Skeleton)],e)}(s.default);n.default=h,cc._RF.pop()},{"./AnimatorSpine":"AnimatorSpine","./core/AnimatorBase":"AnimatorBase"}],AnimatorSpine:[function(t,e,n){"use strict";cc._RF.push(e,"cc8acLFW2lPRaGyrdIrXtiB","AnimatorSpine");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./core/AnimatorBase")),s=cc._decorator,u=s.ccclass,l=(s.property,s.requireComponent),f=s.disallowMultiple,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._spine=null,e._completeListenerMap=new Map,e._secondaryListenerMap=new Map,e}return r(e,t),e.prototype.start=function(){this.PlayOnStart&&!this._hasInit&&(this._hasInit=!0,this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onInit=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.PlayOnStart||this._hasInit||(this._hasInit=!0,this.initArgs.apply(this,t),this._spine=this.getComponent(sp.Skeleton),this._spine.setCompleteListener(this.onSpineComplete.bind(this)),null!==this.AssetRawUrl&&this.initJson(this.AssetRawUrl.json))},e.prototype.onSpineComplete=function(t){0===t.trackIndex&&this.onAnimFinished(),this._completeListenerMap.forEach(function(e,n){e?n.call(e,t):n(t)}),this._secondaryListenerMap.forEach(function(e,n){t.trackIndex===e.TrackIndex&&n.call(e,t)})},e.prototype.playAnimation=function(t,e){t&&this._spine.setAnimation(0,t,e)},e.prototype.scaleTime=function(t){this._spine.timeScale=t},e.prototype.addSecondaryListener=function(t,e){this._secondaryListenerMap.set(t,e)},e.prototype.addCompleteListener=function(t,e){void 0===e&&(e=null),this._completeListenerMap.has(t)||this._completeListenerMap.set(t,e)},e.prototype.removeCompleteListener=function(t){this._completeListenerMap.delete(t)},e.prototype.clearCompleteListener=function(){this._completeListenerMap.clear},i([u,f,l(sp.Skeleton)],e)}(c.default);n.default=p,cc._RF.pop()},{"./core/AnimatorBase":"AnimatorBase"}],AnimatorStateLogic:[function(t,e,n){"use strict";cc._RF.push(e,"23df8tnWxNGyrVBMf9AR6lf","AnimatorStateLogic"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.prototype.onEntry=function(){},t.prototype.onUpdate=function(){},t.prototype.onExit=function(){},t}();n.default=o,cc._RF.pop()},{}],AnimatorState:[function(t,e,n){"use strict";cc._RF.push(e,"50c66ljdlBMqpd53Edy+EfD","AnimatorState");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./AnimatorTransition")),i=function(){function t(t,e){this._name="",this._motion="",this._loop=!1,this._speed=1,this._multi="",this._transitions=[],this._ac=null,this._name=t.state,this._motion=t.motion||"",this._loop=t.loop||!1,this._speed=t.speed||1,this._multi=t.multiplier||"",this._ac=e;for(var n=0;n<t.transitions.length;n++){var o=new r.default(t.transitions[n],e);o.isValid()&&this._transitions.push(o)}}return Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"motion",{get:function(){return this._motion},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multi",{get:function(){return this._multi},enumerable:!1,configurable:!0}),t.prototype.checkAndTrans=function(){for(var t=0;t<this._transitions.length;t++){var e=this._transitions[t];if(e&&e.check())return void e.doTrans()}},t}();n.default=i,cc._RF.pop()},{"./AnimatorTransition":"AnimatorTransition"}],AnimatorTransition:[function(t,e,n){"use strict";cc._RF.push(e,"25106KbpEVOA4QapAxzF6/x","AnimatorTransition");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(n,"__esModule",{value:!0});var a=i(t("./AnimatorCondition")),c=function(){function t(t,e){this._toStateName="",this._hasExitTime=!1,this._conditions=[],this._ac=null,this._toStateName=t.toState,this._hasExitTime=t.hasExitTime,this._ac=e;for(var n=0;n<t.conditions.length;n++){var o=new a.default(t.conditions[n],e);this._conditions.push(o)}}return t.prototype.isValid=function(){return this._hasExitTime||this._conditions.length>0},t.prototype.check=function(){if(this._toStateName===this._ac.curState.name)return!1;if(this._hasExitTime&&(this._ac.curState!==this._ac.animCompleteState||!this._ac.animComplete))return!1;for(var t=0;t<this._conditions.length;t++)if(!this._conditions[t].check())return!1;return!0},t.prototype.doTrans=function(){this._hasExitTime&&(this._ac.animComplete=!1);for(var t=0;t<this._conditions.length;t++){var e=this._conditions[t].getParamType(),n=this._conditions[t].getParamName();e===a.ParamType.TRIGGER?this._ac.params.resetTrigger(n):e===a.ParamType.AUTO_TRIGGER&&this._ac.params.resetAutoTrigger(n)}this._ac.changeState(this._toStateName)},t}();n.default=c,cc._RF.pop()},{"./AnimatorCondition":"AnimatorCondition"}],AutoSorting:[function(t,e,n){"use strict";cc._RF.push(e,"01992srLJVKZr1iEt9RfqOP","AutoSorting");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(){for(var t=this.node.children,e=0;e<t.length;e++)t[e].zIndex=-10*t[e].y},i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],ChallengeLevel:[function(t,e,n){"use strict";cc._RF.push(e,"99721N+AelI+rM4pc5MLahF","ChallengeLevel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.ChallengeLevel=void 0;var l=c(t("../../Controller/GameManager")),f=t("../../Managers/ChallengeMgr"),p=c(t("../../Managers/EventCenter")),h=t("../../Utils/CocosExtension"),d=t("../Game"),m=function(t){function e(e){var n=t.call(this)||this;return n.levelId=e,n.load({level:n.challengeInfo.levels,step:[n.challengeInfo.step]}),n}return r(e,t),Object.defineProperty(e.prototype,"challengeInfo",{get:function(){return f.ChallengeMgr.Ins.challengeInfos[this.levelId]},enumerable:!1,configurable:!0}),e.prototype.start=function(){return s(this,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:return t.prototype.start.call(this),d.Game.Ins.isInToturial=!1,d.Game.map.loadChallenge(this.info.level),d.Game.Ins.tutorialLine.active=!1,d.Game.Ins.tutorialLine2.active=!1,d.Game.map.init(),p.default.send(p.E_RefreshUI),p.default.send(p.E_EnterLevel),[4,d.Game.map.enterLevel()];case 1:return o.sent(),[4,h.delay(1e3)];case 2:for(o.sent(),e=0;e<d.Game.map.peoples.length;e++)Math.random()>.65||((n=d.Game.map.peoples[e]).isFinish?h.randomElement(n.finishView)():h.randomElement(n.noFinishView)());return[2]}})})},e.prototype.finishLevel=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return[4,l.default.Ins.finishChallenge(this.levelId)];case 1:return t.sent(),l.default.Ins.jumpToScene(l.SceneName.home),[2]}})})},e}(t("./LevelPipe").LevelPipe);n.ChallengeLevel=m,cc._RF.pop()},{"../../Controller/GameManager":"GameManager","../../Managers/ChallengeMgr":"ChallengeMgr","../../Managers/EventCenter":"EventCenter","../../Utils/CocosExtension":"CocosExtension","../Game":"Game","./LevelPipe":"LevelPipe"}],ChallengeMgr:[function(t,e,n){"use strict";cc._RF.push(e,"b873b/6fQtENrbKYdZDTOV8","ChallengeMgr");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.ChallengeMgr=n.ChallengeLevelState=void 0;var s,u=i(t("./StorageManager")),l=t("../Utils/CocosExtension"),f=c(t("../TimeUtil"));(function(t){t[t.lock=0]="lock",t[t.unlock=1]="unlock",t[t.finish=2]="finish"})(s=n.ChallengeLevelState||(n.ChallengeLevelState={}));var p=function(){function t(){this.challengeInfos=[]}return Object.defineProperty(t,"Ins",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.loadLevels=function(){var t=u.default.Get(u.EStorageKey.challengeInfo,null);if(f.default.isToday()||(t=null),!t){t=[];for(var e=a(config.Challenge.list),n=0;e.length>=3;){for(var o=[],r=0;r<3;r++){var i=l.randomElement(e);o.push(i.level),e.splice(e.indexOf(i),1)}t.push({id:n++,levels:o,state:s.lock,step:100})}t[0].state=s.unlock,u.default.Set(u.EStorageKey.challengeInfo,t),u.default.save()}this.challengeInfos=t},t.prototype.finishLevel=function(t){var e=this.challengeInfos[t];e.state=s.finish,u.default.Set(u.EStorageKey.challengeInfo,e),u.default.save()},t.prototype.unlockLevel=function(t){var e=this.challengeInfos[t];e.state=s.unlock,u.default.Set(u.EStorageKey.challengeInfo,e),u.default.save()},t.instance=null,t}();n.ChallengeMgr=p,window.ChallengeMgr=p,cc._RF.pop()},{"../TimeUtil":"TimeUtil","../Utils/CocosExtension":"CocosExtension","./StorageManager":"StorageManager"}],CocosExtension:[function(t,e,n){"use strict";cc._RF.push(e,"ea6b8LDqilORpoW3ku2Fm8i","CocosExtension");var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.formatHour=n.formatTimeHMS=n.formatTimeHMS_str=n.formatNumberDot=n.formatLongName=n.formatStrEnter=n.getBit=n.getDeltaTime=n.randomByWeight=n.shuffle=n.switchMatt=n.rangeValue=n.randomNumber=n.randomInt=n.invokeCallback=n.updateNow=n.convertPosition=n.toParent=n.seedRandomInt=n.seedRandom=n.scaleImage=n.findConfig=n.loadRemote=n.loadImage=n.loadSpine=n.compareVersion=n.path2uuid=n.loadNode=n.getRes=n.preloadBundleRes=n.loadBundleRes=n.preloadRes=n.loadRes=n.preloadBundles=n.loadBundle=n.isSameDay=n.promiseCancelable=n.throttle=n.getChoice=n.time2str=n.hasStr=n.TransPos2=n.TransPos=n.randomElement=n.delay=n.initResLoader=n.Direction=n.dir2crd=n.FpsMode=n.ImageFillMode=void 0,n.arabicNumToCNNum=n.SystemInfo=n.serializable=n.log=n.getUrlParamMap=n.shake=n.getZeroTimeStamp=n.getTimeStamp=n.setDownloaderRemoteAddress=n.weightRandom=n.enumLength=n.inject=n.deepClone=n.clone=n.showNodeDebug=n.showUiDebug=n.changeSpineSlot=n.isIOS=n.isAndroid=n.isWX_AND=n.isWX_IOS=n.isDevelopment=n.isQQ=n.isTT=n.isApp=n.isMiniGame=n.isWeb=n.isWX=n.isValue=n.byteToInt=n.objToMap=n.mapToObj=n.obj2Urlstr=n.isNullEmptyOrSpace=n.uniqueArr=n.removeFromArr=n.segmentFunc=n.randomInts=n.date2BeijingUnixMilli=n.formatTime=n.formateDate=n.zero=n.formatMinute=n.formatMinuteUnit=void 0;var c,s,u=t("../Managers/PlatformManager");function l(t){return r(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(e,n){cc.assetManager.loadBundle(t,{version:""},function(t,o){t?(console.error("loadBundle error",t),n()):e(o)})})]})})}function f(t,e){return r(this,void 0,Promise,function(){var n,o,r,a;return i(this,function(i){switch(i.label){case 0:if(!e)return[2,null];n=["resources","artres"],o=0,i.label=1;case 1:return o<n.length?(r=n[o],[4,p(t,e,r)]):[3,4];case 2:if(null!=(a=i.sent()))return[2,a];i.label=3;case 3:return o++,[3,1];case 4:return console.warn("loadRes err",e),[2,null]}})})}function p(t,e,n){return r(this,void 0,Promise,function(){var o=this;return i(this,function(){return[2,new Promise(function(a){return r(o,void 0,void 0,function(){var o,r;return i(this,function(i){switch(i.label){case 0:return null!=(o=d(t,e,n))?(a(o),[2]):(r=cc.assetManager.getBundle(n))?[3,2]:[4,l(n)];case 1:r=i.sent(),i.label=2;case 2:return r.getInfoWithPath(e)?r.load(e,t,function(t,e){a(t?null:e)}):a(null),[2]}})})})]})})}function h(t,e,n){return r(this,void 0,Promise,function(){var o=this;return i(this,function(){return[2,new Promise(function(a){return r(o,void 0,void 0,function(){var o;return i(this,function(r){switch(r.label){case 0:return null!=d(t,e,n)?(a(!0),[2]):(o=cc.assetManager.getBundle(n))?[3,2]:[4,l(n)];case 1:o=r.sent(),r.label=2;case 2:return o.getInfoWithPath(e)?o.preload(e,t,function(t){a(!t)}):a(null),[2]}})})})]})})}function d(t,e,n){if(!e)return null;var o=m(t,e,n);return o&&cc.assetManager.assets.get(o)||null}function m(t,e,n){var o=cc.assetManager.bundles;if(o.has(n)){var r=o.get(n),i=r.getInfoWithPath(e,t);if(i&&i.redirect){if(!o.has(i.redirect))throw new Error("you need to load bundle "+i.redirect+" first");i=(r=o.get(i.redirect)).getAssetInfo(i.uuid)}return i?i.uuid:null}}function _(t,e){if(void 0===e&&(e=c.BorderScale),t.node&&t.spriteFrame&&e!=c.None){t.sizeMode!=cc.Sprite.SizeMode.CUSTOM&&console.warn("scaleImage sizemode error,node name:"+t.node.name),t.trim=!1;var n=t.spriteFrame.getOriginalSize(),o=t.node.width,r=t.node.height,i=o/n.width,a=r/n.height,s=e==c.BorderScale?Math.min(i,a):Math.max(i,a);t.node.scaleX=s*n.width/o,t.node.scaleY=s*n.height/r}}(function(t){t[t.None=0]="None",t[t.BorderScale=1]="BorderScale",t[t.FullScale=2]="FullScale"})(c=n.ImageFillMode||(n.ImageFillMode={})),function(t){t[t.Auto=-1]="Auto",t[t.High=60]="High",t[t.Low=45]="Low"}(n.FpsMode||(n.FpsMode={})),n.dir2crd=[cc.v2(1,0),cc.v2(1,-1),cc.v2(0,-1),cc.v2(-1,-1),cc.v2(-1,0),cc.v2(-1,1),cc.v2(0,1),cc.v2(1,1)],function(t){t[t.none=-1]="none",t[t.right=0]="right",t[t.rightUp=1]="rightUp",t[t.up=2]="up",t[t.leftUp=3]="leftUp",t[t.left=4]="left",t[t.leftDown=5]="leftDown",t[t.down=6]="down",t[t.rightDown=7]="rightDown"}(n.Direction||(n.Direction={})),n.initResLoader=function(t){s=t},n.delay=function(t){return r(this,void 0,void 0,function(){return i(this,function(){return[2,new Promise(function(e){return setTimeout(function(){return e(null)},t)})]})})},n.randomElement=function(t){return t&&0!=t.length?t[Math.floor(Math.random()*t.length)]:null},n.TransPos=function(t,e,n){return e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(n))},n.TransPos2=function(t,e,n){return e.convertToNodeSpaceAR(t.convertToWorldSpaceAR(n))},n.hasStr=function(t,e){return-1!=t.indexOf(e)},n.time2str=function(t){var e=Math.floor(t/60),n=Math.floor(t%60);return n<10?e+":0"+n:e+":"+n},n.getChoice=function(t,e){if(t.length==e.length){var n=0,o=Math.random(),r=0;t.forEach(function(t){return r+=t});for(var i=0;i<t.length;i++){var a=e[i],c=t[i]/r;if(o<=n+c)return a;n+=c}return e[e.length-1]}console.error("\u6982\u7387\u6570\u7ec4\u548c\u5143\u7d20\u6570\u7ec4\u4e0d\u5339\u914d")},n.throttle=function(t,e){var n=null;return function(){var o=this,r=arguments;n||(n=setTimeout(function(){t.apply(o,r),n=null},e))}},n.promiseCancelable=function(t){var e=!1;return{promise:new Promise(function(n,o){t.then(function(t){return e?o({isCanceled:!0}):n(t)}),t.catch(function(t){return o(e?{isCanceled:!0}:t)})}),cancel:function(){e=!0}}},n.isSameDay=function(t,e){return new Date(t).toDateString()==new Date(e).toDateString()},n.loadBundle=l,n.preloadBundles=function(){return r(this,void 0,void 0,function(){var t,e,n,o;return i(this,function(r){switch(r.label){case 0:for(console.warn("preloadBundles start"),t=["gameAsset","remoteAsset"],e=[],n=0;n<t.length;n++)o=t[n],e.push(l(o));return[4,Promise.all(e)];case 1:return r.sent(),console.warn("preloadBundles end"),[2]}})})},n.loadRes=f,n.preloadRes=function(t,e){return r(this,void 0,Promise,function(){var n,o,r,a;return i(this,function(i){switch(i.label){case 0:if(!e)return[2,null];n=["resources","artres"],o=0,i.label=1;case 1:return o<n.length?(r=n[o],[4,h(t,e,r)]):[3,4];case 2:if(null!=(a=i.sent()))return[2,a];i.label=3;case 3:return o++,[3,1];case 4:return console.warn("loadRes err",e),[2,null]}})})},n.loadBundleRes=p,n.preloadBundleRes=h,n.getRes=d,n.loadNode=function(t,e){return r(this,void 0,void 0,function(){var n=this;return i(this,function(){return t?[2,new Promise(function(o){return r(n,void 0,void 0,function(){var n,r;return i(this,function(i){switch(i.label){case 0:return[4,f(cc.Prefab,t)];case 1:return(n=i.sent())?(r=cc.instantiate(n),e&&(r.parent=e),r.position=cc.v3(),r.active=!0,o(r)):o(null),[2]}})})})]:[2,null]})})},n.path2uuid=m,n.compareVersion=function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var o=0;o<n;o++){var r=parseInt(t[o]),i=parseInt(e[o]);if(r>i)return 1;if(r<i)return-1}return 0},n.loadSpine=function(t){return r(this,void 0,Promise,function(){return i(this,function(e){switch(e.label){case 0:return t?[4,f(sp.SkeletonData,t)]:[2,null];case 1:return[2,e.sent()]}})})},n.loadImage=function(t,e,n,o){return void 0===n&&(n=c.None),void 0===o&&(o=!0),r(this,void 0,void 0,function(){var r;return i(this,function(i){switch(i.label){case 0:return t&&t.node?(o&&(t.spriteFrame=null),t.url=e,[4,f(cc.SpriteFrame,e)]):[2];case 1:return(r=i.sent())&&e&&-1!=t.url.indexOf(r._name)&&t.url==e?t.spriteFrame=r:r||(t.spriteFrame=s),_(t,n),[2]}})})},n.loadRemote=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=!0),r(this,void 0,Promise,function(){return i(this,function(){return[2,new Promise(function(o){if(t){var r=e?{ext:e,cacheEnabled:n}:{cacheEnabled:n};cc.assetManager.loadRemote(t,r,function(t,e){o(t?null:e)})}else o(null)})]})})},n.findConfig=function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return t[n];return null},n.scaleImage=_;var y=5;function g(t){return null!=t&&(y=t),(y=(9301*y+49297)%233280)/233280}function v(t,e){var n=cc.v3();return t instanceof cc.Node?t.isValid&&t.parent&&(n=t.parent.convertToWorldSpaceAR(t.position)):n=cc.v3(t.x,t.y),n=e.convertToNodeSpaceAR(n),cc.v2(n.x,n.y)}function b(t,e){return Math.random()*(e-t)+t}function w(t){return{hour:~~(t/3600),min:~~((t%=3600)/60),sec:t%=60}}function P(t){return t>9?t:"0"+t}function M(){return cc.sys.platform===cc.sys.WECHAT_GAME}function C(){return M()||I()||O()}function I(){return!!window.tt}function O(){return!!window.qq}function S(t){var e=new sp.SkeletonTexture;e._image={width:t.width,height:t.height},e.setRealTexture(t);var n=new sp.spine.TextureAtlasRegion;return n.width=t.width,n.height=t.height,n.originalWidth=t.width,n.originalHeight=t.height,n.rotate=!1,n.u=0,n.v=0,n.u2=1,n.v2=1,n.texture=e,n}function U(){var t={},e=0,n={},o=0,r={},i=function(a){if(a&&a.length)for(var c=0;c<a.length;++c){var s=a[c];n[s.name]?n[s.name]++:n[s.name]=1,e++,s.active&&s.isValid&&(s._components&&s._components.forEach(function(e){var n=e.__classname__;t[n]||(t[n]=0),"cc.Label"==n&&(o++,r[s.parent.name]?r[s.parent.name]++:r[s.parent.name]=1),t[n]++}),i(s.children))}};i(cc.director.getScene().children),console.log("\u7c7b\u8be6\u60c5:",t),console.log("\u573a\u666f\u6811\u4e0a\u5171\u6709:"+e+"\u4e2anode"),console.log("\u8282\u70b9\u8be6\u60c5:",n),console.log("\u573a\u666f\u6811\u4e0a\u5171\u6709:"+o+"\u4e2alabel"),console.log("\u6587\u672c\u8be6\u60c5:",r)}function j(t){return JSON.parse(JSON.stringify(t))}n.seedRandom=g,n.seedRandomInt=function(t,e,n){e=e||1,t=t||0;var o=g(n);return Math.floor(t+o*(e-t))},n.toParent=function(t,e){if(e!=t.parent){var n=v(t,e);t.parent=e,t.setPosition(n)}},n.convertPosition=v,n.updateNow=function(t){var e=t.getComponent(cc.Label);if(e)e._forceUpdateRenderData();else{var n=t.getComponent(cc.RichText);if(n)return t._activeInHierarchy=!0,void n._updateRichText();var o=t.getComponent(cc.Layout);o&&o.updateLayout()}},n.invokeCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t&&"function"==typeof t&&t.apply(null,Array.prototype.slice.call(arguments,1))},n.randomInt=function(t,e){return Math.floor(b(t,e))},n.randomNumber=b,n.rangeValue=function(t,e,n){return t=Math.max(e,t),Math.min(n,t)},n.switchMatt=function(t){return t[0].map(function(e,n){return t.map(function(t){return t[n]})})},n.shuffle=function(t,e){void 0===e&&(e=!1);var n=[];n=e?t:function(t){return t.slice(0)}(t);for(var o,r=0;r<n.length;r++){var i=(0,o=r,Math.floor(Math.random()*(o-0+1)+0)),a=n[r];n[r]=n[i],n[i]=a}return n},n.randomByWeight=function(t,e){if(t.length==e.length){var n=0;e.forEach(function(t){return n+=t});for(var o=Math.random()*n,r=e[0],i=1;i<e.length;i++){if(o<r)return i-1;r+=e[i]}return e.length-1}console.error("\u6743\u91cd\u968f\u673a\u8f93\u5165\u53c2\u6570\u957f\u5ea6\u4e0d\u7b49")},n.getDeltaTime=function(t,e){return t-e},n.getBit=function(t,e){return void 0===e&&(e=1),t.toFixed(e)},n.formatStrEnter=function(t,e,n){void 0===e&&(e=10),void 0===n&&(n=!1);for(var o=n?"<br/>":"\n",r=[],i=0,a=0,c=0;c<t.length;c++)t.charCodeAt(c)>255?i+=2:i++,i>=e&&(r.push(t.slice(a,c)),a=c,i=0);r.push(t.slice(a));for(var s="",u=(c=0,r.length);c<u;c++)s+=r[c],c<u-1&&(s+=o);return s},n.formatLongName=function(t,e){void 0===e&&(e=0);for(var n=0,o=0;o<t.length;o++)if(t.charCodeAt(o)>255?n+=2:n++,n>=e){t=t.slice(0,o+1)+"...";break}return t},n.formatNumberDot=function(t){for(var e=(t||0).toString(),n="";e.length>3;)n=","+e.slice(-3)+n,e=e.slice(0,e.length-3);return e&&(n=e+n),n},n.formatTimeHMS_str=function(t,e,n,o){void 0===e&&(e=!0),void 0===n&&(n=!1),void 0===o&&(o=0);var r=w(t=~~t),i="",a=0;if(r.hour>23&&n){var c=~~(r.hour/24);i+=c+(e?"\u5929":"d"),r.hour-=24*c,a++}return r.hour>0&&(!o||a<o)&&(i+=r.hour+(e?"\u5c0f\u65f6":"h"),a++),r.min>0&&(!o||a<o)&&(i+=r.min+(e?"\u5206\u949f":"m"),a++),r.sec>0&&(!o||a<o)&&(i+=r.sec+(e?"\u79d2":"s"),a++),i},n.formatTimeHMS=w,n.formatHour=function(t,e){void 0===e&&(e="second"),"micosecond"==e?t/=36e5:"second"==e?t/=3600:"minute"==e&&(t/=60);var n=(""+t).split(".");return n[0]+"."+(n[1]?n[1].substr(0,2):"0")},n.formatMinuteUnit=function(t,e){void 0===e&&(e=!1);var n=~~((t=~~t)/3600);e&&(t%=3600);var o=~~(t/60),r=t%60,i="";return e&&n>0&&(i+=n+"h"),o>0&&(i+=o+"m"),r>0&&(i+=r+"s"),i},n.formatMinute=function(t,e){void 0===e&&(e=!1);var n=~~((t=~~t)/3600);e&&(t%=3600);var o=~~(t/60),r=t%60,i="";return e&&(n<10&&(i+="0"),i+=n+":"),o<10&&(i+="0"),i+=o+":",r<10&&(i+="0"),i+""+r},n.zero=P,n.formateDate=function(t){var e=t.getFullYear(),n=P(t.getMonth()+1),o=P(t.getDate()),r=P(t.getHours()),i=P(t.getMinutes());return P(t.getSeconds()),e+"/"+n+"/"+o+" "+r+":"+i},n.formatTime=function(t){var e=new Date(t).getTime(),n=(new Date).getTime()-e;if(n<0)return"\u521a\u521a";var o=n/2592e6,r=n/6048e5,i=n/864e5,a=n/36e5,c=n/6e4,s=n/31104e6;return s>=1?Math.floor(s)+"\u5e74\u524d":o>=1?Math.floor(o)+"\u6708\u524d":r>=1?Math.floor(r)+"\u5468\u524d":i>=1?Math.floor(i)+"\u5929\u524d":a>=1?Math.floor(a)+"\u5c0f\u65f6\u524d":c>=1?Math.floor(c)+"\u5206\u949f\u524d":"\u521a\u521a"},n.date2BeijingUnixMilli=function(t){if("number"==typeof t){var e=new Date(t),n=6e4*e.getTimezoneOffset();return e.setTime(e.getTime()+n+288e5),e}return n=6e4*t.getTimezoneOffset(),t.setTime(t.getTime()+n+288e5),t},n.randomInts=function(t,e,n){var o,r=[];return function i(a){for(;a<n;a++){for(var c in o=parseInt(Math.random()*(e-t+1)+t),r)if(r[c]==o){i(a);break}r[a]=o}}(0),r},n.segmentFunc=function(t,e){return t>e?e:t},n.removeFromArr=function(t,e){var n;-1!=(n=t.indexOf(e))&&t.splice(n,1)},n.uniqueArr=function(t){for(var e=[],n={},o=0;o<t.length;o++)n[t[o]]||(n[t[o]]=!0,e.push(t[o]));return e},n.isNullEmptyOrSpace=function(t){return null==t||0==t.replace(/\s/g,"").length},n.obj2Urlstr=function(t){return Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&")},n.mapToObj=function(t){var e=Object.create(null);return t.forEach(function(t,n){e[n]=t}),e},n.objToMap=function(t,e){void 0===e&&(e=!1);var n=new Map;return Object.keys(t).forEach(function(o){e?n.set(parseInt(o),t[o]):n.set(o,t[o])}),n},n.byteToInt=function(t){return(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3]},n.isValue=function(t){return null!=t},n.isWX=M,n.isWeb=function(){return!C()},n.isMiniGame=C,n.isApp=function(){return!1},n.isTT=I,n.isQQ=O,n.isDevelopment=function(){return!1},n.isWX_IOS=function(){return M()&&cc.sys.os===cc.sys.OS_IOS},n.isWX_AND=function(){return M()&&cc.sys.os===cc.sys.OS_ANDROID},n.isAndroid=function(){return cc.sys.os===cc.sys.OS_ANDROID&&!1},n.isIOS=function(){return cc.sys.os===cc.sys.OS_IOS&&!1},n.changeSpineSlot=function(t,e,n){var o=t.findSlot(e),r=n.getTexture(),i=o.getAttachment(),a=S(r);i.region=a,i.setRegion&&i.setRegion(a),i.updateUVs()},n.showUiDebug=U,window.ui_test=U,n.showNodeDebug=function(){var t=cc.director.getScene().getComponentsInChildren(cc.Sprite),e=0,n=[],o={};t.forEach(function(t){return n.push(t.node)}),n.forEach(function(t){o[t.parent.name]?o[t.parent.name]++:o[t.parent.name]=1,e++}),console.log("\u603b\u5171:"+e+"\u4e2a\u8282\u70b9,\u7eb9\u7406\u7236\u8282\u70b9\u8be6\u60c5:",o)},n.clone=j,n.deepClone=function t(e){if(e instanceof Object){var n=Array.isArray(e)?a(e):o({},e);return Reflect.ownKeys(n).forEach(function(o){n[o]=e[o]instanceof Object?t(e[o]):e[o]}),n}},n.inject=function(t,e,n){for(var o in void 0===n&&(n=!0),n&&(e=j(e)),t)e.hasOwnProperty(o)&&(t[o]=e[o])},n.enumLength=function(t){var e=0;for(var n in t)isNaN(Number(n))&&e++;return e},n.weightRandom=function(t){for(var e=[],n=0;n<t.length;n++)for(var o=0;o<t[n];o++)e.push(n);var r=Math.floor(Math.random()*e.length);return e.length?e[r]:-1},n.setDownloaderRemoteAddress=function(t){cc.assetManager.downloader._remoteServerAddress&&(cc.assetManager.downloader._remoteServerAddress=t)},n.getTimeStamp=function(){return(new Date).getTime()},n.getZeroTimeStamp=function(){return new Date((new Date).setHours(0,0,0,0)).getTime()},n.shake=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=u.ShakeType.MEDIUM),M()&&wx?t?(console.log("----- long shake ----- "),wx.vibrateLong({success:function(){},fail:function(){}})):(console.log("---- short shake ---- ","shakeType:",e),wx.vibrateShort({success:function(){},fail:function(){},type:e})):I()&&tt&&(t?(console.log("----- long shake ----- "),tt.vibrateLong({success:function(){},fail:function(){}})):(console.log("---- short shake ---- ","shakeType:",e),tt.vibrateShort({success:function(){},fail:function(){},type:e})))},n.getUrlParamMap=function(){if(!location.search&&!location.hash)return null;var t={},e=function(e){for(var n=e.split("&"),o=0;o<n.length;o++){var r=n[o].split("=");t[r[0]]=decodeURIComponent(r[1])}};if(location.hash&&e(location.hash.substr(1)),location.search){var n=location.search.indexOf("?");if(-1!=n){var o=location.search.substr(n+1);e(o=o.split("!")[0])}}return t},n.log=function(t,e){var n=t[e];delete this[e]&&Object.defineProperty(t,e,{get:function(){return console.log("Get "+e+" returned "+n),n},set:function(t){console.log("Set "+e+" to "+t),n=t},enumerable:!0,configurable:!0})},n.serializable=function(t,e){t.constructor.serializeKeys||(t.constructor.serializeKeys=[]),t.constructor.serializeKeys.push(e)};if(n.SystemInfo=function(){},!window.wx){var T=cc._RF.push;cc._RF.push=function(){var t=arguments;setTimeout(function(){try{window[t[2]]=t[0].exports.default||t[0].exports[t[2]]}catch(e){}},0),T.apply(this,t)}}n.arabicNumToCNNum=function(t){var e=["\u96f6","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u767e","\u5343","\u4e07","\u4ebf","\u4e07\u4ebf"],o={ltHundred:function(n){if(t<=10)return e[t];var o=Math.trunc(n/10),r=(o>1?e[o]:"")+e[10],i=n%10;return 0===i?r:r+e[i]},ltThousand:function(t){var n=e[Math.trunc(t/100)]+e[11],r=t%100;return 0===r?n:r<10?n+e[0]+e[r]:r>=10&&r<20?(n+=e[1]+e[10],r>10&&(n+=e[r-10]),n):n+o.ltHundred(r)},ltTenThousand:function(t){var n=e[Math.trunc(t/1e3)]+e[12],r=t%1e3;return 0===r?n:r<10?n+e[0]+e[r]:r<100?10===r?n+e[0]+e[1]+e[10]:n+e[0]+o.ltHundred(r):n+o.ltThousand(r)},gtBillion:function(t){var o=t.toString(),r=o.length;if(r>16||r<5)return"";var i=(o=r<=8?o.padStart(8,"0"):r<=12?o.padStart(12,"0"):o.padStart(16,"0")).split(/([0-9]{4})/).filter(function(t){return""!==t}),a="",c=i.length;return i.forEach(function(t,o){var r=Number(t),s="";return 0!==r&&(s=n.arabicNumToCNNum(r)),0!==o&&(r>0&&r<1e3||3===i[o-1].lastIndexOf("0"))&&(a+=e[0]),2===c?0===o?void(a=s+e[13]):void(a+=s):3===c?0===o?void(a=s+e[14]):1===o&&0!==r?void(a+=s+e[13]):void(a+=s):4===c?0===o?void(a=s+e[15]):1===o&&0!==r?void(a+=s+e[14]):2===o&&0!==r?void(a+=s+e[13]):void(a+=s):void 0}),a}},r="";return(t|=0)<0&&(r+="\u8d1f",t=Math.abs(t)),t<100?r+o.ltHundred(t):t<1e3?r+o.ltThousand(t):t<1e4?r+o.ltTenThousand(t):r+=o.gtBillion(t)},cc._RF.pop()},{"../Managers/PlatformManager":"PlatformManager"}],CocosFixed:[function(t,e){"use strict";cc._RF.push(e,"c95b4+rYJZN64x18o6JhmUf","CocosFixed"),cc._RF.pop()},{}],CocosUINode:[function(t,e,n){"use strict";cc._RF.push(e,"32943yA0RVBGpqZwcwf/z1f","CocosUINode");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./UI")),s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.active=!0,e}return r(e,t),e.prototype.onLoad=function(){c.default.registUI(this.constructor,this),console.log("registUI:"+this.constructor)},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.start=function(){this.active?this.show():this.hide()},i([l],e.prototype,"active",void 0),i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"./UI":"UI"}],CommonBinder:[function(t,e,n){"use strict";cc._RF.push(e,"24a5f3EDzdHpLzQDxjXbL+6","CommonBinder");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./UI_modal")),i=o(t("./UI_TaskTips")),a=o(t("./UI_taskTipsCom")),c=o(t("./UI_moneyCom")),s=o(t("./UI_shareVideo")),u=o(t("./UI_energyCom")),l=o(t("./UI_switch")),f=o(t("./UI_adTips")),p=o(t("./UI_TouchPad")),h=o(t("./UI_rare")),d=o(t("./UI_getEnergy")),m=o(t("./UI_getCoin")),_=o(t("./UI_getEnergyCom")),y=o(t("./UI_recordBtn")),g=o(t("./UI_settingPanel")),v=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(r.default.URL,r.default),fgui.UIObjectFactory.setExtension(i.default.URL,i.default),fgui.UIObjectFactory.setExtension(a.default.URL,a.default),fgui.UIObjectFactory.setExtension(c.default.URL,c.default),fgui.UIObjectFactory.setExtension(s.default.URL,s.default),fgui.UIObjectFactory.setExtension(u.default.URL,u.default),fgui.UIObjectFactory.setExtension(l.default.URL,l.default),fgui.UIObjectFactory.setExtension(f.default.URL,f.default),fgui.UIObjectFactory.setExtension(p.default.URL,p.default),fgui.UIObjectFactory.setExtension(h.default.URL,h.default),fgui.UIObjectFactory.setExtension(d.default.URL,d.default),fgui.UIObjectFactory.setExtension(m.default.URL,m.default),fgui.UIObjectFactory.setExtension(_.default.URL,_.default),fgui.UIObjectFactory.setExtension(y.default.URL,y.default),fgui.UIObjectFactory.setExtension(g.default.URL,g.default)},t}();n.default=v,cc._RF.pop()},{"./UI_TaskTips":"UI_TaskTips","./UI_TouchPad":"UI_TouchPad","./UI_adTips":"UI_adTips","./UI_energyCom":"UI_energyCom","./UI_getCoin":"UI_getCoin","./UI_getEnergy":"UI_getEnergy","./UI_getEnergyCom":"UI_getEnergyCom","./UI_modal":"UI_modal","./UI_moneyCom":"UI_moneyCom","./UI_rare":"UI_rare","./UI_recordBtn":"UI_recordBtn","./UI_settingPanel":"UI_settingPanel","./UI_shareVideo":"UI_shareVideo","./UI_switch":"UI_switch","./UI_taskTipsCom":"UI_taskTipsCom"}],CommonLevel:[function(t,e,n){"use strict";cc._RF.push(e,"de731Ke1BxFJ5+489I3aWmZ","CommonLevel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.CommonLevel=void 0;var f=t("../../Const"),p=l(t("../../Controller/GameManager")),h=l(t("../../Controller/Loading")),d=l(t("../../Controller/TouchCtrl/Toucher")),m=c(t("../../Managers/EventCenter")),_=l(t("../../Managers/Player")),y=c(t("../../Managers/StorageManager")),g=l(t("../../UI/UI")),v=l(t("../../UI/U_Win")),b=t("../../Utils/CocosExtension"),w=t("../Game"),P=function(t){function e(e,n){var o=t.call(this)||this;if(o.isRand=!1,o.allTime=0,o.allPeople=0,o.isRand=n,o.ids=e,o.isRand){var r=config.RandLevel1.getById(e[0]),i=config.RandLevel2.getById(e[1]);o.load({level:[r.level,i.level],step:[r.step,i.step]})}else{var a=config.MapLevels.getById(e[0]);o.load({level:[a.level1,a.level2],step:[a.step1,a.step2]})}return o}return r(e,t),e.prototype.start=function(){return s(this,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:t.prototype.start.call(this),this.allTime=0,w.Game.map.loadLevel(this.curLevel),w.Game.map.init(),m.default.send(m.E_EnterLevel),w.Game.Ins.tutorialLine.active=!1,w.Game.Ins.tutorialLine2.active=!1,m.default.send(m.E_RefreshUI),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,w.Game.map.enterLevel()];case 2:return o.sent(),[4,b.delay(1e3)];case 3:for(o.sent(),e=0;e<w.Game.map.peoples.length;e++)Math.random()>.65||((n=w.Game.map.peoples[e]).isFinish?b.randomElement(n.finishView)():b.randomElement(n.noFinishView)());return[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}})})},e.prototype.rand=function(t){if(void 0===t&&(t=1),1==t){this.ids=[b.randomElement(config.MapLevels.list).id];var e=config.MapLevels.getById(this.ids[0]);this.load({level:[e.level1,e.level2],step:[e.step1,e.step2]})}else if(2==t){var n=y.default.Get(y.EStorageKey.randLv1Pool,config.RandLevel1.list.map(function(t){return t.id})),o=y.default.Get(y.EStorageKey.randLv1,b.randomElement(n)),r=y.default.Get(y.EStorageKey.randLv2Pool,config.RandLevel2.list.map(function(t){return t.id})),i=y.default.Get(y.EStorageKey.randLv2,b.randomElement(r));this.ids=[o,i],this.isRand=!0;var a=config.RandLevel1.getById(this.ids[0]),c=config.RandLevel2.getById(this.ids[1]);this.load({level:[a.level,c.level],step:[a.step,c.step]})}this.start()},e.prototype.winLevel=function(){this.allTime+=w.Game.Ins.time,this.allPeople+=w.Game.Ins.peopleNum},e.prototype.finishLevel=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return _.default.instance.passNum+=1,this.levelIdx++,this.levelIdx>=this.info.level.length?(this.finishAll(),[3,4]):[3,1];case 1:return d.default.block(),[4,h.default.Ins.enterLoading(h.default.Ins.levelLoading)];case 2:return t.sent(),this.start(),[4,h.default.Ins.exitLoading(h.default.Ins.levelLoading)];case 3:t.sent(),d.default.unblock(),t.label=4;case 4:return[2]}})})},e.prototype.finishAll=function(){p.default.Ins.finishCommonGame(this.ids,this.isRand),p.default.Ins.rewardCoin(f.commonLevelReward),p.default.Ins.rewardEnergy(1),w.Game.Ins.hasGetRewardChoice=!0,w.Game.Ins.effect.node.active=!1,w.Game.Ins.rewardSkin(!1),g.default.getUI(v.default).show(),p.default.Ins.allPass++,_.default.instance.peopleNum+=this.allPeople},e}(t("./LevelPipe").LevelPipe);n.CommonLevel=P,cc._RF.pop()},{"../../Const":"Const","../../Controller/GameManager":"GameManager","../../Controller/Loading":"Loading","../../Controller/TouchCtrl/Toucher":"Toucher","../../Managers/EventCenter":"EventCenter","../../Managers/Player":"Player","../../Managers/StorageManager":"StorageManager","../../UI/UI":"UI","../../UI/U_Win":"U_Win","../../Utils/CocosExtension":"CocosExtension","../Game":"Game","./LevelPipe":"LevelPipe"}],Const:[function(t,e,n){"use strict";cc._RF.push(e,"b94fapjEulMdaVqdn6jviMt","Const"),Object.defineProperty(n,"__esModule",{value:!0}),n.pathDuration=n.peopleAngle=n.pathDelay=n.commonLevelReward=n.peopleDelay=n.mapBus=n.mapScale=n.updateRecordInterval=n.challengeRand=n.commonRand=n.challengeHei=n.commonHei=n.mapWidth=n.StepAddNum=n.challengeReward=n.unlockChallenge=n.energyPrice=n.commonFuiPkg=n.fuiPath=void 0,n.fuiPath="fui/",n.commonFuiPkg="Common",n.energyPrice=1e3,n.unlockChallenge=700,n.challengeReward=1e3,n.StepAddNum=2,n.mapWidth=640,n.commonHei=1422,n.challengeHei=5632,n.commonRand=0,n.challengeRand=2,n.updateRecordInterval=10,n.mapScale=[[3,6,1.3],[4,8,1],[5,8,.9],[7,11,.72]],n.mapBus=[[3,15,1],[4,15,4],[5,15,5],[7,15,2],[7,50,3]],n.peopleDelay=30,n.commonLevelReward=250,n.pathDelay=5,n.peopleAngle=15,n.pathDuration=300,cc._RF.pop()},{}],1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=!1,r=[],i=new Map;function a(t){var e=i.get(t);return e||(e=function(n,o,i){var a=n.indexOf("/remote/"),c="";if(a>=0&&r.length>0)for(var s=n.substring(0,a),u=r.indexOf(s);u<r.length-1;){var l=r[u++];if(s!==l){c=n.replace(s,l);break}}var f=function(t,n){t&&c?(console.debug("Retry download asset.",c),e(c,o,f)):i&&i(t,n)};t(n,o,f)},i.set(t,e),i.set(e,e)),e}n.setAssetRemotes=function(t,e){var n=void 0===e?{}:e,i=n.include,c=n.exclude;if(r.length=0,r.push.apply(r,t),console.info("Set asset remotes.",r),!o){var s=cc.assetManager.downloader._downloaders;o=!0,Object.keys(s).filter(function(t){return(!i||i.includes(t))&&(!c||!c.includes(t))}).forEach(function(t){console.info("Set downloader proxy.",t),s[t]=a(s[t])})}}},{}],DebugPlatform:[function(t,e,n){"use strict";cc._RF.push(e,"1475ePe4SBBwbqXJdMuWJ52","DebugPlatform");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.DebugPlatform=void 0;var i=t("../PlatformManager"),a=function(){function t(){}return t.prototype.addShortcut=function(){},t.prototype.onHide=function(){},t.prototype.onShow=function(){},t.prototype.jumpScene=function(){throw new Error("Method not implemented.")},t.prototype.checkScene=function(){},t.prototype.getProtocolText=function(){return new Promise(function(t){return t({userPolicyText:"",privacyPolicyText:""})})},t.prototype.jumpBrandWall=function(){},t.prototype.getBrandWallInfo=function(){return[]},t.prototype.initBrandwall=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.prototype.startRecord=function(){},t.prototype.stopRecord=function(){},t.prototype.hideCustomBtn=function(){},t.prototype.showCustomBtn=function(){},t.prototype.onRecorderStart=function(){},t.prototype.onRecorderStop=function(){},t.prototype.weakLogin=function(){var t=localStorage.getItem("userId");t||(t=(new Date).getTime()+"",localStorage.setItem("userId",t));var e=[];for(var n in i.GMParamKey)e.push(n);i.Plat.params=new Map;for(var o=0;o<e.length;o++)i.Plat.params.set(e[o],1);var r={id:t,name:t,authed:!!localStorage.getItem("_fakeAuthed")};return Promise.resolve({user:r})},t.prototype.init=function(){return Promise.resolve()},t.prototype.shake=function(){console.log("\u8c03\u8bd5\u6a21\u5f0f\u6ca1\u6709\u632f\u52a8")},t.prototype.showVideo=function(t){t&&t()},t.prototype.share=function(){console.log("debug\u6ca1\u6709\u5206\u4eab")},t}();n.DebugPlatform=a,cc._RF.pop()},{"../PlatformManager":"PlatformManager"}],Defer:[function(t,e,n){"use strict";cc._RF.push(e,"14ff1lX/ZRNNrC/Eh8kmU6Z","Defer"),Object.defineProperty(n,"__esModule",{value:!0}),n.Defer=void 0;n.Defer=function(){var t=this;this.resolved=!1,this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},cc._RF.pop()},{}],DialogBar:[function(t,e,n){"use strict";cc._RF.push(e,"983f3So8CJPYIbEeQB1tHEw","DialogBar");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"anim",{get:function(){return this.getComponent(cc.Animation)},enumerable:!1,configurable:!0}),e.prototype.setDialog=function(t){this.label.string=t,this.anim.play()},i([s(cc.Label)],e.prototype,"label",void 0),i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],DialogManager:[function(t,e){"use strict";cc._RF.push(e,"b3745GPxhhBI4UQ85vYDbO2","DialogManager"),cc._RF.pop()},{}],Earth:[function(t,e,n){"use strict";cc._RF.push(e,"49b5b9+XDtOFLSphGNZb6Ht","Earth");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("../Const"),l=t("../Managers/PoolManager"),f=s(t("../Managers/Res")),p=t("../Utils/CocosExtension"),h=s(t("./GameManager")),d=cc._decorator,m=d.ccclass,_=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.peopleNodes=[],e.skins=[],e}var n;return r(e,t),n=e,e.prototype.init=function(t){this.skins=t,this.clearAllPeople(),this.refreshPeople()},e.prototype.setEarthSkin=function(t){this.spine.setSkin("earth"+t)},e.generateTo=function(t,e){var o=l.PM.Get(f.default.Ins.getPrefab("earth"));o.setParent(t),o.position=cc.v3();var r=o.getComponent(n);return r.init(e),r},e.getSkins=function(t){if(t<0)return[1];var e=360/u.peopleAngle,n=e*t,o=e*(t+1);return h.default.Ins.skins.slice(n,o)},e.getEarthNum=function(){return Math.ceil(h.default.Ins.skins.length/(360/u.peopleAngle))},e.prototype.clear=function(){this.clearAllPeople(),l.PM.Put(this.node)},e.prototype.clearAllPeople=function(){this.peopleNodes.forEach(function(t){return l.PM.Put(t,!0)}),this.peopleNodes=[]},e.prototype.refreshPeople=function(){return a(this,void 0,void 0,function(){var t,e,o,r,i;return c(this,function(a){switch(a.label){case 0:this.clearAllPeople(),t=this.skins,e=360/u.peopleAngle,o=0,a.label=1;case 1:return o<t.length?o>=e?[3,4]:(r=t[o],(i=n.getPeople(this.peopleFolder)).setSiblingIndex(0),i.getComponent(sp.Skeleton).setSkin(config.PeopleSkin.getById(r).skin),i.angle=o*u.peopleAngle,this.peopleNodes.push(i),[4,p.delay(u.peopleDelay)]):[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.getPeople=function(t){var e=l.PM.Get(f.default.Ins.getPrefab("peopleSpine"));return e.setParent(t),e.position=cc.v3(),e.scale=1,e.getComponent(sp.Skeleton).clearTrack(0),e.getComponent(sp.Skeleton).setAnimation(0,"loop1",!0),e.angle=0,e},i([_(cc.Node)],e.prototype,"peopleFolder",void 0),i([_(sp.Skeleton)],e.prototype,"spine",void 0),n=i([m],e)}(cc.Component);n.default=y,window.Earth=y,cc._RF.pop()},{"../Const":"Const","../Managers/PoolManager":"PoolManager","../Managers/Res":"Res","../Utils/CocosExtension":"CocosExtension","./GameManager":"GameManager"}],EffectManager:[function(t,e,n){"use strict";cc._RF.push(e,"ed45dn2gGNF0rhTig0ORnha","EffectManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var a=t("./PoolManager"),c=i(t("./Res")),s=function(){function t(){}return Object.defineProperty(t.prototype,"maskCtrl",{get:function(){return this._maskCtrl},enumerable:!1,configurable:!0}),t.prototype.bindMaskCtrl=function(t){this._maskCtrl=t},t.prototype.unBindMaskCtrl=function(t){this._maskCtrl==t&&(this._maskCtrl=null)},Object.defineProperty(t,"Ins",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.shakeNode=function(t,e){this.shakeNodeMap.has(t)&&(t.stopAction(this.shakeNodeMap.get(t)),t.setPosition(this.nodePos.get(t)),this.shakeNodeMap.delete(t)),e||(e={times:6,duration:.2,amp:10});var n=e.times||6,o=e.duration||.2,r=e.amp||10,i=e.srcPos||t.getPosition();this.nodePos.set(t,i);for(var a=new cc.Vec2,c=[],s=0;s<n;++s)s==n-1?a.x=a.y=0:cc.Vec2.random(a,r),c.push(cc.moveTo(o/n,i.add(a)));var u=t.runAction(cc.sequence(c));this.shakeNodeMap.set(t,u)},t.sparklePrefabs=function(t,e,n,i){var s=this;return void 0===i&&(i=1),new Promise(function(u){return o(s,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return[4,c.default.Ins.awaitLoaded()];case 1:return r.sent(),(o=a.PM.Get(c.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),o.opacity=255,cc.tween(o).to(i,{opacity:0}).call(function(){a.PM.Put(o),u()}).start(),[2]}})})})},t.animPrefab=function(t,e,n,i){return o(this,void 0,void 0,function(){var s=this;return r(this,function(){return[2,new Promise(function(u){return o(s,void 0,void 0,function(){var o,s;return r(this,function(r){switch(r.label){case 0:return[4,c.default.Ins.awaitLoaded()];case 1:return r.sent(),(o=a.PM.Get(c.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),i&&i(o),(s=o.getComponent(cc.Animation)).play(t),s.once(cc.Animation.EventType.FINISHED,function(){a.PM.Put(o),u()}),[2]}})})})]})})},t.animSpinePrefab=function(t,e,n,i){return o(this,void 0,void 0,function(){var s=this;return r(this,function(){return[2,new Promise(function(){return o(s,void 0,void 0,function(){var o;return r(this,function(r){switch(r.label){case 0:return[4,c.default.Ins.awaitLoaded()];case 1:return r.sent(),(o=a.PM.Get(c.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),i&&i(o),o.getComponent(sp.Skeleton).setAnimation(0,t,!1),[2]}})})})]})})},t.startAnimEffect=function(t,e,n,o){void 0===o&&(o=function(){});var r=a.PM.Get(c.default.Ins.getPrefab(t));r.setParent(e),r.position=cc.v3(n),o&&o(r),r.getComponent(cc.Animation).play(t);var i=this.cnt++;return this.prefabNodeMap.set(i,r),i},t.stopAnimEffect=function(t){var e=this.prefabNodeMap.get(t);e&&(a.PM.Put(e),this.prefabNodeMap.delete(t))},t.animPrefab2=function(t,e,n,i){return o(this,void 0,void 0,function(){var o,s;return r(this,function(){return(o=a.PM.Get(c.default.Ins.getPrefab(t))).setParent(e),o.position=cc.v3(n),(s=o.getComponent(cc.Animation)).play(t),s.once(cc.Animation.EventType.FINISHED,function(){a.PM.Put(o),i&&i()}),[2,o]})})},t.instance=null,t.shakeNodeMap=new Map,t.nodePos=new Map,t.prefabNodeMap=new Map,t.cnt=0,t}();n.default=s,cc._RF.pop()},{"./PoolManager":"PoolManager","./Res":"Res"}],EnergyCom:[function(t,e,n){"use strict";cc._RF.push(e,"9e684e5aRVNPaGTWBMiJIAW","EnergyCom");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=i(t("../Controller/GameManager")),s=a(t("../TimeUtil")),u=a(t("./UI")),l=a(t("./U_GetEnergy")),f=function(){function t(t){this.view=t}return t.prototype.init=function(){this.view.m_addBtn.onClick(function(){u.default.getUI(l.default).show()})},t.prototype.onClickAddBtn=function(){},t.prototype.refresh=function(){this.view.m_num.text=c.default.Ins.energy.toFixed()},t.prototype.tickRefresh=function(){this.view.m_time.text=c.default.Ins.energy<c.maxEnergy?s.default.time2str(c.default.Ins.energyTime):"\u4f53\u529b\u5df2\u6ee1"},t}();n.default=f,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../TimeUtil":"TimeUtil","./UI":"UI","./U_GetEnergy":"U_GetEnergy"}],EventCenter:[function(t,e,n){"use strict";cc._RF.push(e,"44e19m0cXpJG7E+LLMxofUj","EventCenter");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};Object.defineProperty(n,"__esModule",{value:!0}),n.E_RefreshDebug=n.E_RecordChange=n.E_ViewSideBar=n.E_EnterLevel=n.E_FinishLevel=n.E_MovePeople=n.E_StartGame=n.E_Tick=n.E_MoveMap=n.E_RefreshUI=n.E_InitGame=n.E_HideSurvey=n.E_ClearBoss=n.E_ContHide=n.E_InfoChange=n.E_GetItem=n.E_ResLoaded=void 0;var c=cc._decorator,s=c.ccclass;c.property,n.E_ResLoaded="ResLoaded",n.E_GetItem="GetItem",n.E_InfoChange="InfoChange",n.E_ContHide="ContHide",n.E_ClearBoss="ClearBoss",n.E_HideSurvey="HideSurvey",n.E_InitGame="InitGame",n.E_RefreshUI="RefreshUI",n.E_MoveMap="MoveMap",n.E_Tick="Tick",n.E_StartGame="StartGame",n.E_MovePeople="MovePeople",n.E_FinishLevel="E_FinishLevel",n.E_EnterLevel="E_EnterLevel",n.E_ViewSideBar="E_ViewSideBar",n.E_RecordChange="E_RecordChange",n.E_RefreshDebug="E_RefreshDebug";var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.send=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.instance.node).emit.apply(e,a([t],n))},e.on=function(t,e,n){this.instance.node.on(t,e,n)},e.off=function(t,e,n){this.instance.node.off(t,e,n)},e.once=function(t,e,n){this.instance.node.once(t,e,n)},e.instance=null,n=i([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],FlyIcon:[function(t,e,n){"use strict";cc._RF.push(e,"2e8ccyf9FpB0LRppD+yzlvw","FlyIcon");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../../Managers/PoolManager"),s=a(t("../../Managers/Res")),u=cc._decorator,l=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.setData=function(t,e,n,o,r){var i=this;this.getComponent(cc.Sprite).spriteFrame=s.default.Ins.getSprite(t),this.node.position=cc.v3(e);var a=r?cc.v3(e.add(cc.v2(70*Math.random()-35,70*Math.random()-35))):cc.v3(e.add(cc.v2(0,35*Math.random()))),u=cc.v3(n);this.node.scale=1,cc.tween(this.node).to(.7,{position:a,scale:1.2},{easing:cc.easing.quadOut}).to(.6,{position:u,scale:.4},{easing:cc.easing.quadIn}).call(function(){o&&o(),i.node.scale=1,c.PM.Put(i.node)}).start()},e.prototype.setData2=function(t,e,n,o){var r=this;this.getComponent(cc.Sprite).spriteFrame=s.default.Ins.getSprite(t),this.node.position=cc.v3(e);var i=cc.v3(n);this.node.scale=1,cc.tween(this.node).to(.4,{position:i,scale:.3}).call(function(){o&&o(),r.node.scale=1,c.PM.Put(r.node)}).start()},i([l],e)}(cc.Component));n.default=f,cc._RF.pop()},{"../../Managers/PoolManager":"PoolManager","../../Managers/Res":"Res"}],FuiCom:[function(t,e,n){"use strict";cc._RF.push(e,"50f80Lh4/dGS5oG+aQ8CINN","FuiCom");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("../Const"),l=i(t("../Managers/EventCenter")),f=s(t("../ui_gen/Common/CommonBinder")),p=s(t("../ui_gen/Home/HomeBinder")),h=s(t("../ui_gen/Mini/MiniBinder")),d=s(t("./UI")),m=new Map([["Common",f.default],["Mini",h.default],["Home",p.default]]),_=function(){function t(){this._isFuiLoaded=!1,this.isShow=!1,d.default.registUI(this.constructor,this)}return Object.defineProperty(t.prototype,"pkgPath",{get:function(){return""+u.fuiPath+this.pkg.pkgName},enumerable:!1,configurable:!0}),t.prototype.getResUrl=function(t){return fairygui.UIPackage.getItemURL(this.pkg.pkgName,t)},t.prototype.getChild=function(t){var e=this._view.getChild(t);return e||console.error("can't find child "+t+" in "+this.pkg.comName),e},t.prototype.getList=function(t){var e=this._view.getChild(t).asList;return e||console.error("can't find list child "+t+" in "+this.pkg.comName),e},t.backShow=function(t){t.scaleX=t.scaleY=0,t.pivotX=t.pivotY=.5,cc.tween(t).to(.5,{scaleY:1,scaleX:1},{easing:cc.easing.backOut}).start()},t.clear=function(){this.initGroot&&(fgui.GRoot.inst.visible=!1),this.initGroot=!1},Object.defineProperty(t.prototype,"IsShow",{get:function(){return this.isShow},enumerable:!1,configurable:!0}),t.prototype.show=function(){this.isShow=!0,this.refreshShow(),l.default.on(l.E_Tick,this.tickRefresh,this)},t.prototype.hide=function(){this.isShow=!1,this.refreshShow(),l.default.off(l.E_Tick,this.tickRefresh,this)},t.prototype.refreshShow=function(){this._isFuiLoaded&&(this._view.visible=this.isShow)},t.getWp=function(t){return t.parent.localToGlobal(t.x,t.y)},t.prototype.load=function(){return a(this,void 0,void 0,function(){var e=this;return c(this,function(){return[2,new Promise(function(n,o){t.initGroot||(t.initGroot=!0,fgui.GRoot.create(),fgui.GRoot.inst.visible=!0);var r=m.get(e.pkg.pkgName);r?(r.bindAll(),e.isShow=e.active,e._isFuiLoaded=!1,fgui.UIPackage.loadPackage(e.pkgPath,function(t){if(t)return console.error("\u52a0\u8f7dfui\u5931\u8d25\uff1a",e.pkg.pkgName,e.pkg.comName),void o();e.onUILoaded(),n()})):console.error("\u6ca1\u6709\u8bbe\u7f6ebinder\uff1a",e.pkg.pkgName)})]})})},t.prototype.clear=function(){this.hide(),d.default.unregistUI(this.constructor),this._view.dispose()},t.prototype.onUILoaded=function(){this._isFuiLoaded=!0,this._view=fgui.UIPackage.createObject(this.pkg.pkgName,this.pkg.comName),this._view.width=fgui.GRoot.inst.width,this._view.height=fgui.GRoot.inst.height,this._view.addRelation(fgui.GRoot.inst,fgui.RelationType.Width),this._view.addRelation(fgui.GRoot.inst,fgui.RelationType.Height),fgui.GRoot.inst.addChild(this._view),console.log("load:",this.pkg.comName),this.onFuiInit(),this.isShow?this.show():this.hide()},t.prototype.tickRefresh=function(){},t.Get=function(t,e,n){var o=fgui.UIPackage.createObject(t,e);return n.addChild(o),o},t.Put=function(t){t.removeFromParent()},t.prototype.onFuiInit=function(){},t.prototype.update=function(t){this._isFuiLoaded&&this.onUpdate(t)},t.prototype.onUpdate=function(){},t.prototype.onDestroy=function(){this._view.dispose()},t.awaitTrans=function(t){return a(this,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(e){t.play(function(){e()})})]})})},t.initGroot=!1,t}();n.default=_,cc._RF.pop()},{"../Const":"Const","../Managers/EventCenter":"EventCenter","../ui_gen/Common/CommonBinder":"CommonBinder","../ui_gen/Home/HomeBinder":"HomeBinder","../ui_gen/Mini/MiniBinder":"MiniBinder","./UI":"UI"}],GameConfig:[function(t,e,n){"use strict";cc._RF.push(e,"ecbf7bbS3ZFHIuhEH0Cfq8N","GameConfig"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig=void 0;var o=function(){function t(){}return Object.defineProperty(t,"userId",{get:function(){return t._userId||(t._userId=localStorage.getItem("userId"),t._userId||(t._userId=(new Date).getTime()+"",localStorage.setItem("userId",t._userId))),t._userId},enumerable:!1,configurable:!0}),t.init=function(){"xrqsc_mix"==t.gameId?(t.httpRoot="https://a-tang.hortorgames.com/",t.env="Prod",t.secret="ee6f9284c28e4650a121c631b0f20314",t.remote_cdns=[""]):(t.httpRoot="https://test-htg.hortorgames.com/",t.env="Test",t.secret="55e769c8759f467d81811ab03922123b")},t.version="0.1.0",t.gameId="xrqsc_mix",t.platformType=function(){switch(cc.sys.platform){case cc.sys.WECHAT_GAME:case cc.sys.BYTEDANCE_GAME:return tang.PlatformEnum.HORTOR_MIX;default:return tang.PlatformEnum.DEBUG}}(),t.remote_cdns=[],t}();n.GameConfig=o,cc._RF.pop()},{}],GameLabel:[function(t,e,n){"use strict";cc._RF.push(e,"db21bo9//hJC4ffJKPj0tvz","GameLabel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,a=(i.ccclass,i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(cc.Component));n.default=a,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"196feeV8YRBbo+vDO/PdvF+","GameManager");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.propPrice=n.maxEnergy=n.maxEnergyTime=n.SceneName=void 0;var l,f=t("../Const"),p=t("../Game/Levels/CommonLevel"),h=t("../Game/Levels/TutorialLevel"),d=t("../Managers/AnimationManager"),m=t("../Managers/ChallengeMgr"),_=i(t("../Managers/EventCenter")),y=u(t("../Managers/Res")),g=i(t("../Managers/StorageManager")),v=u(t("../TimeUtil")),b=u(t("../UI/FuiCom")),w=u(t("../UI/UI")),P=u(t("../UI/U_Modal")),M=u(t("../UI/U_TaskTips")),C=t("../Utils/CocosExtension"),I=u(t("./Loading")),O=u(t("./TouchCtrl/Toucher"));(function(t){t.game="game",t.home="home",t.miniGame="MiniGame"})(l=n.SceneName||(n.SceneName={})),n.maxEnergyTime=1800,n.maxEnergy=5,n.propPrice=500;var S=function(){function t(){this.scene=null,this.showStartLoading=!0,this.isActiveTutorialMask=!1,this.isShake=!0,this._timeScale=1,this.minigameQuery="miniGame=1|2|3&miniGameEnter=1",this.pauseFrameTween=null,this.fakePlayerTimer=0,this.recordTimer=0,this.timer=0,this.lastTick=0,this.isInited=!1,this.conditionTuple=[]}return Object.defineProperty(t.prototype,"curScene",{get:function(){return this.scene},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Ins",{get:function(){return null==this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energyTime",{get:function(){return g.default.Get(g.EStorageKey.energyTime,0)},set:function(t){g.default.Set(g.EStorageKey.energyTime,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coin",{get:function(){return g.default.Get(g.EStorageKey.coin,0)},set:function(t){g.default.Set(g.EStorageKey.coin,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockEarth",{get:function(){return g.default.Get(g.EStorageKey.unlockEarthMax,1)},set:function(t){g.default.Set(g.EStorageKey.unlockEarthMax,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxEarthWithPeopleNum",{get:function(){return Math.ceil(t.Ins.skins.length/(360/f.peopleAngle))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasNoPlacedPeople",{get:function(){return this.unlockEarth<this.maxEarthWithPeopleNum},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"energy",{get:function(){return g.default.Get(g.EStorageKey.energy,n.maxEnergy)},set:function(t){g.default.Set(g.EStorageKey.energy,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"allPass",{get:function(){return g.default.Get(g.EStorageKey.allPass,0)},set:function(t){g.default.Set(g.EStorageKey.allPass,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t,d.AM.updateScale()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unlockPeople",{get:function(){return g.default.Get(g.EStorageKey.unlockPeople,[])},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skins",{get:function(){return g.default.Get(g.EStorageKey.peopleSkins,[1])},enumerable:!1,configurable:!0}),t.prototype.addSkin=function(t){var e=this.skins;e.push(t);var n=this.unlockPeople;n.indexOf(t)<0&&(n.push(t),g.default.Set(g.EStorageKey.unlockPeople,n)),g.default.Set(g.EStorageKey.peopleSkins,e)},t.prototype.removeSkin=function(){var t=this.skins;t.pop(),g.default.Set(g.EStorageKey.peopleSkins,t)},t.prototype.onShowGame=function(){this.scene.onShow()},t.prototype.onHideGame=function(){this.scene.onHide()},t.prototype.pauseFrame=function(t){var e=this,n={frame:0,time:0};this.pauseFrameTween&&this.pauseFrameTween.stop(),this._timeScale=0,this.pauseFrameTween=cc.tween(n).to(1,{time:1},{progress:function(){n.frame++,n.frame>=t&&(e.pauseFrameTween.stop(),e.pauseFrameTween=null,e._timeScale=1)}}).start()},t.prototype.jumpToGame=function(t){this.levelPipe=t,this.jumpToScene(l.game)},t.prototype.finishChallenge=function(t){return a(this,void 0,void 0,function(){return c(this,function(){return m.ChallengeMgr.Ins.finishLevel(t),this.rewardCoin(f.challengeReward),[2]})})},t.prototype.tipEmptyLevel=function(){w.default.getUI(M.default).setData("\u524d\u9762\u7684\u5173\u5361\u4ee5\u540e\u518d\u6765\u63a2\u7d22\u5427\uff01")},t.prototype.getCommonGame=function(){for(var t=s(config.MapLevels.list),e=g.default.Get(g.EStorageKey.finishedLevel,[]),n=function(n){t.splice(t.findIndex(function(t){return t.id==e[n]}),1)},o=0;o<e.length;o++)n(o);if(0==t.length){var r=g.default.Get(g.EStorageKey.randLv1Pool,config.RandLevel1.list.map(function(t){return t.id})),i=g.default.Get(g.EStorageKey.randLv1,C.randomElement(r)),a=g.default.Get(g.EStorageKey.randLv2Pool,config.RandLevel2.list.map(function(t){return t.id})),c=g.default.Get(g.EStorageKey.randLv2,C.randomElement(a));return g.default.Set(g.EStorageKey.randLv1,i),g.default.Set(g.EStorageKey.randLv2,c),g.default.save(),null==i||null==c?new p.CommonLevel([C.randomElement(r),C.randomElement(a)],!0):new p.CommonLevel([i,c],!0)}return new p.CommonLevel([t[0].id],!1)},t.prototype.finishCommonGame=function(t,e){var n=g.default.Get(g.EStorageKey.finishedLevel,[]);if(e){var o=g.default.Get(g.EStorageKey.randLv1Pool,config.RandLevel1.list.map(function(t){return t.id})),r=g.default.Get(g.EStorageKey.randLv2Pool,config.RandLevel2.list.map(function(t){return t.id})),i=o.indexOf(t[0]),a=r.indexOf(t[1]);i>=0&&o.splice(i,1),a>=0&&r.splice(a,1),g.default.Set(g.EStorageKey.randLv1Pool,o),g.default.Set(g.EStorageKey.randLv2Pool,r),g.default.Remove(g.EStorageKey.randLv1),g.default.Remove(g.EStorageKey.randLv2)}else n.indexOf(t[0])<0&&n.push(t[0]),g.default.Set(g.EStorageKey.finishedLevel,n);g.default.save()},t.prototype.getRandSkin=function(t){return void 0===t&&(t=!1),t?Math.random()<.3?C.randomElement(config.PeopleSkin.list.filter(function(t){return 2==t.rare})).id:C.randomElement(config.PeopleSkin.list.filter(function(t){return 1==t.rare})).id:Math.random()<.1?C.randomElement(config.PeopleSkin.list.filter(function(t){return 1==t.rare})).id:C.randomElement(config.PeopleSkin.list.filter(function(t){return 0==t.rare})).id},t.prototype.start=function(){this.isInited=!0,_.default.send(_.E_InitGame),g.default.Get(g.EStorageKey.passTutorial,!1)?(b.default.clear(),cc.director.loadScene(l.home)):(this.levelPipe=new h.TutorialLevel(!1),b.default.clear(),cc.director.loadScene(l.game));var t=v.default.diffTime()/1e3;this.addFakePlayer(Math.floor(t/5)),this.addFakePass(Math.floor(t/20));for(var e=t-this.energyTime,o=0;e>0;)o++,e-=n.maxEnergyTime;this.energyTime=-e,this.energy=Math.min(n.maxEnergy,this.energy+o),m.ChallengeMgr.Ins.loadLevels()},t.prototype.jumpToTutorial=function(t){this.levelPipe=new h.TutorialLevel(t),this.jumpToScene(l.game)},t.prototype.rewardCoin=function(e){t.Ins.coin+=e,_.default.send(_.E_InfoChange)},t.prototype.rewardEnergy=function(e){t.Ins.energy=Math.min(t.Ins.energy+e,n.maxEnergy),_.default.send(_.E_InfoChange)},Object.defineProperty(t.prototype,"playerNum",{get:function(){return g.default.Get(g.EStorageKey.fakePlayerNum,102331)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"passNum",{get:function(){return g.default.Get(g.EStorageKey.fakePassNum,3891)},enumerable:!1,configurable:!0}),t.prototype.addFakePlayer=function(t){var e=this.playerNum;g.default.Set(g.EStorageKey.fakePlayerNum,e+t)},t.prototype.addFakePass=function(t){var e=this.passNum;g.default.Set(g.EStorageKey.fakePassNum,e+t)},t.prototype.update=function(t){this.timer>=this.fakePlayerTimer&&(this.addFakePlayer(Math.floor(60*Math.random()+30)),this.addFakePass(Math.floor(15*Math.random()+5)),this.fakePlayerTimer+=300*Math.random()),this.timer>=this.recordTimer&&(g.default.Set(g.EStorageKey.timeRecord,Date.now()),this.recordTimer+=f.updateRecordInterval),this.timer+=t,this.energyTime-=t,this.energyTime<0&&(this.energyTime+=n.maxEnergyTime,this.energy=Math.min(n.maxEnergy,this.energy+1),_.default.send(_.E_InfoChange),g.default.save()),this.energyTime&&Math.floor(this.timer)>=this.lastTick&&(_.default.send(_.E_Tick),this.lastTick+=1);for(var e=0;e<this.conditionTuple.length;e++){var o=this.conditionTuple[e];try{o.condition()&&o.resolve()}catch(r){this.conditionTuple.splice(this.conditionTuple.indexOf(o),1)}}},t.prototype.jumpToScene=function(t){var e;return a(this,void 0,void 0,function(){return c(this,function(n){switch(n.label){case 0:return O.default.block(),null===(e=w.default.getUI(P.default))||void 0===e||e.show(),[4,I.default.Ins.enterLoading(I.default.Ins.levelLoading)];case 1:return n.sent(),this.scene.clear(),b.default.clear(),cc.director.loadScene(t),[2]}})})},t.prototype.awaitInited=function(){return a(this,void 0,void 0,function(){var t=this;return c(this,function(){return[2,new Promise(function(e){t.isInited?e():_.default.once(_.E_InitGame,function(){return e()},t)})]})})},t.prototype.awaitForCondition=function(t){var e=this;return new Promise(function(n){t()?n():e.conditionTuple.push({condition:t,resolve:n})})},t.prototype.finishEnter=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.showStartLoading?[4,I.default.Ins.exitLoading(I.default.Ins.loading)]:[3,2];case 1:return t.sent(),this.showStartLoading=!1,[3,4];case 2:return[4,I.default.Ins.exitLoading(I.default.Ins.levelLoading)];case 3:t.sent(),t.label=4;case 4:return O.default.unblock(),[2]}})})},t.prototype.enterScene=function(t){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return this.scene=t,[4,y.default.Ins.awaitLoaded()];case 1:return e.sent(),[4,this.scene.load()];case 2:return e.sent(),this.scene.enter(this.finishEnter.bind(this)),[2]}})})},t.prototype.exitScene=function(t){return a(this,void 0,void 0,function(){return c(this,function(){return this.scene.exit(),this.scene==t&&(this.scene=null),[2]})})},t}();n.default=S,window.GM=S,cc._RF.pop()},{"../Const":"Const","../Game/Levels/CommonLevel":"CommonLevel","../Game/Levels/TutorialLevel":"TutorialLevel","../Managers/AnimationManager":"AnimationManager","../Managers/ChallengeMgr":"ChallengeMgr","../Managers/EventCenter":"EventCenter","../Managers/Res":"Res","../Managers/StorageManager":"StorageManager","../TimeUtil":"TimeUtil","../UI/FuiCom":"FuiCom","../UI/UI":"UI","../UI/U_Modal":"U_Modal","../UI/U_TaskTips":"U_TaskTips","../Utils/CocosExtension":"CocosExtension","./Loading":"Loading","./TouchCtrl/Toucher":"Toucher"}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"85d81FAZZlHfIzqL8tg5JIw","Game");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.Game=void 0;var a=i(t("../Controller/GameManager")),c=i(t("../Controller/Loading")),s=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return a.default.Ins.curScene},enumerable:!1,configurable:!0}),Object.defineProperty(t,"home",{get:function(){return a.default.Ins.curScene},enumerable:!1,configurable:!0}),Object.defineProperty(t,"map",{get:function(){return this.Ins.map},enumerable:!1,configurable:!0}),Object.defineProperty(t,"guide",{get:function(){return this.Ins.guide},enumerable:!1,configurable:!0}),t.addStep=function(){this.Ins.step-=5},t.addTime=function(){this.Ins.time-=30},t.reset=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,c.default.Ins.enterLoading(c.default.Ins.levelLoading)];case 1:return t.sent(),this.Ins.reset(),[4,c.default.Ins.exitLoading(c.default.Ins.levelLoading)];case 2:return t.sent(),[2]}})})},t.pause=function(){this.Ins.pause()},t.resume=function(){this.Ins.resume()},t.showGrid=!1,t.isInDebug=!1,t}();n.Game=s,window.Game=s,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Controller/Loading":"Loading"}],GetItemTips:[function(t,e,n){"use strict";cc._RF.push(e,"4ee75WEb5ZENLDzBmh9MgT2","GetItemTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../../Managers/AnimationManager"),c=t("../../Managers/PoolManager"),s=cc._decorator,u=s.ccclass,l=s.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return r(e,t),e.prototype.setData=function(t,e){var n=this;a.AM.play(this.getComponent(cc.Animation),"getItemText"),this.node.opacity=255,this.label.node.color=e,cc.tween(this.node).to(2,{opacity:0}).call(function(){return c.PM.Put(n.node)}).start()},i([l(cc.Label)],e.prototype,"label",void 0),i([u],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Managers/AnimationManager":"AnimationManager","../../Managers/PoolManager":"PoolManager"}],GuideCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"1536c6lVRdBRbnQFY0+Dy23","GuideCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Game/Game"),u=t("../Utils/CocosExtension"),l=cc._decorator,f=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guideTween=null,e}return r(e,t),e.prototype.guideTo=function(t,e){var n=this;return void 0===e&&(e=""),new Promise(function(o){n.maskNode.active=!0;var r=n.node.convertToNodeSpaceAR(s.Game.map.itemNode.convertToWorldSpaceAR(s.Game.map.crd2lp(t)));n.maskNode.position=cc.v3(r).add(cc.v3(0,20,0)),n.maskNode.scale=2,n.maskNode.opacity=0,n.guideTween&&n.guideTween.stop(),n.label.string=e,a(n,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,u.delay(100)];case 1:return t.sent(),this.bgNode.width=this.label.node.width+5,this.bgNode.height=this.label.node.height,[2]}})}),n.guideTween=cc.tween(n.maskNode).to(.6,{scale:1,opacity:255}).start(),s.Game.Ins.crdClickModal(t,function(){n.guideTween.stop(),n.maskNode.active=!1,o()})})},i([p(cc.Node)],e.prototype,"maskNode",void 0),i([p(cc.Label)],e.prototype,"label",void 0),i([p(cc.Node)],e.prototype,"bgNode",void 0),i([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Game/Game":"Game","../Utils/CocosExtension":"CocosExtension"}],GuideManager:[function(t,e){"use strict";cc._RF.push(e,"4c02cTeIKtH8I36gbmUKr3Y","GuideManager"),cc._RF.pop()},{}],HomeBinder:[function(t,e,n){"use strict";cc._RF.push(e,"4b822w1AUlJUYlUnD4Lz0tt","HomeBinder");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./UI_info")),i=o(t("./UI_homeBg")),a=o(t("./UI_lifePicWindow")),c=o(t("./UI_Collection")),s=o(t("./UI_collectionItem")),u=o(t("./UI_TestLevels")),l=o(t("./UI_TestLevelItem")),f=o(t("./UI_debugBtns")),p=o(t("./UI_danmu")),h=o(t("./UI_challengeItem")),d=o(t("./UI_unlockChallenge")),m=o(t("./UI_challenge")),_=o(t("./UI_RankBoard")),y=o(t("./UI_RankItem")),g=o(t("./UI_sidebar")),v=o(t("./UI_headGrp")),b=o(t("./UI_head")),w=o(t("./UI_title")),P=o(t("./UI_Home")),M=o(t("./UI_earthNode")),C=o(t("./UI_earthTips")),I=o(t("./UI_Group")),O=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(r.default.URL,r.default),fgui.UIObjectFactory.setExtension(i.default.URL,i.default),fgui.UIObjectFactory.setExtension(a.default.URL,a.default),fgui.UIObjectFactory.setExtension(c.default.URL,c.default),fgui.UIObjectFactory.setExtension(s.default.URL,s.default),fgui.UIObjectFactory.setExtension(u.default.URL,u.default),fgui.UIObjectFactory.setExtension(l.default.URL,l.default),fgui.UIObjectFactory.setExtension(f.default.URL,f.default),fgui.UIObjectFactory.setExtension(p.default.URL,p.default),fgui.UIObjectFactory.setExtension(h.default.URL,h.default),fgui.UIObjectFactory.setExtension(d.default.URL,d.default),fgui.UIObjectFactory.setExtension(m.default.URL,m.default),fgui.UIObjectFactory.setExtension(_.default.URL,_.default),fgui.UIObjectFactory.setExtension(y.default.URL,y.default),fgui.UIObjectFactory.setExtension(g.default.URL,g.default),fgui.UIObjectFactory.setExtension(v.default.URL,v.default),fgui.UIObjectFactory.setExtension(b.default.URL,b.default),fgui.UIObjectFactory.setExtension(w.default.URL,w.default),fgui.UIObjectFactory.setExtension(P.default.URL,P.default),fgui.UIObjectFactory.setExtension(M.default.URL,M.default),fgui.UIObjectFactory.setExtension(C.default.URL,C.default),fgui.UIObjectFactory.setExtension(I.default.URL,I.default)},t}();n.default=O,cc._RF.pop()},{"./UI_Collection":"UI_Collection","./UI_Group":"UI_Group","./UI_Home":"UI_Home","./UI_RankBoard":"UI_RankBoard","./UI_RankItem":"UI_RankItem","./UI_TestLevelItem":"UI_TestLevelItem","./UI_TestLevels":"UI_TestLevels","./UI_challenge":"UI_challenge","./UI_challengeItem":"UI_challengeItem","./UI_collectionItem":"UI_collectionItem","./UI_danmu":"UI_danmu","./UI_debugBtns":"UI_debugBtns","./UI_earthNode":"UI_earthNode","./UI_earthTips":"UI_earthTips","./UI_head":"UI_head","./UI_headGrp":"UI_headGrp","./UI_homeBg":"UI_homeBg","./UI_info":"UI_info","./UI_lifePicWindow":"UI_lifePicWindow","./UI_sidebar":"UI_sidebar","./UI_title":"UI_title","./UI_unlockChallenge":"UI_unlockChallenge"}],HomeCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"9f767eqsYZNe7s6xZ8Ft3hj","HomeCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=t("../Const"),h=f(t("../Controller/Earth")),d=s(t("../Controller/GameManager")),m=f(t("../Controller/SceneCtrl")),_=t("../Managers/PlatformManager"),y=f(t("../Managers/Res")),g=t("../Managers/SoundManager"),v=t("../UI/FairyUI/U_Group"),b=f(t("../UI/FairyUI/U_Home")),w=f(t("../UI/FairyUI/U_TestLevels")),P=f(t("../UI/FairyUI/U_TouchPad")),M=f(t("../UI/FuiCom")),C=f(t("../UI/UI")),I=f(t("../UI/U_AdTips")),O=f(t("../UI/U_Challenge")),S=f(t("../UI/U_Collection")),U=f(t("../UI/U_GetCoin")),j=f(t("../UI/U_GetEnergy")),T=t("../UI/U_LifePicWindow"),R=f(t("../UI/U_Modal")),E=f(t("../UI/U_ShareVideo")),A=f(t("../UI/U_SideBar")),k=f(t("../UI/U_TaskTips")),x=cc._decorator,G=x.ccclass,L=x.property,F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.earths=[],e.earthIdx=0,e._playedMiniGameFlag=!1,e}return r(e,t),Object.defineProperty(e.prototype,"fairyUI",{get:function(){return[P.default,b.default,k.default,O.default,j.default,U.default,E.default,w.default,A.default,v.U_Group,S.default,T.U_LifePicWindow,I.default,R.default]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxEarthIdx",{get:function(){return h.default.getEarthNum()},enumerable:!1,configurable:!0}),e.prototype.enter=function(t){return void 0===t&&(t=null),u(this,void 0,void 0,function(){var e,n;return l(this,function(){return _.platformMix.showCustomBtn(),e=C.default.getUI(b.default).view,p.peopleAngle,this.earthIdx=Math.min(d.default.Ins.unlockEarth-1,h.default.getEarthNum()-1),n=h.default.generateTo(e.m_animNode.m_animNode.displayListContainer,h.default.getSkins(this.earthIdx)),this.earths.push(n),n.setEarthSkin(this.earthIdx%4+1),g.SM.playMusic(g.SoundType.Bgm1),C.default.getUI(b.default).refresh(),t&&t(),[2]})})},e.prototype.clearEarth=function(){this.earths.forEach(function(t){return t.clear()}),this.earths=[]},e.prototype.addEarth=function(t,e){var n=d.default.Ins.unlockEarth,o=null;if(h.default.getSkins(e-1).length<=0||e>n)return!1;e==n?(o=h.default.generateTo(t.m_animNode.displayListContainer,[]),t.m_confirm.visible=!0):(o=h.default.generateTo(t.m_animNode.displayListContainer,h.default.getSkins(e)),t.m_confirm.visible=!1);var r=e%4+1;return o.setEarthSkin(r),o&&this.earths.push(o),!0},e.prototype.removeEarth=function(t){var e=this.earths.findIndex(function(e){return e.node.parent==t});e>=0&&(this.earths[e].clear(),this.earths.splice(e,1))},e.prototype.loadMiniScene=function(){return u(this,void 0,void 0,function(){var t,e=this;return l(this,function(n){switch(n.label){case 0:return[4,y.default.Ins.loadAsset("miniGamePackage","scene/MiniGame",cc.SceneAsset)];case 1:return(t=n.sent())&&t.isValid&&(this._playedMiniGameFlag=!0,cc.director.on("closeMiniGame",function(){return u(e,void 0,void 0,function(){return l(this,function(e){switch(e.label){case 0:return cc.director.off("closeMiniGame"),t.destroy(),[4,d.default.Ins.jumpToScene(d.SceneName.home)];case 1:return e.sent(),[2]}})})}),cc.director.on("hideLoadingUI",function(){cc.director.off("hideLoadingUI")}),d.default.Ins.curScene.clear(),M.default.clear(),cc.director.runScene(t)),[2]}})})},e.prototype.onShow=function(){console.log("back to Game: home"),g.SM.stopMusic(),g.SM.activeMusic&&g.SM.playMusic(g.SoundType.Bgm1)},e.prototype.onHide=function(){g.SM.stopMusic()},e.prototype.exit=function(){g.SM.stopMusic()},c([L(cc.Node)],e.prototype,"peopleFolder",void 0),c([L(cc.SceneAsset)],e.prototype,"miniGameScene",void 0),c([G],e)}(m.default);n.default=F,cc._RF.pop()},{"../Const":"Const","../Controller/Earth":"Earth","../Controller/GameManager":"GameManager","../Controller/SceneCtrl":"SceneCtrl","../Managers/PlatformManager":"PlatformManager","../Managers/Res":"Res","../Managers/SoundManager":"SoundManager","../UI/FairyUI/U_Group":"U_Group","../UI/FairyUI/U_Home":"U_Home","../UI/FairyUI/U_TestLevels":"U_TestLevels","../UI/FairyUI/U_TouchPad":"U_TouchPad","../UI/FuiCom":"FuiCom","../UI/UI":"UI","../UI/U_AdTips":"U_AdTips","../UI/U_Challenge":"U_Challenge","../UI/U_Collection":"U_Collection","../UI/U_GetCoin":"U_GetCoin","../UI/U_GetEnergy":"U_GetEnergy","../UI/U_LifePicWindow":"U_LifePicWindow","../UI/U_Modal":"U_Modal","../UI/U_ShareVideo":"U_ShareVideo","../UI/U_SideBar":"U_SideBar","../UI/U_TaskTips":"U_TaskTips"}],LeaderBoard:[function(t,e,n){"use strict";cc._RF.push(e,"fa97f/sswpHsaeB/0tnUgyd","LeaderBoard"),Object.defineProperty(n,"__esModule",{value:!0}),n.LeaderBoard=void 0;var o=function(){function t(){}return t.getData=function(){return tang.leaderboard.getRanks({name:"Rank",min:1,max:30,includeMe:!0})},t.setData=function(t,e){tang.leaderboard.upload({name:"Rank",score:t,sortType:tang.leaderboard.SortType.desc,info:e})},t}();n.LeaderBoard=o,cc._RF.pop()},{}],LevelCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"6dfea0DLmJDpoRX3T0adtOa","LevelCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.MiniGameTouchCtrl=void 0;var p=t("../Const"),h=f(t("../Controller/GameManager")),d=f(t("../Controller/GuideCtrl")),m=f(t("../Controller/SceneCtrl")),_=f(t("../Controller/TouchCtrl/Toucher")),y=f(t("../Managers/EffectManager")),g=s(t("../Managers/EventCenter")),v=t("../Managers/PlatformManager"),b=t("../Managers/SoundManager"),w=s(t("../Managers/StorageManager")),P=f(t("../UI/FairyUI/U_PropTips")),M=f(t("../UI/FairyUI/U_TouchPad")),C=f(t("../UI/FairyUI/U_WinTutorial")),I=f(t("../UI/UI")),O=f(t("../UI/U_AdTips")),S=f(t("../UI/U_EndPanel")),U=f(t("../UI/U_Game")),j=f(t("../UI/U_GetCoin")),T=f(t("../UI/U_GetEnergy")),R=t("../UI/U_GetSuperReward"),E=f(t("../UI/U_Lose")),A=f(t("../UI/U_Modal")),k=f(t("../UI/U_ShareVideo")),x=f(t("../UI/U_TaskTips")),G=f(t("../UI/U_Win")),L=t("../Utils/CocosExtension"),F=t("./Game"),D=f(t("./MapCtrl")),N=cc._decorator,B=N.ccclass,H=N.property,K=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tgaData=null,e.step=0,e.stepPropNum=p.StepAddNum,e.time=0,e.levelId=0,e.isStart=!1,e.maxLevelOrder=2,e.isStarted=!1,e.endGame=!1,e.endTouch=!1,e.isInToturial=!1,e.hasGetRewardChoice=!0,e.isPause=!1,e.finishedPeople=[],e.rewardSkinCfgId=0,e.modalCrd=null,e.movingPeople=[],e}return r(e,t),e.prototype.onLoad=function(){var e=t.prototype.onLoad.call(this);return this.effect.setCompleteListener(function(){return b.SM.playEffect(b.SoundType.Fireworks)}),e},Object.defineProperty(e.prototype,"fairyUI",{get:function(){return[M.default,U.default,G.default,E.default,C.default,P.default,T.default,x.default,j.default,S.default,R.U_GetSuperReward,k.default,O.default,A.default]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"peopleNum",{get:function(){return this.map.peoples.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"finishedPeopleNum",{get:function(){return this.finishedPeople.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxStep",{get:function(){return this.pipe.maxStep},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"remainStep",{get:function(){return Math.max(0,this.maxStep-this.step)},enumerable:!1,configurable:!0}),e.prototype.enter=function(t){void 0===t&&(t=null),this.gameToucher=new W(this),_.default.bindToucher(this.gameToucher),this.startGame(),b.SM.playMusic(b.SoundType.Bgm2),v.platformMix.hideCustomBtn(),t&&t()},e.prototype.recordTGA=function(){this.tgaData&&(this.tgaData.levelStep=this.step,this.tgaData.levelTime=this.time)},e.prototype.initGameInfo=function(){this.tgaData={levelStep:0,levelTime:0,attempts:1,prop1:0,prop2:0,finishs:0},this.clearCrdModal(),this.isStart=!1,this.endGame=!1,this.stepPropNum=p.StepAddNum,this.movingPeople=[],this.step=this.time=0,this.isStarted=!0,this.finishedPeople=[]},e.prototype.startGame=function(){return u(this,void 0,void 0,function(){return l(this,function(){return this.pipe=h.default.Ins.levelPipe,this.pipe.start(),[2]})})},e.prototype.randGame=function(){return u(this,void 0,void 0,function(){return l(this,function(){return this.pipe.rand(),[2]})})},e.prototype.reset=function(){this.cancelSelectPeople(),this.initGameInfo(),this.endTouch=!1,this.map.clear(),this.map.init();for(var t=0;t<this.map.peoples.length;t++)if(!(Math.random()>.65)){var e=this.map.peoples[t];e.isFinish?L.randomElement(e.finishView)():L.randomElement(e.noFinishView)()}g.default.send(g.E_RefreshUI),this.recordTGA()},e.prototype.exit=function(){b.SM.stopMusic(),_.default.unbindToucher(this.gameToucher)},e.prototype.exitLevel=function(){this.endGame=!0},e.prototype.pause=function(){this.isPause=!0},e.prototype.resume=function(){this.isPause=!1},e.prototype.continue=function(){this.endGame=!1,I.default.getUI(E.default).hide(),this.resume(),this.endTouch=!1,_.default.unblock()},e.prototype.finishPeople=function(t){this.finishedPeople.includes(t)||this.finishedPeople.push(t)},e.prototype.jumpToSeat=function(){if(this.selectedPeople){var t=this.map.seatCrd2Crd(this.selectedPeople.targetSeatCrd);this.map.isInScreen(t).equals(cc.v2())||F.Game.map.moveFocusTo(t)}},e.prototype.judge=function(){this.movingPeople.length>0||(this.isWin?this.win():this.isLose&&this.lose())},e.prototype.unfinishPeople=function(t){var e=this.finishedPeople.indexOf(t);e>=0&&this.finishedPeople.splice(e,1)},e.prototype.win=function(){return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return this.tgaData.finishs=1,_.default.block(),this.cancelSelectPeople(),this.effect.node.active=!0,this.effect.setAnimation(0,"confetti2",!0),b.SM.playEffect(b.SoundType.Fireworks),this.endGame=!0,this.isInToturial&&(w.default.Set(w.EStorageKey.passTutorial,!0),w.default.save()),b.SM.playEffect(b.SoundType.Yeah),this.map.peoples.forEach(function(t){L.randomElement(t.finishView)(),t.setHappy()}),g.default.send(g.E_FinishLevel),this.recordTGA(),h.default.Ins.isShake&&v.platformMix.shake(!1,v.ShakeType.MEDIUM),this.pipe.winLevel(),[4,this.map.exitLevel()];case 1:return t.sent(),this.finishLevel(),[2]}})})},e.prototype.rewardSkin=function(t){var e=h.default.Ins.getRandSkin(t);this.rewardSkinCfgId=e,h.default.Ins.addSkin(e)},e.prototype.finishLevel=function(){return u(this,void 0,void 0,function(){return l(this,function(){return this.pipe.finishLevel(),[2]})})},e.prototype.lose=function(){_.default.block(),this.endGame=!0,this.map.peoples.forEach(function(t){return L.randomElement(t.noFinishView)()}),this.recordTGA(),I.default.getUI(E.default).show(),this.pipe.loseLevel()},Object.defineProperty(e.prototype,"isWin",{get:function(){return this.finishedPeople.length==this.map.peoples.length&&0==this.movingPeople.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLose",{get:function(){return this.remainStep<=0},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this.isLoaded&&this.isStart&&this.isStarted&&!this.endGame&&!this.isPause&&(this.time+=t,this.refreshUI())},e.prototype.refreshUI=function(){g.default.send(g.E_RefreshUI)},e.prototype.crdClickModal=function(t,e){this.modalCrd=t,this.modalCrdFunc=e},e.prototype.clearCrdModal=function(){this.modalCrd=null,this.modalCrdFunc=null},e.prototype.onClick=function(t){return u(this,void 0,void 0,function(){var e,n,o,r,i;return l(this,function(a){switch(a.label){case 0:if(e=this.map.sp2crd(t),!this.map.validCrd(e))return[2];if(n=this.map.findPeople(e),o=this.map.findSeat(e),this.endTouch)return[2];if(this.modalCrd){if(!e.equals(this.modalCrd))return[2];this.modalCrdFunc&&this.modalCrdFunc(),this.modalCrd=null,this.modalCrdFunc=null}return n?n.isLock?[2]:(this.cancelSelectPeople(),this.selectPeople(n),[3,6]):[3,1];case 1:return this.selectedPeople?(this.isInToturial&&this.tutorialLine.active&&this.selectedPeople.crd.equals(cc.v2(2,4))&&(this.tutorialLine.active=!1),r=this.selectedPeople,this.cancelSelectPeople(),g.default.send(g.E_MoveMap),I.default.getUI(U.default).playStep(),i=this.map.crd2lp(e),b.SM.playEffect(b.SoundType.Dong),y.default.animPrefab("flag",this.map.root,i,null),r.canArrive(e)?(this.step++,g.default.send(g.E_MovePeople),this.map.seatCrd2Crd(r.targetSeatCrd).equals(e)?this.finishPeople(r):this.unfinishPeople(r),(this.isWin||this.isLose)&&(this.endTouch=!0),[4,r.moveToCrd(e)]):[3,3]):[3,5];case 2:return a.sent(),[3,4];case 3:r.cantTips(),a.label=4;case 4:return[3,6];case 5:o?o.shake():y.default.animSpinePrefab("dust1",this.map.itemNode,this.map.crd2lp(e),null),a.label=6;case 6:return[2]}})})},e.prototype.move=function(t){return this.map.moveDelta(t)},e.prototype.onShow=function(){b.SM.stopMusic(),b.SM.activeMusic&&b.SM.playMusic(b.SoundType.Bgm2),console.log("back to Game: level")},e.prototype.onHide=function(){b.SM.stopMusic()},e.prototype.selectPeople=function(t){this.isStart||(this.isStart=!0,g.default.send(g.E_StartGame)),this.cancelSelectPeople(),this.selectedPeople=t;var e=this.map.seatCrd2Crd(t.targetSeatCrd);this.map.showAllPath(t.crd,e),this.selectedPeople.v_selected(),t.anim.play(),this.map.findSeat(e).highlight(),h.default.Ins.isShake&&L.shake(!1,v.ShakeType.LIGHT),b.SM.playEffect(L.randomElement([b.SoundType.Dialog1,b.SoundType.Dialog2,b.SoundType.Dialog3])),g.default.send(g.E_MoveMap)},e.prototype.cancelSelectPeople=function(){var t;if(this.selectedPeople){null===(t=this.selectedPeople)||void 0===t||t.v_cancelSelected();var e=this.map.seatCrd2Crd(this.selectedPeople.targetSeatCrd);this.map.findSeat(e).cancelHighLight()}this.selectedPeople=null,this.map.clearAllPathPoints()},c([H(D.default)],e.prototype,"map",void 0),c([H(d.default)],e.prototype,"guide",void 0),c([H(cc.Node)],e.prototype,"tutorialLine",void 0),c([H(cc.Node)],e.prototype,"tutorialLine2",void 0),c([H(cc.Node)],e.prototype,"tutorialMask",void 0),c([H(sp.Skeleton)],e.prototype,"effect",void 0),c([B],e)}(m.default);n.default=K;var W=function(){function t(t){this.isMove=!1,this.allDelta=cc.v2(),this.deltaMax=5,this.isBlock=!1,this.levelCtrl=t}return t.prototype.onEnd=function(t){this.isBlock||(this.isMove||this.levelCtrl.onClick(t),this.isMove=!1,this.allDelta=cc.v2())},t.prototype.onMove=function(t,e){this.isBlock||(this.isMove||this.allDelta.addSelf(e),(this.isMove||this.allDelta.mag()>=this.deltaMax)&&F.Game.Ins.move(e)&&(this.isMove=!0),this.allDelta.mag()>=10*this.deltaMax&&(this.isMove=!0))},t.prototype.onTouch=function(){},t.prototype.block=function(){this.isBlock=!0},t.prototype.unblock=function(){this.isBlock=!1},t}();n.MiniGameTouchCtrl=W,cc._RF.pop()},{"../Const":"Const","../Controller/GameManager":"GameManager","../Controller/GuideCtrl":"GuideCtrl","../Controller/SceneCtrl":"SceneCtrl","../Controller/TouchCtrl/Toucher":"Toucher","../Managers/EffectManager":"EffectManager","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Managers/SoundManager":"SoundManager","../Managers/StorageManager":"StorageManager","../UI/FairyUI/U_PropTips":"U_PropTips","../UI/FairyUI/U_TouchPad":"U_TouchPad","../UI/FairyUI/U_WinTutorial":"U_WinTutorial","../UI/UI":"UI","../UI/U_AdTips":"U_AdTips","../UI/U_EndPanel":"U_EndPanel","../UI/U_Game":"U_Game","../UI/U_GetCoin":"U_GetCoin","../UI/U_GetEnergy":"U_GetEnergy","../UI/U_GetSuperReward":"U_GetSuperReward","../UI/U_Lose":"U_Lose","../UI/U_Modal":"U_Modal","../UI/U_ShareVideo":"U_ShareVideo","../UI/U_TaskTips":"U_TaskTips","../UI/U_Win":"U_Win","../Utils/CocosExtension":"CocosExtension","./Game":"Game","./MapCtrl":"MapCtrl"}],LevelLoading:[function(t,e,n){"use strict";cc._RF.push(e,"97489+UQD9FJJ3MDZCtCPET","LevelLoading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return r(e,t),e.prototype.start=function(){},i([s(cc.Label)],e.prototype,"label",void 0),i([s],e.prototype,"text",void 0),i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],LevelPipe:[function(t,e,n){"use strict";cc._RF.push(e,"74fa4S4pRRNOIGAv56+d/dS","LevelPipe"),Object.defineProperty(n,"__esModule",{value:!0}),n.LevelPipe=void 0;var o=t("../Game"),r=function(){function t(){this.levelIdx=0}return Object.defineProperty(t.prototype,"curLevel",{get:function(){return this.info.level[this.levelIdx]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxStep",{get:function(){return this.info.step[this.levelIdx]},enumerable:!1,configurable:!0}),t.prototype.load=function(t){this.info=t},t.prototype.start=function(){o.Game.Ins.initGameInfo(),o.Game.Ins.endTouch=!1,o.Game.Ins.effect.node.active=!1},t.prototype.winLevel=function(){},t.prototype.rand=function(){},t.prototype.loseLevel=function(){},t.prototype.finishLevel=function(){o.Game.Ins.effect.node.active=!1,this.finishAll()},t.prototype.finishAll=function(){},t}();n.LevelPipe=r,cc._RF.pop()},{"../Game":"Game"}],Loading:[function(t,e,n){"use strict";cc._RF.push(e,"2e219oVelxIxrSJONT3u53L","Loading");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=t("@hortor/cc2-runtime"),h=t("../Managers/PlatformManager"),d=t("../Managers/PoolManager"),m=s(t("../Managers/StorageManager")),_=f(t("./GameManager")),y=cc._decorator,g=y.ccclass,v=y.property,b=function(t){function e(){var e=t.call(this)||this;return e.loading=null,e.isInEnter=!1,e.policyInited=!1,e.isFinishProgress=!1,e.progressValue=0,e.progressResolve=null,e.resolveFunc=null,n.instance=e,e}var n;return r(e,t),n=e,Object.defineProperty(e,"Ins",{get:function(){return this.instance},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){window.GAME_CDNS&&p.setAssetRemotes(JSON.parse(GAME_CDNS))},e.prototype.showBtn=function(){this.startBtn.active=!0},e.prototype.hideBtn=function(){this.startBtn.active=!1},e.prototype.onClickStart=function(){var t,e=this;this.hidePolicy(),h.Plat.confirmPrivacy?(this.hideBtn(),m.default.Set(m.EStorageKey.agreePrivacy,!0),m.default.save(),_.default.Ins.start()):(null===(t=this.tipsTween)||void 0===t||t.stop(),this.tips.opacity=255,this.tipsTween=cc.tween(this.tips).delay(.5).to(.5,{opacity:0}).call(function(){return e.tipsTween=null}).start())},e.prototype.initPolicy=function(){return u(this,void 0,void 0,function(){var t,e,n,o;return l(this,function(r){switch(r.label){case 0:return[4,h.platformMix.getProtocolText()];case 1:return t=r.sent(),n=(e=function(t){return t.replaceAll("<p>","").replaceAll("</p>","\n").replaceAll("<b>","").replaceAll("</b>","\n").replaceAll("<span>","").replaceAll("</span>","").replaceAll('<a href="',"").replaceAll('" target="_blank">',"").replaceAll("<br />","\n").replaceAll("</a>","\n")})(t.privacyPolicyText),o=e(t.userPolicyText),this.privacyPolicyText=this.splitLongString(n,1e3),this.userPolicyText=this.splitLongString(o,1e3),(h.Plat.confirmPrivacy=m.default.Get(m.EStorageKey.agreePrivacy,!1))&&(this.policyToggle.isChecked=!0),this.policyInited=!0,console.log("\u83b7\u53d6\u9690\u79c1\u6743\u9650\uff1a",this.privacyPolicyText.length," ",this.userPolicyText.length),[2]}})})},e.prototype.setPolicyTxt=function(t){return u(this,void 0,void 0,function(){var e,n,o,r;return l(this,function(){for(e=[],o=0;o<this.content.childrenCount;o++)e.push(this.content.children[o]);for(e.forEach(function(t){return d.PM.Put(t)}),n=0,o=0;o<t.length;o++)(r=d.PM.Get(this.policyTxtPrefab).getComponent(cc.Label)).string=t[o],r.node.setParent(this.content),r.node.x=0,n+=r.node.height;return this.scrollView.scrollToTop(),this.content.height=n,[2]})})},e.prototype.splitLongString=function(t,e){if(void 0===e&&(e=1e3),t.length<=e)return[t];for(var n=[],o=0;o<t.length;o+=e)n.push(t.slice(o,o+e));return n},e.prototype.onClickPrivacy=function(){h.Plat.confirmPrivacy=!h.Plat.confirmPrivacy},e.prototype.onShowUserPolicy=function(){this.policyInited&&(this.setPolicyTxt(this.userPolicyText),console.log(this.userPolicyText),this.policyView.active=!0)},e.prototype.onShowPrivacyPolicy=function(){this.policyInited&&(this.setPolicyTxt(this.privacyPolicyText),console.log(this.privacyPolicyText),this.policyView.active=!0)},e.prototype.hidePolicy=function(){this.policyView.active=!1},e.prototype.enterLoading=function(t){var e=this;return new Promise(function(n){return u(e,void 0,void 0,function(){var e,o=this;return l(this,function(){return e=t.getComponent(cc.Animation),t.active=!0,e.play("enter"),this.isInEnter=!0,e.once(cc.Animation.EventType.FINISHED,function(){e.play("idle"),o.isInEnter=!1,n()}),[2]})})})},e.prototype.idleLoading=function(t){t.active=!0,t.getComponent(cc.Animation).play("idle")},e.prototype.exitLoading=function(t){return u(this,void 0,void 0,function(){var e,n=this;return l(this,function(o){switch(o.label){case 0:return[4,this.awaitForEnter()];case 1:return o.sent(),(e=t.getComponent(cc.Animation)).play("exit"),e.once(cc.Animation.EventType.FINISHED,function(){e.play("wait"),n.isInEnter=!1}),[2]}})})},e.prototype.startProgress=function(){this.isFinishProgress=!1,this.progressValue=0},e.prototype.finishProgress=function(){this.isFinishProgress=!0},e.prototype.awaitEndProgress=function(){var t=this;return new Promise(function(e){t.isFinishProgress&&t.progressValue>=1?e():t.progressResolve=e})},e.prototype.awaitForEnter=function(){var t=this;return new Promise(function(e){t.isInEnter?t.resolveFunc=e:e()})},e.prototype.update=function(t){this.isInEnter||(this.resolveFunc&&this.resolveFunc(),this.resolveFunc=null),this.loadingLbl&&(this.loadingLbl.string="\u52a0\u8f7d\u4e2d"),this.isFinishProgress?this.progressValue=Math.min(this.progressValue+5*t,1):this.progressValue=cc.misc.lerp(this.progressValue,.8,t),this.progressValue>=1&&(this.progressResolve&&this.progressResolve(),this.loadingLbl.string="\u52a0\u8f7d\u5b8c\u6210",this.progressResolve=null),this.progress&&(this.progress.fillRange=this.progressValue)},c([v(cc.Node)],e.prototype,"loading",void 0),c([v(cc.Sprite)],e.prototype,"progress",void 0),c([v(cc.Node)],e.prototype,"levelLoading",void 0),c([v(cc.Node)],e.prototype,"warnLoading",void 0),c([v(cc.Node)],e.prototype,"startBtn",void 0),c([v(cc.Label)],e.prototype,"loadingLbl",void 0),c([v(cc.Node)],e.prototype,"tips",void 0),c([v(cc.Node)],e.prototype,"policyToggleNode",void 0),c([v(cc.Node)],e.prototype,"policyView",void 0),c([v(cc.Node)],e.prototype,"content",void 0),c([v(cc.Prefab)],e.prototype,"policyTxtPrefab",void 0),c([v(cc.ScrollView)],e.prototype,"scrollView",void 0),c([v(cc.Toggle)],e.prototype,"policyToggle",void 0),n=c([g],e)}(cc.Component);n.default=b,window.Loading=b,cc._RF.pop()},{"../Managers/PlatformManager":"PlatformManager","../Managers/PoolManager":"PoolManager","../Managers/StorageManager":"StorageManager","./GameManager":"GameManager","@hortor/cc2-runtime":1}],LoginManager:[function(t,e,n){"use strict";cc._RF.push(e,"2b00aNS10ZFZKkQ80BH7RnL","LoginManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./PlatformManager"),a=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return t.$instance||(t.$instance=new t),t.$instance},enumerable:!1,configurable:!0}),t.prototype.login=function(){return o(this,void 0,Promise,function(){return r(this,function(){return[2,!0]})})},t.prototype.syncPlatformInfo=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.prototype.platformLogin=function(){return o(this,void 0,Promise,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,i.platformMix.weakLogin()];case 1:return t=e.sent(),[2,JSON.stringify(t.user)]}})})},t}();n.default=a,cc._RF.pop()},{"./PlatformManager":"PlatformManager"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"b337eFk2g5F/YF1/8hzhcIz","Main");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("./Const"),l=s(t("./Controller/GameManager")),f=s(t("./Controller/Loading")),p=t("./Managers/GameConfig"),h=s(t("./Managers/LoginManager")),d=t("./Managers/PlatformManager"),m=s(t("./Managers/Res")),_=s(t("./Managers/StorageManager")),y=s(t("./ui_gen/Common/CommonBinder")),g=cc._decorator,v=g.ccclass,b=g.property,w=g.menu,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=null,e}return r(e,t),e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return cc.game.addPersistRootNode(this.node),cc.dynamicAtlasManager&&(cc.dynamicAtlasManager.enabled=!1),this.loading.startBtn.active=!1,console.warn("\u5f00\u59cb\u521d\u59cb\u5316"),[4,this.init()];case 1:return t.sent(),console.warn("\u5f00\u59cb\u767b\u5f55\uff08main)"),[4,this.login()];case 2:return t.sent(),[4,this.load()];case 3:return t.sent(),[2]}})})},e.prototype.load=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,_.default.load()];case 1:return t.sent(),this.loading.hideBtn(),this.loading.idleLoading(this.loading.loading),this.loading.startProgress(),this.loading.initPolicy(),[4,m.default.Ins.load()];case 2:return t.sent(),[4,this.loadFui()];case 3:return t.sent(),this.loading.finishProgress(),[4,this.loading.awaitEndProgress()];case 4:return t.sent(),this.loading.showBtn(),[2]}})})},e.prototype.loadFui=function(){return a(this,void 0,void 0,function(){return c(this,function(){return[2,new Promise(function(t){fairygui.UIPackage.loadPackage(""+u.fuiPath+u.commonFuiPkg,function(){y.default.bindAll(),t()})})]})})},e.prototype.update=function(t){l.default.Ins.isInited&&l.default.Ins.update(t)},e.prototype.login=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return[4,h.default.instance.login()];case 1:return t.sent(),[2]}})})},e.prototype.init=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return p.GameConfig.init(),[4,d.Plat.initialize()];case 1:return t.sent(),[2]}})})},i([b(f.default)],e.prototype,"loading",void 0),i([v,w("Main/main")],e)}(cc.Component);n.default=P;var M=!1;if(cc.sys.os===cc.sys.OS_IOS||cc.sys.os===cc.sys.OS_OSX){var C=cc.sys.platform===cc.sys.WECHAT_GAME;if(C?null===GameGlobal||void 0===GameGlobal?void 0:GameGlobal.isIOSHighPerformanceMode:cc.sys.isBrowser){var I=window.navigator.userAgent.match(/((OS )|(Version\/))(\d+)(\.(\d+))?/);if(I){var O=+I[4]||0,S=+I[6]||0;cc.macro.ENABLE_WEBGL_ANTIALIAS=14===O,M=C?14===O||15===O&&S<4:14===O}}}cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){M?(cc.MeshBuffer.prototype.checkAndSwitchBuffer=function(t){this.vertexOffset+t>65535&&(this.uploadData(),this._batcher._flush())},cc.MeshBuffer.prototype.forwardIndiceStartToOffset=function(){this.uploadData(),this.switchBuffer()}):(cc.MeshBuffer.prototype.checkAndSwitchBuffer=function(t){this.vertexOffset+t>65535&&(this.uploadData(),this._batcher._flush(),this.switchBuffer())},cc.MeshBuffer.prototype.forwardIndiceStartToOffset=function(){this.indiceStart=this.indiceOffset})}),cc._RF.pop()},{"./Const":"Const","./Controller/GameManager":"GameManager","./Controller/Loading":"Loading","./Managers/GameConfig":"GameConfig","./Managers/LoginManager":"LoginManager","./Managers/PlatformManager":"PlatformManager","./Managers/Res":"Res","./Managers/StorageManager":"StorageManager","./ui_gen/Common/CommonBinder":"CommonBinder"}],MapCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"91577LPJfdDTJfwtPOwRMcF","MapCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o},p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.PathInfo=void 0;var h=t("../Const"),d=s(t("../Managers/EventCenter")),m=t("../Managers/PoolManager"),_=p(t("../Managers/Res")),y=t("../Managers/SoundManager"),g=p(t("../UI/UI")),v=p(t("../UI/U_Game")),b=t("../Utils/CocosExtension"),w=t("./Game"),P=p(t("./People")),M=p(t("./RandMap")),C=p(t("./Seat")),I=["#2CD73D01","#D7BF2C01","#D72CAB01","#4095B301","#C4AB6301","#9F4C4E01","#7F3D9601","#966A3D01","#3D8D9601"],O=cc._decorator,S=O.ccclass,U=O.property,j=cc.v2(108,90),T="A".charCodeAt(0),R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level=0,e.peoples=[],e.seats=[],e.displayObjs=[],e.cameraTween=null,e.pathPoints=[],e.isShowPathPoint=!1,e}var n;return r(e,t),n=e,Object.defineProperty(e.prototype,"screenSize",{get:function(){var t=cc.view.getVisibleSize();return cc.v2(t.width,t.height)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UIBottom",{get:function(){return g.default.getUI(v.default).view.m_bottomUIPos.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"UITop",{get:function(){return g.default.getUI(v.default).view.m_topUIPos.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"busCfg",{get:function(){return config.Bus.getById(this.getBusIdByMap(this.map.colSize,this.map.rowSize))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"busWidth",{get:function(){return this.map.colSize*j.x+this.busCfg.extraWid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"busHeight",{get:function(){return this.map.rowSize*j.y+this.busCfg.extraHei},enumerable:!1,configurable:!0}),e.prototype.loadLevel=function(t){this.level=t,this.isChallenge=!1;var e=_.default.Ins.getMapAsset(t);g.default.getUI(v.default).updateLevelTips(t),this.map=n.parse(e.text),M.default.randMap(this.map.peopleMat,h.commonRand)},e.prototype.loadChallenge=function(t){this.level=t[0],this.isChallenge=!0;for(var e=[],o=0;o<t.length;o++){var r=t[o],i=_.default.Ins.getMapAsset(r);g.default.getUI(v.default).updateLevelTips(r),e.push(n.parse(i.text))}var a=this.combineMap(e);this.map=a,M.default.randMap(this.map.peopleMat,h.challengeRand)},e.prototype.enterLevel=function(){return u(this,void 0,void 0,function(){var t,e=this;return l(this,function(n){switch(n.label){case 0:return this.busCeil.opacity=255,this.busCeil.active=!0,[4,this.awaitAnim("idle")];case 1:return n.sent(),this.root.scale=.3,t=this.getScaleByMap(this.map.colSize,this.map.rowSize),[4,new Promise(function(n){return cc.tween(e.root).to(1,{scale:t}).call(function(){return n()}).start()})];case 2:return n.sent(),[4,new Promise(function(t){return cc.tween(e.busCeil).to(.5,{opacity:0}).call(function(){return t()}).start()})];case 3:return n.sent(),[2]}})})},e.prototype.exitLevel=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(e){switch(e.label){case 0:return[4,b.delay(1e3)];case 1:return e.sent(),new Promise(function(e){return cc.tween(t.busCeil).to(.5,{opacity:255}).call(function(){return e()}).start()}),y.SM.playEffect(this.busCfg.sound),[4,this.awaitAnim("takeApart")];case 2:return e.sent(),[2]}})})},e.prototype.awaitAnim=function(t){return u(this,void 0,void 0,function(){var e=this;return l(this,function(){return[2,new Promise(function(n){e.anim.play(t),e.anim.once(cc.Animation.EventType.FINISHED,function(){n()})})]})})},e.prototype.clearChildren=function(t){for(var e=[],n=0;n<t.childrenCount;n++)e.push(t.children[n]);e.forEach(function(t){return t.destroy()})},e.prototype.isInScreen=function(t){var e=this.sp2crd(cc.v2(0,this.screenSize.y-this.UIBottom)),n=this.sp2crd(cc.v2(this.screenSize.x,this.screenSize.y-this.UITop)),o=cc.v2();return t.x<e.x?o.x=-1:t.x>n.x?o.x=1:t.y>e.y?o.y=-1:t.y<n.y&&(o.y=1),o},e.prototype.testPeople=function(){for(var t=0;t<this.peoples.length;t++){var e=this.peoples[t],n=this.seatCrd2Crd(e.targetSeatCrd);this.findSeat(n)||console.error("lv",this.level,":\u627e\u4e0d\u5230\u76ee\u6807\u5ea7\u4f4d\uff1a",e.crd.x,e.crd.y," \u76ee\u6807\uff1a",n.x,n.y)}},e.prototype.isInFullScreen=function(t){var e=this.sp2crd(cc.v2(0,0)),n=this.sp2crd(cc.v2(this.screenSize.x,this.screenSize.y)),o=cc.v2();return t.x<e.x?o.x=-1:t.x>n.x?o.x=1:t.y>e.y?o.y=-1:t.y<n.y&&(o.y=1),o},e.prototype.init=function(){this.displayObjs.forEach(function(t){return t.clearDisplay()}),this.displayObjs=[],this.clearChildren(this.peopleNode),this.clearChildren(this.seatsNode),this.clearChildren(this.rowColLabel),this.clearChildren(this.labelBottom),this.clearChildren(this.seatLabel),this.generate()},e.prototype.combineMap=function(t){var e={seatMat:[],peopleMat:[],rowSeat:[],colSeat:[],rowSize:0,colSize:0},n=[];t.forEach(function(t){e.rowSize+=t.rowSize+1,e.colSize=Math.max(t.colSize,e.colSize)});for(var o=0;o<e.colSize;o++)n.push(!1);t.forEach(function(t){t.colSeat.forEach(function(t){return n[t]=!0})}),e.colSeat=[],n.forEach(function(t,n){t&&e.colSeat.push(n)}),e.rowSize--;var r=0;for(o=t.length-1;o>=0;o--){r+=t[o].rowSize;for(var i=0;i<t[o].rowSeat.length;i++){var a=t[o].rowSeat[i];e.rowSeat.push(e.rowSize-r+a)}r++}var c=0,s=0;for(o=0;o<t.length;o++){var u=t[o];for(s+=u.rowSeat.length,i=0;i<u.rowSize;i++){e.seatMat.push([]),e.peopleMat.push([]);for(var l=0;l<u.colSize;l++){var f=u.seatMat[i][l],p=u.peopleMat[i][l];e.seatMat[i+c].push(f);var h=e.rowSeat.length-s;e.peopleMat[i+c].push(p?cc.v2(e.colSeat.indexOf(u.colSeat[p.x]),p.y+h):null)}}if(o<t.length-1){for(e.seatMat.push([]),e.peopleMat.push([]),l=0;l<u.colSize;l++)e.seatMat[u.rowSize].push(!1),e.peopleMat[u.rowSize].push(null);c+=u.rowSize+1}}return e},e.parse=function(t){for(var e=[],n=[],o=[],r=[],i=function(t,e){t.includes(e)||(t.push(e),t.sort(function(t,e){return t-e}))},a="A".charCodeAt(0),c=t.split("\r\n"),s=!0,u=0,l=function(t){return 0==t.length||""==t[0]},f=0;f<c.length;f++)if(s){if(l(_=c[f].split(","))){s=!1,u=f+1;continue}r.push([]);for(var p=0;p<_.length;p++){var h=_[p];if(h.length>1){var d=h[0].charCodeAt(0)-a,m=Number.parseInt(h.substring(1))-1;r[f].push(new cc.Vec2(d,m))}else"0"==h&&r[f].push(null)}}else{var _;if(l(_=c[f].split(",")))break;for(o.push([]),p=0;p<_.length;p++)if(0!=_[p].length){var y="1"==_[p],g=f-u;o[g].push(y),y&&(i(e,g),i(n,p))}}return e.sort(function(t,e){return e-t}),{seatMat:o,peopleMat:r,rowSeat:e,colSeat:n,rowSize:o.length,colSize:o[0].length}},e.getCrdStr=function(t){return String.fromCharCode(t.x+T)+(t.y+1).toFixed()},e.prototype.resetPos=function(t,e){var n=e.convertToNodeSpaceAR(t.parent.convertToWorldSpaceAR(t.position));t.setParent(e),t.position=n},e.prototype.generate=function(){this.seats=[],this.peoples=[],this.displayObjs=[];for(var t=_.default.Ins.getPrefab("seat"),e=_.default.Ins.getPrefab("people"),o=0;o<this.map.seatMat.length;o++)for(var r=0;r<this.map.seatMat[o].length;r++)if(this.map.seatMat[o][r]){var i=m.PM.Get(t);i.setParent(this.seatsNode);var a=i.getComponent(C.default);i.position=cc.v3(this.crd2lp2(r,o).add(a.offset).add(cc.v2(0,.5))),a.init(cc.v2(r,o)),a.label.string=n.getCrdStr(cc.v2(this.map.colSeat.indexOf(r),this.map.rowSeat.indexOf(o))),this.seats.push(a),this.displayObjs.push(a),this.resetPos(a.label.node,this.seatLabel)}for(o=0;o<this.map.peopleMat.length;o++)for(r=0;r<this.map.peopleMat[o].length;r++){var c=this.map.peopleMat[o][r];if(c){var s=m.PM.Get(e);s.setParent(this.peopleNode),s.position=cc.v3(this.crd2lp2(r,o));var u=s.getComponent(P.default);u.label.string=n.getCrdStr(cc.v2(c.x,c.y)),this.peoples.push(u),this.displayObjs.push(u),u.init(cc.v2(r,o),c),u.isFinish&&w.Game.Ins.finishedPeople.push(u)}}for(o=0;o<this.map.rowSeat.length;o++){var l=m.PM.Get(_.default.Ins.getPrefab("rowLabel"));l.setParent(this.rowColLabel),l.position=cc.v3(this.crd2lp2(-1,this.map.rowSeat[o]));var f=l.getComponentInChildren(cc.Label);f.string=String(o+1),this.resetPos(f.node,this.rowColLabel);var p=l.getComponentInChildren(cc.Sprite);p.spriteFrame=_.default.Ins.getSprite(this.busCfg.numberBoard),this.resetPos(p.node,this.labelBottom)}for(o=0;o<this.map.colSeat.length;o++){var h=m.PM.Get(_.default.Ins.getPrefab("colLabel"));h.setParent(this.rowColLabel),h.position=cc.v3(this.crd2lp2(this.map.colSeat[o],this.map.rowSize)),h.getComponentInChildren(cc.Label).string=String.fromCharCode(o+T)}this.displayObjs.forEach(function(t){return t.initDisplay()});var d=this.getBusIdByMap(this.map.colSize,this.map.rowSize),y=config.Bus.getById(d);this.bus.getComponent(cc.Sprite).spriteFrame=_.default.Ins.getSprite(y.bus),this.bus.height=this.busCeil.height=this.busHeight,this.bus.width=this.busCeil.width=this.busWidth,this.busCeil.getComponent(cc.Sprite).spriteFrame=_.default.Ins.getSprite(y.ceil),this.busCeil2.getComponent(cc.Sprite).spriteFrame=_.default.Ins.getSprite(y.ceil2),this.root.scale=this.getScaleByMap(this.map.colSize,this.map.rowSize),this.bg.spriteFrame=_.default.Ins.getSprite(y.bg),this.effect.color=cc.Color.fromHEX(cc.color(),b.randomElement(I))},e.prototype.validCrd2=function(t,e){return t>=0&&t<this.map.colSize&&e>=0&&e<this.map.rowSize},e.prototype.validCrd=function(t){return t.x>=0&&t.x<this.map.colSize&&t.y>=0&&t.y<this.map.rowSize},e.prototype.neighborGrids=function(t,e){void 0===e&&(e=1);for(var n=t,o=[],r=-e;r<=e;r++)for(var i=-e;i<=e;i++){var a=cc.v2(r,i);if(!(Math.abs(a.x)+Math.abs(a.y)>e||a.equals(cc.v2(0,0)))){var c=n.add(cc.v2(r,i));this.validCrd(c)&&o.push(c)}}return o},e.prototype.limitCameraPos=function(t){var e=cc.v3(t.x,t.y),n=this.getScaleByMap(this.map.colSize,this.map.rowSize),o=Math.max(0,(this.isChallenge?h.challengeHei:h.commonHei)*n/2-this.screenSize.y/2),r=Math.min(0,-o),i=Math.max(0,h.mapWidth*n/2-this.screenSize.x/2),a=Math.min(0,-i);return e.x=cc.misc.clampf(e.x,a,i),e.y=cc.misc.clampf(e.y,r,o),e},e.prototype.getBusIdByMap=function(t,e){for(var n=-1,o=-1,r=0;r<h.mapBus.length;r++){var i=h.mapBus[r];i[0]>=t&&n<0&&(n=r),i[1]>=e&&o<0&&(o=r)}var a=Math.max(n,o);return h.mapBus[a][2]},e.prototype.getScaleByMap=function(t,e){for(var n=-1,o=-1,r=0;r<h.mapScale.length;r++){var i=h.mapScale[r];i[0]>=t&&n<0&&(n=r),i[1]>=e&&o<0&&(o=r)}var a=Math.max(n,o);return h.mapScale[a][2]},e.prototype.moveDelta=function(t){var e=this.mapCamera.node.position,n=e.sub(cc.v3(t)),o=this.limitCameraPos(n);return this.mapCamera.node.position=cc.v3(o),d.default.send(d.E_MoveMap),o.x!=e.x||o.y!=e.y},e.prototype.moveFocusTo=function(t){var e,n=this,o=this.crd2lp(t),r=this.root.convertToWorldSpaceAR(o),i=this.mapCamera.getScreenToWorldPoint(cc.v2(this.screenSize.x/2,this.screenSize.y/2)),a=cc.v3(r).sub(i),c=this.mapCamera.node.position.add(a);c=this.limitCameraPos(c),null===(e=this.cameraTween)||void 0===e||e.stop(),this.cameraTween=cc.tween(this.mapCamera.node).to(.5,{position:c},{easing:cc.easing.sineOut,onUpdate:function(){return d.default.send(d.E_MoveMap)}}).call(function(){return n.cameraTween=null}).start()},e.prototype.findAllGrid=function(t){var e=this,n=[],o=[],r=t;for(o.unshift(t);o.length>0;){r=o.shift(),n.push(r);for(var i=this.neighborGrids(r),a=function(t){var a=i[t],s=function(t){return!!e.findSeat(t)},u=a.y-r.y==1&&s(a)||a.y-r.y==-1&&s(r),l=!!c.findPeople(a);n.findIndex(function(t){return t.equals(a)})<0&&c.validCrd(a)&&!u&&!l&&o.unshift(a)},c=this,s=0;s<i.length;s++)a(s)}return n},e.prototype.clearAllPathPoints=function(){this.isShowPathPoint=!1,this.pathPoints.forEach(function(t){var e;null===(e=t.tween)||void 0===e||e.stop(),cc.tween(t.node).to(h.pathDuration/1e3,{scale:0},{easing:cc.easing.backIn}).call(function(){return m.PM.Put(t.node)}).start(),t.tween=null}),this.pathPoints=[]},e.prototype.showAllPath=function(t,e){return u(this,void 0,void 0,function(){var n,o,r,i,a,c,s,f,p,d,y,g=this;return l(this,function(v){switch(v.label){case 0:return this.clearAllPathPoints(),!w.Game.showGrid&&this.level>1?[2]:(this.isShowPathPoint=!0,n=[],r=t,(o=[]).push(t),i=function(t){var n=m.PM.Get(_.default.Ins.getPrefab("pathPoint"));n.setParent(g.pathPointNode),n.opacity=200,n.position=cc.v3(g.crd2lp(t));var o={node:n,tween:cc.tween(n).to(h.pathDuration/1e3,{scale:1},{easing:cc.easing.backOut})},r=n.getComponent(cc.Sprite);return g.findSeat(t)?t.equals(e)?r.spriteFrame=g.targetGrid:r.spriteFrame=g.seatGrid:r.spriteFrame=g.emptyGrid,o},c=[],[4,(a=function(t,e){return u(g,void 0,void 0,function(){var t,n;return l(this,function(){return t=i(e),this.pathPoints.push(t),null===(n=t.tween)||void 0===n||n.start(),[2]})})})(t,t)]);case 1:v.sent(),v.label=2;case 2:if(!(o.length>0))return[3,7];if(r=o.pop(),c.findIndex(function(t){return t.equals(r)})>=0)return[3,2];c.push(r),n.push(r),s=this.neighborGrids(r),f=function(t){var e,i,c,u;return l(this,function(l){switch(l.label){case 0:return e=s[t],i=function(t){return!!g.findSeat(t)},c=e.y-r.y==1&&i(e)||e.y-r.y==-1&&i(r),u=!!p.findPeople(e),n.findIndex(function(t){return t.equals(e)})<0&&p.validCrd(e)&&!c&&!u?p.isShowPathPoint?(o.push(e),[4,a(r,e)]):[2,{value:void 0}]:[3,3];case 1:return l.sent(),[4,b.delay(h.pathDelay)];case 2:l.sent(),l.label=3;case 3:return[2]}})},p=this,d=0,v.label=3;case 3:return d<s.length?[5,f(d)]:[3,6];case 4:if("object"==typeof(y=v.sent()))return[2,y.value];v.label=5;case 5:return d++,[3,3];case 6:return o.sort(function(e,n){return cc.Vec2.distance(e,t)-cc.Vec2.distance(n,t)}),[3,2];case 7:return[2]}})})},e.prototype.clear=function(){this.clearAllPathPoints()},e.prototype.findPath=function(t,e){var n=this,o=[],r=[],i=[],a=t,c=0,s=function(t){var n,s,l,p,h,d,m=(n=t,s=e,l=Math.abs(n.x-s.x),p=Math.abs(n.y-s.y),h=Math.min(l,p),d=Math.max(l,p),Math.sqrt(2)*h+(d-h)),_=cc.Vec2.distance(a,t);_>1&&(_*=.999);var y=c+_,g=o.find(function(e){return e.crd.equals(t)}),v=r.find(function(e){return e.crd.equals(t)});v&&v.cost+v.dist>m+y?(v.cost=y,v.dist=m,v.crd=t,u.set(t,f(i,[t]))):v||g&&!(g.cost+g.dist>m+y)||(r.unshift({crd:t,cost:y,dist:m}),u.set(t,f(i,[t])))},u=new Map;for(s(t);r.length>0;){var l=r.shift();if(a=l.crd,c=l.cost,i=f(u.get(a)),o.push(l),a.equals(e)){var p=u.get(a);return new E(p)}for(var h=this.neighborGrids(a),d=0;d<h.length;d++){var m=h[d],_=(this.crd2idx(m.x,m.y),function(t){return!!n.findSeat(t)}),y=m.y-a.y==1&&_(m)||m.y-a.y==-1&&_(a),g=!!this.findPeople(m);!this.validCrd(m)||y||g||s(m)}r.sort(function(t,e){return t.dist+t.cost-(e.dist+e.cost)})}return new E([])},e.prototype.crd2lp2=function(t,e){var n=this.map.rowSize*j.y,o=this.map.colSize*j.x;return cc.v2(t*j.x-o/2+j.x/2,n-e*j.y-n/2-j.y/2)},e.prototype.crd2lp=function(t){return this.crd2lp2(t.x,t.y)},e.prototype.seatCrd2Crd=function(t){return cc.v2(this.map.colSeat[t.x],this.map.rowSeat[t.y])},e.prototype.crd2idx=function(t,e){return cc.v2(e,t)},e.prototype.sp2crd=function(t){var e=this.mapCamera.getScreenToWorldPoint(t),n=this.itemNode.convertToNodeSpaceAR(e),o=this.crd2lp2(0,0).sub(cc.v2(j.x/2,-j.y/2)),r=Math.floor((n.x-o.x)/j.x),i=Math.floor((n.y-o.y)/-j.y);return cc.v2(r,i)},e.prototype.crd2wp=function(t){return this.itemNode.convertToWorldSpaceAR(this.crd2lp(t))},e.prototype.crd2fp=function(t){var e=this.mapCamera.getWorldToScreenPoint(this.crd2wp(t));return e.y=this.screenSize.y-e.y,e},e.prototype.findPeople=function(t){return this.peoples.find(function(e){return e.crd.equals(t)})},e.prototype.findSeat=function(t){return this.seats.find(function(e){return e.crd.equals(t)})||null},c([U(cc.Camera)],e.prototype,"mapCamera",void 0),c([U(cc.Animation)],e.prototype,"anim",void 0),c([U(cc.Node)],e.prototype,"effect",void 0),c([U(cc.Node)],e.prototype,"root",void 0),c([U(cc.Node)],e.prototype,"bus",void 0),c([U(cc.Node)],e.prototype,"itemNode",void 0),c([U(cc.Sprite)],e.prototype,"bg",void 0),c([U(cc.Node)],e.prototype,"rowColLabel",void 0),c([U(cc.Node)],e.prototype,"labelBottom",void 0),c([U(cc.Node)],e.prototype,"peopleNode",void 0),c([U(cc.Node)],e.prototype,"seatsNode",void 0),c([U(cc.Node)],e.prototype,"seatLabel",void 0),c([U(cc.Node)],e.prototype,"busCeil",void 0),c([U(cc.Node)],e.prototype,"busCeil2",void 0),c([U(cc.Node)],e.prototype,"pathPointNode",void 0),c([U(cc.Node)],e.prototype,"topSeatFolder",void 0),c([U(cc.Node)],e.prototype,"topSeatLblFolder",void 0),c([U(cc.SpriteFrame)],e.prototype,"emptyGrid",void 0),c([U(cc.SpriteFrame)],e.prototype,"seatGrid",void 0),c([U(cc.SpriteFrame)],e.prototype,"targetGrid",void 0),n=c([S],e)}(cc.Component);n.default=R;var E=function(){function t(t){void 0===t&&(t=[]),this.pathCrds=[],this.pathCrds=t}return Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0==this.pathCrds.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startCrd",{get:function(){return this.isEmpty?null:this.pathCrds[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endCrd",{get:function(){return this.isEmpty?null:this.pathCrds[this.pathCrds.length-1]},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.pathCrds.map(function(t){return"("+t.x+","+t.y+")"}).join("->")},t}();n.PathInfo=E,cc._RF.pop()},{"../Const":"Const","../Managers/EventCenter":"EventCenter","../Managers/PoolManager":"PoolManager","../Managers/Res":"Res","../Managers/SoundManager":"SoundManager","../UI/UI":"UI","../UI/U_Game":"U_Game","../Utils/CocosExtension":"CocosExtension","./Game":"Game","./People":"People","./RandMap":"RandMap","./Seat":"Seat"}],MapGenerator:[function(t,e,n){"use strict";cc._RF.push(e,"b7ed9xs7YlMBbCAtUtROr1i","MapGenerator"),Object.defineProperty(n,"__esModule",{value:!0}),n.MapGenerator=void 0;n.MapGenerator=function(){},cc._RF.pop()},{}],MiniBinder:[function(t,e,n){"use strict";cc._RF.push(e,"e6171uj3sNGwZipI8GX4FMI","MiniBinder");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("./UI_Win")),i=o(t("./UI_Lose")),a=o(t("./UI_endPanel")),c=o(t("./UI_gameDebugs")),s=o(t("./UI_levelTipsStepCom")),u=o(t("./UI_levelTipsTextCom")),l=o(t("./UI_winData")),f=o(t("./UI_bottom")),p=o(t("./UI_timeCom")),h=o(t("./UI_relifePanel")),d=o(t("./UI_com")),m=o(t("./UI_propTips")),_=o(t("./UI_TutorialGame")),y=o(t("./UI_levelTips")),g=o(t("./UI_winAnim")),v=o(t("./UI_moneyTips")),b=o(t("./UI_moneyIcon")),w=o(t("./UI_Game")),P=o(t("./UI_superRewardBtn")),M=o(t("./UI_getSuperReward")),C=o(t("./UI_WinTutorial")),I=function(){function t(){}return t.bindAll=function(){fgui.UIObjectFactory.setExtension(r.default.URL,r.default),fgui.UIObjectFactory.setExtension(i.default.URL,i.default),fgui.UIObjectFactory.setExtension(a.default.URL,a.default),fgui.UIObjectFactory.setExtension(c.default.URL,c.default),fgui.UIObjectFactory.setExtension(s.default.URL,s.default),fgui.UIObjectFactory.setExtension(u.default.URL,u.default),fgui.UIObjectFactory.setExtension(l.default.URL,l.default),fgui.UIObjectFactory.setExtension(f.default.URL,f.default),fgui.UIObjectFactory.setExtension(p.default.URL,p.default),fgui.UIObjectFactory.setExtension(h.default.URL,h.default),fgui.UIObjectFactory.setExtension(d.default.URL,d.default),fgui.UIObjectFactory.setExtension(m.default.URL,m.default),fgui.UIObjectFactory.setExtension(_.default.URL,_.default),fgui.UIObjectFactory.setExtension(y.default.URL,y.default),fgui.UIObjectFactory.setExtension(g.default.URL,g.default),fgui.UIObjectFactory.setExtension(v.default.URL,v.default),fgui.UIObjectFactory.setExtension(b.default.URL,b.default),fgui.UIObjectFactory.setExtension(w.default.URL,w.default),fgui.UIObjectFactory.setExtension(P.default.URL,P.default),fgui.UIObjectFactory.setExtension(M.default.URL,M.default),fgui.UIObjectFactory.setExtension(C.default.URL,C.default)},t}();n.default=I,cc._RF.pop()},{"./UI_Game":"UI_Game","./UI_Lose":"UI_Lose","./UI_TutorialGame":"UI_TutorialGame","./UI_Win":"UI_Win","./UI_WinTutorial":"UI_WinTutorial","./UI_bottom":"UI_bottom","./UI_com":"UI_com","./UI_endPanel":"UI_endPanel","./UI_gameDebugs":"UI_gameDebugs","./UI_getSuperReward":"UI_getSuperReward","./UI_levelTips":"UI_levelTips","./UI_levelTipsStepCom":"UI_levelTipsStepCom","./UI_levelTipsTextCom":"UI_levelTipsTextCom","./UI_moneyIcon":"UI_moneyIcon","./UI_moneyTips":"UI_moneyTips","./UI_propTips":"UI_propTips","./UI_relifePanel":"UI_relifePanel","./UI_superRewardBtn":"UI_superRewardBtn","./UI_timeCom":"UI_timeCom","./UI_winAnim":"UI_winAnim","./UI_winData":"UI_winData"}],MoneyCom:[function(t,e,n){"use strict";cc._RF.push(e,"54262MwRLlLSZccuCsRf/ni","MoneyCom");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.MoneyCom=void 0;var c=a(t("../Controller/GameManager")),s=i(t("../Managers/EventCenter")),u=a(t("./UI")),l=a(t("./U_GetCoin")),f=function(){function t(t){this.view=t}return t.prototype.init=function(){var t=this;this.view.m_addBtn.onClick(function(){t.onClickAddMoney()})},t.prototype.onClickAddMoney=function(){u.default.getUI(l.default).show(),s.default.send(s.E_InfoChange)},t.prototype.refresh=function(){this.view.m_num.text=c.default.Ins.coin.toFixed()},t}();n.MoneyCom=f,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Managers/EventCenter":"EventCenter","./UI":"UI","./U_GetCoin":"U_GetCoin"}],MoveManager:[function(t,e,n){"use strict";cc._RF.push(e,"bfc42CIcAxJ9rzFk26v94C5","MoveManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../Controller/GameManager")),s=cc._decorator,u=s.ccclass,l=(s.property,function(){function t(t,e){this.node=null,this.node=t,this.map=e}return t.prototype.tick=function(){return!0},t.prototype.end=function(){},t.prototype.stop=function(){},t.prototype.start=function(){},t}()),f=function(t){function e(e,n,o,r,i,a,c){var s=t.call(this,e,n)||this;return s.startPos=null,s.endPos=null,s.time=0,s.timer=0,s.startPos=i,s.endPos=a,s.time=o,s.easing=r,s.endCall=c,s}return r(e,t),e.prototype.start=function(){this.timer=0},e.prototype.tick=function(t){if(this.timer+=t,this.timer>=this.time)return this.node.setLayerPos(this.endPos),!0;var e=cc.Vec2.lerp(cc.v2(),this.startPos,this.endPos,this.easing(this.timer/this.time));return this.node.setLayerPos(e),!1},e.prototype.end=function(){this.node.setLayerPos(this.endPos),this.endCall&&this.endCall(this.endPos)},e}(l),p=function(t){function e(e,n,o,r,i,a,c,s,u){var l=t.call(this,e,n)||this;return l.path=null,l.speed=0,l._pathIdx=0,l.path=l.map.findPath(r,i),l.tickCall=a,l.endCall=c,l.cancelCall=s,l.getCrdCall=u,l.speed=o,l._pathIdx=-1,l}return r(e,t),e.prototype.tick=function(t){var e=this,n=function(t){return e.map.crd2lp(t)};if(-1==this._pathIdx){if(this._targetPos=n(this.path.startCrd),this.path.pathCrds.length>1){var o=this._curPos,r=n(this.path.pathCrds[1]);cc.Vec2.dot(this._targetPos.sub(o),r.sub(o))<=0&&(this._targetPos=r,this._pathIdx=0)}}else{if(this._pathIdx>=this.path.pathCrds.length-1)return!0;this._targetPos=n(this.path.pathCrds[this._pathIdx+1])}var i=this._targetPos.sub(this._startPos).normalize();this.tickCall&&this.tickCall(i);var a=this.node.getLayerPos().add(i.mul(t*this.speed));return cc.Vec2.dot(i,this._targetPos.sub(a))<=0?(this._pathIdx++,this._startPos=this._targetPos,this.node.setLayerPos(this._targetPos),this.getCrdCall&&this.getCrdCall(this.path.pathCrds[this._pathIdx])):this.node.setLayerPos(a),!1},e.prototype.start=function(){this._pathIdx=-1,this._startPos=this.node.getLayerPos(),this._curPos=this.node.getLayerPos(),this._nextPos=cc.v2(),this._targetPos=cc.v2()},e.prototype.end=function(){this.node.setLayerPos(this.map.crd2lp(this.path.endCrd)),this.endCall&&this.endCall(this.path.endCrd)},e.prototype.stop=function(){this.cancelCall&&this.cancelCall(this.node.getLayerPos())},e}(l),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return r(e,t),n=e,e.moveTo=function(t,e,o,r,i,a,c,s,u){n.map.has(t)&&n.map.delete(t);var l=new p(t,e,o,r,i,a,c,s,u);l.path.isEmpty?l.cancelCall&&l.cancelCall(t.getLayerPos()):(this.map.set(t,l),l.start())},e.directTo=function(t,e,o,r,i,a,c){n.map.has(t)&&n.map.delete(t);var s=new f(t,e,o,r,i,a,c);this.map.set(t,s),s.start()},e.stopMove=function(t){var e=n.map.get(t);e&&(e.stop(),n.map.delete(t))},e.prototype.update=function(t){t*=c.default.Ins.timeScale;var e=n.map,o=[];e.forEach(function(e){e.tick(t)&&o.push(e)}),o.forEach(function(t){n.map.delete(t.node),t.end()})},e.map=new Map,n=i([u],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Controller/GameManager":"GameManager"}],NumberFormatter:[function(t,e,n){"use strict";cc._RF.push(e,"1259cUZEwJKm4+TjhlPw7Fx","NumberFormatter"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return Object.defineProperty(t,"locale",{get:function(){return t.m_locale},set:function(e){t.m_locale=e},enumerable:!1,configurable:!0}),t.format=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=!1);var o=0,r=Math.pow(10,e),i=Math.round(r*t)/r,a=-1==i.indexOf("."),c=a?i.length:i.indexOf("."),s=(a&&!e?"":n?",":".")+i.substr(c+1);if(e)for(var u=0;u<=e-(i.length-(a?c-1:c));u++)s+="0";for(;o+3<("-"==i.substr(0,1)?c-1:c);)s=(n?".":",")+i.substr(c-(o+=3),3)+s;return i.substr(0,c-o)+s},t.formatRound=function(e){if(null==e)return"0";if(e=e,"en_US"==t.locale||"vi_VN"==t.locale)return t.formatEngNumber(e);var n;switch(t.locale){case"zh_CN":n=["\u4ebf","\u4e07"];break;case"zh_TW":n=["\u5104","\u842c"];break;case"ja_JP":n=["\u5104","\u4e07"];break;case"ko_KR":n=["\uc5b5","\ub9cc"];break;default:n=[]}if(n.length>0){if(e>=1e8)return Math.floor(e/1e8)+n[0];if(e>=1e5)return Math.floor(e/1e4)+n[1]}return e.toString()},t.formatTime=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!1),isNaN(t)||t<=0)return"00:00";var o=Math.ceil(t/1e3),r=0,i="";n&&(o-=86400*(r=Math.floor(o/3600/24)),i=r+(e?"\u5929":":"));var a=Math.floor(o/3600);o-=3600*a;var c=Math.floor(o/60);return o-=60*c,i+(this.formatTimeNumber(a)+(e?"\u5c0f\u65f6":":"))+this.formatTimeNumber(c)+(e?"\u5206":":")+this.formatTimeNumber(o)+(e?"\u79d2":"")},t.formatTimeHm=function(t,e){if(void 0===e&&(e=!1),isNaN(t)||t<=0)return"00:00";var n=Math.ceil(t/1e3),o=Math.floor(n/3600);n-=3600*o;var r=Math.ceil(n/60);return(e?o>0?o+"h":"":this.formatTimeNumber(o)+":")+(e?r>0?r+"m":"":this.formatTimeNumber(r))},t.formatTimeMs=function(t,e){if(void 0===e&&(e=!1),isNaN(t)||t<=0)return"00:00";var n=Math.ceil(t/1e3),o=Math.floor(n/60);return n-=60*o,(e?o>0?o+"m":"":this.formatTimeNumber(o)+":")+(e?n>0?n+"s":"":this.formatTimeNumber(n))},t.formatTimeNumber=function(t){return t<10?"0"+t:t.toString()},t.formatEngNumber=function(e){var n,o;return(e=e)>=1e9?(o=e/1e9,n=(.01*Math.floor(o/.01)).toFixed(2),t.formatEndingZero(n)+"B"):e>=1e6?(o=e/1e6,n=(.01*Math.floor(o/.01)).toFixed(2),t.formatEndingZero(n)+"M"):e>=1e3?(o=e/1e3,n=(.01*Math.floor(o/.01)).toFixed(2),t.formatEndingZero(n)+"K"):e+""},t.formatEndingZero=function(e){return t.endWith(e,"00")?e.substring(0,e.length-3):t.endWith(e,"0")?e.substring(0,e.length-1):e},t.endWith=function(t,e){return e==t.substring(t.length-e.length)},t.m_locale="zh_CN",t}();n.default=o,cc._RF.pop()},{}],OpenContent:[function(t,e){"use strict";cc._RF.push(e,"dabfdIZd2ZL7pLscmrHIres","OpenContent"),cc._RF.pop()},{}],People:[function(t,e,n){"use strict";cc._RF.push(e,"4d37bJzk4tLTIFEhcL4Jubq","People");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p,h=f(t("../Controller/DialogBar")),d=f(t("../Lib/Animator/core/AnimatorBase")),m=s(t("../Managers/EventCenter")),_=f(t("../Managers/MoveManager")),y=f(t("../Managers/Res")),g=t("../Managers/SoundManager"),v=f(t("../UI/UI")),b=f(t("../UI/U_Game")),w=t("../Utils/CocosExtension"),P=t("./Game");(function(t){t.default="default",t.watch="skin1_watch",t.hdj="skin2_hdj",t.both="skin3_both"})(p||(p={}));var M=cc._decorator,C=M.ccclass,I=M.property,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLock=!1,e.animator=null,e.rewarded=!1,e.dialogBars=[],e.finishView=[function(){e.faceAnim.play(),e.faceSprite.spriteFrame=y.default.Ins.getSprite("shy")},function(){e.faceAnim.play(),e.faceSprite.spriteFrame=y.default.Ins.getSprite("haha")},function(){e.faceAnim.play(),e.faceSprite.spriteFrame=y.default.Ins.getSprite("proud")}],e.noFinishView=[function(){e.faceAnim.play(),e.faceSprite.spriteFrame=y.default.Ins.getSprite("sick")},function(){e.faceAnim.play(),e.faceSprite.spriteFrame=y.default.Ins.getSprite("tears")},function(){e.faceAnim.play(),e.faceSprite.spriteFrame=y.default.Ins.getSprite("angry")}],e.awaitForMoveResolve=null,e.idleTimer=0,e}return r(e,t),e.prototype.show=function(){this.render.node.active=!0,this.label.node.active=!0},e.prototype.hide=function(){this.render.node.active=!1,this.label.node.active=!1,this.awaitForMoveResolve&&this.awaitForMoveResolve()},e.prototype.setLayerPos=function(t){this.node.position=cc.v3(t).add(cc.v3(0,0))},e.prototype.getLayerPos=function(){return cc.v2(this.node.position)},e.prototype.canArrive=function(t){var e=P.Game.map.findPath(this.crd,t);return!(!e||e.isEmpty)},e.prototype.setHappy=function(){this.animator.setNumber("finishSitRand",w.randomElement([0,1,2])),this.animator.setTrigger("finishTrigger")},e.prototype.moveToCrd=function(t){var e=this;return new Promise(function(n,o){return u(e,void 0,void 0,function(){var e,r,i,a,c=this;return l(this,function(s){switch(s.label){case 0:return e=P.Game.map.findPath(this.crd,t),r=this.crd,!e||e.isEmpty?(this.cantTips(),o(),[2]):(this.isLock=!0,i=e.pathCrds[1].sub(e.pathCrds[0]),this.animator.setNumber("hor",Math.sign(i.x)),this.animator.setNumber("hor",Math.sign(i.y)),this.animator.setBool("move",!0),[4,this.awaitForMove()]);case 1:return s.sent(),[4,g.SM.playEffectForId(g.SoundType.step)];case 2:return a=s.sent(),P.Game.Ins.movingPeople.push(this),_.default.moveTo(this,P.Game.map,500,r,t,function(t){c.animator.setNumber("hor",t.x),c.animator.setNumber("ver",t.y),c.refreshShowDisplay()},function(){c.isFinish?c.finishTips():c.shitTips(),c.refreshState(),c.isLock=!1,P.Game.Ins.movingPeople.splice(P.Game.Ins.movingPeople.indexOf(c),1),g.SM.stopEffectById(a),P.Game.Ins.judge(),n()},function(){c.isLock=!1,o()},function(){}),this.crd=t,[2]}})})})},e.prototype.refreshState=function(){return u(this,void 0,void 0,function(){return l(this,function(){return this.isFinish?this.v_finish():this.v_noFinish(),this.isInSeat?this.v_sit():this.v_stand(),this.animator.setBool("sit",this.isInSeat),this.animator.setBool("isFinish",this.isFinish),this.animator.setNumber("finishSitRand",w.randomElement([0,1,2])),this.animator.setBool("move",!1),this.animator.setNumber("idleRand",Math.random()<.4?0:1),[2]})})},e.prototype.finishResult=function(){w.randomElement(this.finishView)(),this.anim.play("finish"),g.SM.playEffect(g.SoundType.Finish),this.refreshState(),this.rewarded||(this.rewarded=!0,v.default.getUI(b.default).rewardFromPeople(w.randomElement([3,4,5]),this.crd))},e.prototype.noFinishResult=function(){w.randomElement(this.noFinishView)(),g.SM.playEffect(Math.random()>.5?g.SoundType.Heng:g.SoundType.Pi)},Object.defineProperty(e.prototype,"isFinish",{get:function(){return P.Game.map.seatCrd2Crd(this.targetSeatCrd).equals(this.crd)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSeat",{get:function(){return!!P.Game.map.findSeat(this.crd)},enumerable:!1,configurable:!0}),e.prototype.initDisplay=function(){m.default.on(m.E_MoveMap,this.refreshShowDisplay,this)},e.prototype.clearDisplay=function(){m.default.off(m.E_MoveMap,this.refreshShowDisplay,this)},e.prototype.refreshShowDisplay=function(){P.Game.map.isInFullScreen(this.crd).equals(cc.v2())?this.show():this.hide()},e.prototype.init=function(t,e){return u(this,void 0,void 0,function(){var n;return l(this,function(o){switch(o.label){case 0:return this.crd=t,this.targetSeatCrd=e,[4,this.animator.awaitInited()];case 1:return o.sent(),this.refreshState(),n=Math.random()>.8?w.randomElement([p.hdj,p.watch]):p.default,this.spAnim.setSkin(n),this.animator.setTrigger("init"),[4,w.delay(500*Math.random()+1e3)];case 2:return o.sent(),this.spAnim.setAnimation(0,this.animator.curStateMotion,!0),this.lastState="none",this.rewarded=this.isFinish,[2]}})})},e.prototype.cantTips=function(){this.blockTips.node.opacity=255,g.SM.playEffect(g.SoundType.Error),P.Game.map.isInScreen(this.crd).equals(cc.v2())||P.Game.map.moveFocusTo(this.crd),this.faceAnim.play(),this.faceSprite.spriteFrame=y.default.Ins.getSprite("angry"),w.randomElement(this.dialogBars).setDialog(w.randomElement(["\u6321\u4f4f\u4e86\uff01","\u8fc7\u4e0d\u53bb\uff01","\u632a\u5f00\u5176\u4ed6\u5c0f\u4eba\uff01"]))},e.prototype.finishTips=function(){},e.prototype.shitTips=function(){},e.prototype.v_selected=function(){window.selected=this,this.animator.setBool("select",!0)},e.prototype.v_cancelSelected=function(){this.animator.setBool("select",!1)},e.prototype.v_finish=function(){},e.prototype.v_noFinish=function(){},e.prototype.v_sit=function(){},e.prototype.v_stand=function(){return u(this,void 0,void 0,function(){return l(this,function(){return[2]})})},e.prototype.awaitForMove=function(){var t=this;return new Promise(function(e){t.render.node.active||e(),t.awaitForMoveResolve=e})},e.prototype.onStateChange=function(t){"finishSit"==t&&this.isFinish?(this.isLock=!1,this.finishResult()):"sit"!=t||this.isFinish?"shitToStand"==t&&(this.isLock=!1):(this.isLock=!1,this.noFinishResult())},e.prototype.update=function(t){var e=this.animator.curStateName;this.lastState!=e&&this.onStateChange(this.lastState,e),this.lastState=e,this.lastState&&this.awaitForMoveResolve&&w.hasStr(this.animator.curStateName,"move")&&(this.awaitForMoveResolve(),this.awaitForMoveResolve=null),this.idleTimer<=0&&(this.idleTimer+=5*Math.random()+5,this.animator.setTrigger(Math.random()<.3?"shitIdle2":"shitIdle")),this.idleTimer-=t;var n=this.node.parent.convertToWorldSpaceAR(this.node.position),o=P.Game.map.mapCamera.getWorldToScreenPoint(n);o.y>P.Game.map.screenSize.y+20||o.y<0?this.render.enabled=!1:this.render.enabled=!0},c([I(cc.Animation)],e.prototype,"anim",void 0),c([I(cc.Label)],e.prototype,"blockTips",void 0),c([I(d.default)],e.prototype,"animator",void 0),c([I(sp.Skeleton)],e.prototype,"render",void 0),c([I(cc.Label)],e.prototype,"label",void 0),c([I(sp.Skeleton)],e.prototype,"spAnim",void 0),c([I(cc.Animation)],e.prototype,"faceAnim",void 0),c([I(cc.Sprite)],e.prototype,"faceSprite",void 0),c([I(h.default)],e.prototype,"dialogBars",void 0),c([C],e)}(cc.Component);n.default=O,cc._RF.pop()},{"../Controller/DialogBar":"DialogBar","../Lib/Animator/core/AnimatorBase":"AnimatorBase","../Managers/EventCenter":"EventCenter","../Managers/MoveManager":"MoveManager","../Managers/Res":"Res","../Managers/SoundManager":"SoundManager","../UI/UI":"UI","../UI/U_Game":"U_Game","../Utils/CocosExtension":"CocosExtension","./Game":"Game"}],PlatformManager:[function(t,e,n){"use strict";cc._RF.push(e,"1908dBPNTNHtaHW/9dQ0czP","PlatformManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.platformMix=n.DeviceSystemInfo=n.Plat=n.GMParamKey=n.ShakeType=void 0;var i=t("./GameConfig"),a=t("./Platforms/DebugPlatform"),c=t("./Platforms/TTPlatform");(function(t){t.MEDIUM="medium",t.LIGHT="light",t.HEAVY="heavy"})(n.ShakeType||(n.ShakeType={})),function(t){t.showDebug="showDebug",t.showAd="showAd",t.openMiniGame="openMiniGame",t.openGrayContent="openGrayContent"}(n.GMParamKey||(n.GMParamKey={}));var s=function(){function t(){}return t.getParam=function(t){return this.params.get(t)>=1},t.initialize=function(){var e=this;return new Promise(function(a,c){return o(e,void 0,void 0,function(){return r(this,function(){return t.isInited||(t.isInited=!0,cc.sys.platform!==cc.sys.WECHAT_GAME&&cc.sys.platform!==cc.sys.BYTEDANCE_GAME||(n.DeviceSystemInfo=Object.assign(n.DeviceSystemInfo,wx.getSystemInfoSync())),n.platformMix.init(i.GameConfig.gameId,i.GameConfig.env,i.GameConfig.version).then(function(){a()}).catch(c)),[2]})})})},t.isInRecord=!1,t.confirmPrivacy=!1,t.hasSideBar=!1,t.isViewSideBar=!1,t.params=new Map,t}();n.Plat=s,n.DeviceSystemInfo={SDKVersion:"1.0.0",batteryLevel:100,benchmarkLevel:1,brand:"devtools",devicePixelRatio:2,fontSizeSetting:16,language:"zh_CN",model:"iPhone",pixelRatio:2,platform:"devtools",screenHeight:667,screenWidth:375,statusBarHeight:20,system:"",version:"6.6.3",windowHeight:667,windowWidth:375},window.Plat=s,cc.sys.platform===cc.sys.BYTEDANCE_GAME?n.platformMix=new c.TTPlatform:n.platformMix=new a.DebugPlatform,cc._RF.pop()},{"./GameConfig":"GameConfig","./Platforms/DebugPlatform":"DebugPlatform","./Platforms/TTPlatform":"TTPlatform"}],Player:[function(t,e,n){"use strict";cc._RF.push(e,"116b95RctVPgaftEEFMk6HW","Player");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(tang.Player);n.default=i,cc._RF.pop()},{}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"80c87G27EVGKaevNPf9D63T","PoolManager");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.PrefabPool=n.ObjectPool=n.AbstractPool=n.PM=void 0;var i=t("../Utils/collections/dictionary"),a=function(){function t(){}return t.PrefabPool=function(t,e,n){if(void 0===e&&(e=-1),void 0===n&&(n=0),!t)throw"prefab is null";if(this.HasPoolPrefab(t))return this.prefabPools.tryGetValue(t);var o=new u;return o.prefab=t,o.name=t.name,o.MaxPoolCount=e,o.PrepareCount=n,this.prefabPools.add(t,o),o},t.Get=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=0);var o=this.PrefabPool(t,e,n).Get();return o.poolRes=t,o.poolType="Prefab",o.active=!0,o.opacity=255,o},t.Put=function(t,e){void 0===e&&(e=!1);var n=t.poolRes;return n?(this.GetPoolPrefab(n).Put(t),!0):(t.parent&&t.removeFromParent(e),!1)},t.PutPrefabByParent=function(e){for(;e.childrenCount;)t.Put(e.children[0])},t.GetPrototype=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=0);var o=this.Pool(t,e,n).Get();return o.poolRes=t,o.poolType="Class",o},t.PutPrototype=function(t){var e=t.poolRes;return!!e&&("Class"==t.poolType?this.GetPool(e).Put(t):"Prefab"==t.poolType&&this.GetPoolPrefab(e).Put(t),!0)},t.Pool=function(t,e,n){void 0===e&&(e=-1),void 0===n&&(n=0),this.HasPool(t)&&this.typePools.tryGetValue(t);var o=new s(t);return o.name=t.name,o.MaxPoolCount=e,this.typePools.add(t,o),o},t.HasPoolPrefab=function(t){return t&&this.prefabPools.containsKey(t)},t.HasPool=function(t){return this.typePools.containsKey(t)},t.GetPoolPrefab=function(t){if(!t)throw"prefab";if(!this.HasPoolPrefab(t))throw" pool does not exist."+t.name;return this.prefabPools.tryGetValue(t)},t.GetPool=function(t){if(!this.HasPool(t))throw"pool does not exist."+t;return this.typePools.tryGetValue(t)},t.typePools=new i.Dictionary,t.prefabPools=new i.Dictionary,t}();n.PM=a;var c=function(){};n.AbstractPool=c;var s=function(t){function e(e){var n=t.call(this)||this;return n.mPool=[],n.mMaxPoolCount=10,n.mPrepareCount=10,n.type=e,n}return r(e,t),e.prototype.Get=function(){return this.PoolCount>0?this.mPool.pop():this.Instantiate()},e.prototype.Put=function(t){-1==this.mPool.indexOf(t)&&(this.PoolCount<this.mMaxPoolCount||this.mMaxPoolCount<0?(this.Remove(t),this.mPool.push(t)):this.Destroy(t))},e.prototype.Destroy=function(){},e.prototype.Remove=function(){},e.prototype.Instantiate=function(){return new this.type},e.prototype.PrepareInit=function(){if(this.PoolCount<this.mPrepareCount&&this.type)for(var t=0;t<this.mPrepareCount-this.PoolCount;t++){var e=new this.type;this.mPool.push(e)}},Object.defineProperty(e.prototype,"PoolCount",{get:function(){return this.mPool.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"MaxPoolCount",{get:function(){return this.mMaxPoolCount},set:function(t){this.mMaxPoolCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PrepareCount",{get:function(){return this.mPrepareCount},set:function(t){this.mPrepareCount=t,this.PrepareInit()},enumerable:!1,configurable:!0}),e}(c);n.ObjectPool=s;var u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.Instantiate=function(){return cc.instantiate(this.prefab)},e.prototype.Destroy=function(t){t.stopAllActions(),t.removeFromParent(!0),t.destroy()},e.prototype.Remove=function(t){t.stopAllActions(),t.removeFromParent(!1)},e.prototype.PrepareInit=function(){if(this.PoolCount<this.PrepareCount&&this.prefab)for(var t=0;t<this.PrepareCount-this.PoolCount;t++){var e=cc.instantiate(this.prefab);this.Put(e)}},e}(s);n.PrefabPool=u,window.PM=a,cc._RF.pop()},{"../Utils/collections/dictionary":"dictionary"}],RandMap:[function(t,e,n){"use strict";cc._RF.push(e,"fbbe6nH4nhGEIaK6ALHvIJs","RandMap"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.randMap=function(t,e){switch(e){case 0:return;case 1:return void this.rand1(t);case 2:return void this.rand2(t)}},t.swap=function(t,e,n){try{var o=n[t.x][t.y],r=n[e.x][e.y];n[t.x][t.y]=r,n[e.x][e.y]=o}catch(i){console.error("\u8d8a\u754c "),console.log(t.x+" "+t.y)}},t.rand1=function(t){for(var e=t.length,n=t[0].length,o=e*n/3,r=0;r<o;r++){var i=cc.v2(Math.floor(Math.random()*e),Math.floor(Math.random()*n)),a=cc.v2(Math.floor(Math.random()*e),Math.floor(Math.random()*n));this.swap(i,a,t)}},t.rand2=function(t){for(var e=t.length,n=t[0].length,o=0;o<6;o++){var r=cc.v2(Math.floor(Math.random()*e),Math.floor(Math.random()*n)),i=cc.v2(Math.floor(Math.random()*e),Math.floor(Math.random()*n));this.swap(r,i,t)}},t}();n.default=o,cc._RF.pop()},{}],RankManager:[function(t,e,n){"use strict";cc._RF.push(e,"9568cDXh7lCOqx5VQVNXDrD","RankManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.RankManager=void 0;var i=function(){function t(){}return Object.defineProperty(t,"Ins",{get:function(){return this.instance||(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.prototype.getData=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.prototype.setData=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t}();n.RankManager=i,cc._RF.pop()},{}],Res:[function(t,e,n){"use strict";cc._RF.push(e,"e389eQsjWJLdbbDNGYmkxzX","Res");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var f=t("../Utils/CocosExtension"),p=s(t("./EventCenter")),h=t("./SoundManager"),d=cc._decorator,m=d.ccclass,_=(d.property,function(t){function e(){var e=t.call(this)||this;return e._isLoaded=!1,e.spriteMap=new Map,e.prefabMap=new Map,e.lvMap=new Map,null==n.instance&&(n.instance=e),e}var n;return r(e,t),n=e,Object.defineProperty(e,"Ins",{get:function(){return n.instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return this._isLoaded},enumerable:!1,configurable:!0}),e.prototype.load=function(){return u(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return h.SM.init(),this._isLoaded=!1,[4,this.loadConfig()];case 1:return t.sent(),[4,this.loadFont()];case 2:return t.sent(),[4,this.loadSprite()];case 3:return t.sent(),[4,this.loadLevelBg()];case 4:return t.sent(),[4,this.loadPrefab()];case 5:return t.sent(),[4,this.loadLevel()];case 6:return t.sent(),this._isLoaded=!0,console.log("=======\u8d44\u6e90\u52a0\u8f7d\u5b8c\u6210\uff01\uff01\uff01\uff01========"),p.default.send(p.E_ResLoaded),[2]}})})},e.prototype.awaitLoaded=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(){return[2,new Promise(function(e){t.isLoaded?e():p.default.once(p.E_ResLoaded,function(){return e()})})]})})},e.prototype.loadLevel=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(){return[2,new Promise(function(e){t.lvMap=new Map,cc.resources.loadDir("Jsons/levels/",cc.TextAsset,function(n,o){n?console.error("load level err:"+n):(o.forEach(function(e){f.hasStr(e.name,"lv")&&t.lvMap.set(e.name,e)}),e())})})]})})},e.prototype.getMapAsset=function(t){return this.lvMap.get("lv"+t)},e.prototype.loadBundle=function(t){return new Promise(function(e,n){var o=cc.assetManager.getBundle(t);o?e(o):cc.assetManager.loadBundle(t,function(t,o){!t&&o?e(o):n(null)})})},e.prototype.loadAsset=function(t,e,n,o,r,i){return void 0===r&&(r=!1),void 0===i&&(i=null),u(this,void 0,Promise,function(){var a,c,s,u;return l(this,function(l){switch(l.label){case 0:return[4,this.loadBundle(t)];case 1:return(a=l.sent())?(c=!0,i&&(s=i._onPreDestory,u=function(){c=!1,s.call(this)},i._onPreDestory=u),[2,new Promise(function(t){var i=a.get(e,n);if(i)return i;function s(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c&&t.apply(void 0,e)}n===cc.SceneAsset?a.loadScene(e,n,o,function(t,e){!t&&e?s(e):(console.error("loadAsset:"+t),s(null))}):r?a.preload(e,n,o,function(t,e){!t&&e?s(e):(console.error("loadAsset:"+t),s(null))}):a.load(e,n,o,function(t,e){!t&&e?s(e):(console.error("loadAsset:"+t),console.error(t),s(null))})})]):[2,null]}})})},e.prototype.loadFont=function(){return u(this,void 0,void 0,function(){return l(this,function(){return[2,new Promise(function(t){cc.resources.loadDir("fonts/",cc.Font,function(e,n){e?console.error("load font err:"+e):(n.forEach(function(t){fgui.registerFont(t.name,t)}),t())})})]})})},e.prototype.loadConfig=function(){return u(this,void 0,void 0,function(){return l(this,function(){return[2,new Promise(function(t){cc.resources.load("Jsons/config",cc.JsonAsset,function(e,n){e?console.error("\u914d\u7f6e\u52a0\u8f7d\u5931\u8d25\uff01"):(config.decodeConfig(n.json),t())})})]})})},e.prototype.loadSprite=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(){return[2,new Promise(function(e){cc.resources.loadDir("textures/icons/",cc.SpriteFrame,function(n,o){n?console.error("load sprite err:"+n):(o.forEach(function(e){t.spriteMap.set(e.name,e)}),e())})})]})})},e.prototype.getLevelBg=function(t){return this.getSprite("lv"+t)},e.prototype.loadLevelBg=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(){return[2,new Promise(function(e){cc.resources.loadDir("textures/objects/",cc.SpriteFrame,function(n,o){n?console.error("load sprite err:"+n):(o.forEach(function(e){t.spriteMap.set(e.name,e)}),e())})})]})})},e.prototype.loadPrefab=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(){return[2,new Promise(function(e){cc.resources.loadDir("prefabs/res/",cc.Prefab,function(n,o){n?console.error("load prefab err:"+n):(o.forEach(function(e){t.prefabMap.set(e.name,e)}),e())})})]})})},Object.defineProperty(e.prototype,"rowSprite",{get:function(){return this.getPrefab("sprite")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultGrid",{get:function(){return this.getPrefab("GridTile")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"drops",{get:function(){return this.getPrefab("drops")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tag",{get:function(){return this.getPrefab("tag")},enumerable:!1,configurable:!0}),e.prototype.getPrefab=function(t){return this.prefabMap.get(t)||(console.error("\u627e\u4e0d\u5230\u9884\u5236\u4f53\uff1a"+t),null)},e.prototype.getSprite=function(t){return this.spriteMap.get(t)||(console.error("\u627e\u4e0d\u5230\u56fe\u7247\uff1a"+t),null)},e.getIconFuiUrl=function(t){return"texture/icons/"+t},e.getHeadFuiUrl=function(t){return"texture/heads/"+t},e.getBannerFuiUrl=function(t){return"texture/banners/"+t},e.instance=null,e.coinUrl="\u949e\u7968",e.coinQuality=1,n=c([m],e)}(cc.Component));n.default=_,window.Res=_,cc._RF.pop()},{"../Utils/CocosExtension":"CocosExtension","./EventCenter":"EventCenter","./SoundManager":"SoundManager"}],SceneCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"20f30rrqBZC9Zk5kLZxZ1ug","SceneCtrl");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("../UI/UI")),l=s(t("./GameManager")),f=cc._decorator,p=f.ccclass,h=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLoaded=!1,e}return r(e,t),e.prototype.onLoad=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return this.isLoaded=!1,[4,l.default.Ins.enterScene(this)];case 1:return t.sent(),this.isLoaded=!0,[2]}})})},e.prototype.onDestroy=function(){l.default.Ins.exitScene(this)},e.prototype.load=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return[4,l.default.Ins.awaitInited()];case 1:e.sent(),t=0,e.label=2;case 2:return t<this.fairyUI.length?[4,(new(0,this.fairyUI[t])).load()]:[3,5];case 3:e.sent(),e.label=4;case 4:return t++,[3,2];case 5:return[2]}})})},e.prototype.clear=function(){for(var t=0;t<this.fairyUI.length;t++){var e=this.fairyUI[t];u.default.getUI(e).clear()}},e.prototype.onShow=function(){},e.prototype.onHide=function(){},e.prototype.enter=function(t){void 0===t&&(t=null)},e.prototype.exit=function(){},i([p],e)}(cc.Component));n.default=h,cc._RF.pop()},{"../UI/UI":"UI","./GameManager":"GameManager"}],ScreenEffectMask:[function(t,e,n){"use strict";cc._RF.push(e,"634b1qGYT1Kragk0uGivIEf","ScreenEffectMask");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=s(t("../Managers/EffectManager")),l=cc._decorator,f=l.ccclass,p=l.property,h=function(t){function e(){var e=t.call(this)||this;return e.fadeMask=null,u.default.Ins.bindMaskCtrl(e),e}return r(e,t),e.prototype.onDestroy=function(){u.default.Ins.unBindMaskCtrl(this)},e.prototype.onLoad=function(){cc.game.addPersistRootNode(this.node)},e.prototype.fadeOut=function(t,e){return void 0===t&&(t=3),void 0===e&&(e=cc.Color.BLACK),a(this,void 0,void 0,function(){var n=this;return c(this,function(){return[2,new Promise(function(o){n.fadeMask.opacity=0,n.fadeMask.color=e,cc.tween(n.fadeMask).to(t,{opacity:255}).call(function(){return o()}).start()})]})})},e.prototype.setMaskAlpha=function(){return a(this,void 0,void 0,function(){return c(this,function(){return this.fadeMask.opacity=0,[2]})})},e.prototype.fadeIn=function(t,e,n){return void 0===t&&(t=3),void 0===e&&(e=cc.Color.BLACK),void 0===n&&(n=255),a(this,void 0,void 0,function(){var o=this;return c(this,function(){return[2,new Promise(function(r){o.fadeMask.opacity=n,o.fadeMask.color=e,cc.tween(o.fadeMask).to(t,{opacity:0}).call(function(){return r()}).start()})]})})},e.prototype.update=function(){this.node.setSiblingIndex(-1)},i([p(cc.Node)],e.prototype,"fadeMask",void 0),i([f],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Managers/EffectManager":"EffectManager"}],Seat:[function(t,e,n){"use strict";cc._RF.push(e,"f1d59Sku8xFt7oy+nwKzaVq","Seat");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=u(t("../Managers/EffectManager")),f=s(t("../Managers/EventCenter")),p=t("./Game"),h=cc._decorator,d=h.ccclass,m=h.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=cc.v2(0,9),e.originX=0,e.seatEffectId=0,e.shakeTween=null,e}return r(e,t),e.prototype.init=function(t){this.crd=t,this.originX=this.node.position.x},e.prototype.show=function(){this.render.enabled=!0,this.label.node.active=!0},e.prototype.hide=function(){this.render.enabled=!1,this.label.node.active=!1},Object.defineProperty(e.prototype,"anim",{get:function(){return this.getComponent(cc.Animation)},enumerable:!1,configurable:!0}),e.prototype.highlight=function(){var t=this;this.seatEffectId=l.default.startAnimEffect("seatTips",this.node.parent,cc.v2(this.node.position),function(e){e.setSiblingIndex(t.node.getSiblingIndex()-1)}),this.anim.play("highLight"),this.node.setParent(p.Game.map.topSeatFolder),this.label.node.setParent(p.Game.map.topSeatLblFolder),this.render.spriteFrame=this.lightFrame},e.prototype.cancelHighLight=function(){l.default.stopAnimEffect(this.seatEffectId),this.anim.play("idle"),this.node.parent!=p.Game.map.seatsNode&&(this.node.setParent(p.Game.map.seatsNode),this.label.node.setParent(p.Game.map.seatLabel)),this.render.spriteFrame=this.commonFrame},e.prototype.initDisplay=function(){f.default.on(f.E_MoveMap,this.refreshShowDisplay,this)},e.prototype.clearDisplay=function(){f.default.off(f.E_MoveMap,this.refreshShowDisplay,this)},e.prototype.refreshShowDisplay=function(){p.Game.map.isInFullScreen(this.crd).equals(cc.v2())?this.show():this.hide()},e.prototype.showDust=function(){this.dustSp.node.active=!0,this.dustSp.setAnimation(0,"dust1",!1)},e.prototype.shake=function(){var t;null===(t=this.shakeTween)||void 0===t||t.stop(),this.shakeTween=cc.tween(this.node).to(.05,{x:this.originX+5}).to(.05,{x:this.originX-5}).to(.05,{x:this.originX+5}).to(.05,{x:this.originX-5}).to(.05,{x:this.originX}).start()},c([m],e.prototype,"offset",void 0),c([m(cc.Label)],e.prototype,"label",void 0),c([m(cc.Sprite)],e.prototype,"render",void 0),c([m(cc.SpriteFrame)],e.prototype,"lightFrame",void 0),c([m(cc.SpriteFrame)],e.prototype,"commonFrame",void 0),c([m(sp.Skeleton)],e.prototype,"dustSp",void 0),c([d],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../Managers/EffectManager":"EffectManager","../Managers/EventCenter":"EventCenter","./Game":"Game"}],SettingCom:[function(t,e,n){"use strict";cc._RF.push(e,"1c5c14OEd9DL5/AQwi7fKy/","SettingCom");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=i(t("../Controller/GameManager")),s=t("../Game/Game"),u=i(t("../Managers/EventCenter")),l=t("../Managers/PlatformManager"),f=t("../Managers/SoundManager"),p=a(t("./FuiCom")),h=a(t("./UI")),d=a(t("./U_TaskTips")),m=function(){function t(t,e,n){this.debugTime=0,this.hideFunc=e,this.openFunc=n,this.view=t}return t.prototype.init=function(){var t=this;this.view.m_back.onClick(function(){t.hide()}),this.view.m_menu.onClick(function(){s.Game.Ins&&s.Game.Ins.recordTGA(),t.returnMenu()}),this.view.m_effectSwitch.onClick(function(){f.SM.switchEffect(!f.SM.activeEffect),t.refresh()}),this.view.m_musicSwitch.onClick(function(){f.SM.switchMusic(!f.SM.activeMusic),t.refresh()}),this.view.m_gridSwitch.onClick(function(){s.Game.showGrid=!s.Game.showGrid,t.refresh()}),this.view.m_shakeSwitch.onClick(function(){c.default.Ins.isShake=!c.default.Ins.isShake,t.refresh()}),this.view.m_debugStart.onClick(function(){l.Plat.getParam(l.GMParamKey.showDebug)&&t.onClickDebugStart()})},t.prototype.hideMenuBtn=function(){this.view.m_menu.visible=!1},t.prototype.refresh=function(){this.view.m_effectSwitch.m_cOpen.selectedIndex=f.SM.activeEffect?1:0,this.view.m_musicSwitch.m_cOpen.selectedIndex=f.SM.activeMusic?1:0,this.view.m_shakeSwitch.m_cOpen.selectedIndex=c.default.Ins.isShake?1:0,this.view.m_gridSwitch.m_cOpen.selectedIndex=s.Game.showGrid?1:0},t.prototype.onClickDebugStart=function(){this.debugTime++,this.debugTime>=5&&(s.Game.isInDebug=!0,h.default.getUI(d.default).setData("\u8c03\u8bd5\u5df2\u5f00\u542f"),u.default.send(u.E_RefreshDebug))},t.prototype.show=function(){this.openFunc&&this.openFunc(),p.default.backShow(this.view),this.debugTime=0,this.view.visible=!0,this.refresh()},t.prototype.hide=function(){this.hideFunc&&this.hideFunc(),this.view.visible=!1},t.prototype.returnMenu=function(){s.Game.Ins.exitLevel(),c.default.Ins.jumpToScene(c.SceneName.home)},t}();n.default=m,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Game/Game":"Game","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Managers/SoundManager":"SoundManager","./FuiCom":"FuiCom","./UI":"UI","./U_TaskTips":"U_TaskTips"}],SoundManager:[function(t,e,n){"use strict";cc._RF.push(e,"74ec3w2rINIza+EZziVPaA0","SoundManager");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.SM=n.Sound=n.SoundType=void 0;var i,a=t("../Utils/CocosExtension"),c=cc._decorator;c.ccclass,c.property,function(t){t.BGM="bgm_01",t.step="step",t.Pi="pi",t.Finish="finish",t.Dialog1="dialog1",t.Dialog2="dialog2",t.Dialog3="dialog3",t.Button="button",t.Angry1="angry1",t.Heng="heng",t.Dong="dong",t.Error="error",t.Bgm1="bgm1",t.Bgm2="bgm2",t.Yeah="yeah",t.Fireworks="yanhua",t.Train="trainHorn",t.Horn="horn"}(i=n.SoundType||(n.SoundType={}));var s=function(){};n.Sound=s;var u=function(){function t(){}return t.init=function(){this.registerSound(i.BGM),this.registerSound(i.step),this.registerSound(i.Pi),this.registerSound(i.Finish),this.registerSound(i.Dialog1),this.registerSound(i.Dialog2),this.registerSound(i.Dialog3),this.registerSound(i.Button),this.registerSound(i.Angry1),this.registerSound(i.Heng),this.registerSound(i.Dong),this.registerSound(i.Error),this.registerSound(i.Bgm1),this.registerSound(i.Bgm2),this.registerSound(i.Yeah),this.registerSound(i.Fireworks),this.registerSound(i.Horn),this.registerSound(i.Train)},Object.defineProperty(t,"activeMusic",{get:function(){return this._activeMusic},enumerable:!1,configurable:!0}),t.switchMusic=function(t){this._activeMusic=t,this.activeMusic&&this.curMusic?this.playMusicCore(this.curMusic,this.curMusicVolume):this.activeMusic||this.stopMusicCore()},Object.defineProperty(t,"activeEffect",{get:function(){return this._activeEffect},enumerable:!1,configurable:!0}),t.switchEffect=function(t){this._activeEffect=t,this.activeEffect?fairygui.UIConfig.buttonSoundVolumeScale=1:(fairygui.UIConfig.buttonSoundVolumeScale=0,this.stopEffect())},t.registerSound=function(t,e){if(void 0===e&&(e=!1),!this.soundMap.has(t)){var n="sound/"+t,o=new s;o.path=n,o.isEffect=e,this.soundMap.set(t,o)}},t.getClip=function(t){return o(this,void 0,Promise,function(){var e,n;return r(this,function(o){switch(o.label){case 0:return(e=this.audioMap.get(t))?[3,2]:null==(n=this.soundMap.get(t))?(console.error("type is not register: "+t+"  "+n+"  "+this.soundMap.size),[2]):[4,a.loadRes(cc.AudioClip,n.path)];case 1:e=o.sent(),o.label=2;case 2:return[2,e]}})})},t.playMusic=function(t,e){return void 0===e&&(e=1),o(this,void 0,void 0,function(){return r(this,function(){return this.curMusic=t,this.curMusicVolume=e,this._activeMusic?(this.playMusicCore(t,e),[2]):[2]})})},t.playClip=function(t,e,n){return void 0===e&&(e=!0),void 0===n&&(n=1),o(this,void 0,void 0,function(){var o;return r(this,function(){return this._activeMusic?(this.stopMusicCore(),cc.audioEngine.getState(this.musicMap.get(t))==cc.audioEngine.AudioState.PLAYING?[2]:(o=cc.audioEngine.play(t,e,this.musicVolume*n),this.musicMap.set(t,o),[2])):[2]})})},t.playMusicCore=function(t,e){return void 0===e&&(e=1),o(this,void 0,void 0,function(){var n,o;return r(this,function(r){switch(r.label){case 0:return this.stopMusicCore(),[4,this.getClip(t)];case 1:return n=r.sent(),cc.audioEngine.getState(this.musicMap.get(n))==cc.audioEngine.AudioState.PLAYING?[2]:(o=cc.audioEngine.play(n,!0,this.musicVolume*e),this.musicMap.set(n,o),[2])}})})},t.playEffect=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=1),o(this,void 0,void 0,function(){var o,i,a=this;return r(this,function(r){switch(r.label){case 0:return this.activeEffect?(console.log("play sound effect :"+t+"  "+e+"  "+n),[4,this.getClip(t)]):[2];case 1:return o=r.sent(),i=cc.audioEngine.play(o,e,this.effectVolume*n),this.effectMap.set(o,i),e||cc.audioEngine.setFinishCallback(i,function(){return a.effectMap.delete(o)}),[2]}})})},t.playEffectForId=function(t,e){return void 0===e&&(e=1),o(this,void 0,void 0,function(){var n;return r(this,function(o){switch(o.label){case 0:return this.activeEffect?(console.log("play sound effect :"+t+"  "+e),[4,this.getClip(t)]):[2];case 1:return n=o.sent(),[2,cc.audioEngine.play(n,!0,this.effectVolume*e)]}})})},t.stopEffectById=function(t){return o(this,void 0,void 0,function(){return r(this,function(){return cc.audioEngine.stop(t),[2]})})},t.getMusicIsPlay=function(t){return o(this,void 0,void 0,function(){var e,n;return r(this,function(o){switch(o.label){case 0:return e=this.soundMap.get(t),[4,this.getClip(t)];case 1:return(n=o.sent())?e.isEffect?[2,this.effectMap.has(n)]:[2,this.musicMap.has(n)]:[2,!1]}})})},t.stop=function(t){return o(this,void 0,void 0,function(){var e,n,o;return r(this,function(r){switch(r.label){case 0:return e=this.soundMap.get(t),[4,this.getClip(t)];case 1:if(!(n=r.sent()))return[2];if(o=0,e.isEffect){if(!this.effectMap.has(n))return[2];o=this.effectMap.get(n),this.effectMap.delete(n)}else{if(!this.musicMap.has(n))return[2];o=this.musicMap.get(n),this.musicMap.delete(n)}return cc.audioEngine.stop(o),[2]}})})},t.stopMusic=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.curMusic=null,this.stopMusicCore(),[2]})})},t.stopMusicCore=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.musicMap.forEach(function(t){cc.audioEngine.stop(t)}),this.musicMap.clear(),[2]})})},t.stopEffect=function(){return o(this,void 0,void 0,function(){return r(this,function(){return this.effectMap.forEach(function(t){cc.audioEngine.stop(t)}),this.effectMap.clear(),[2]})})},t.stopAll=function(){return o(this,void 0,void 0,function(){return r(this,function(){return cc.audioEngine.stopAll(),this.soundMap.clear(),this.musicMap.clear(),[2]})})},t.setVolume=function(t,e){var n=this.audioMap.get(t),o=this.soundMap.get(t);if(n){var r=0;if(o.isEffect){if(!this.effectMap.has(n))return;r=this.effectMap.get(n)}else{if(!this.musicMap.has(n))return;r=this.musicMap.get(n)}cc.audioEngine.setVolume(r,e)}},t.setAllVolume=function(t){this.setEffectVolume(t),this.setMusicVolume(t)},t.setMusicVolume=function(t){t<0&&(t=0),t>1&&(t=1),this.musicMap.forEach(function(e){cc.audioEngine.setVolume(e,t)}),this.musicVolume=t},t.setEffectVolume=function(t){t<0&&(t=0),t>1&&(t=1),this.effectMap.forEach(function(e){cc.audioEngine.setVolume(e,t)}),this.effectVolume=t},t.soundMap=new Map,t.audioMap=new Map,t.musicMap=new Map,t.effectMap=new Map,t.musicVolume=.8,t.effectVolume=.8,t._activeMusic=!0,t._activeEffect=!0,t}();n.SM=u,window.SM=u,cc._RF.pop()},{"../Utils/CocosExtension":"CocosExtension"}],StateCtrl:[function(t,e,n){"use strict";cc._RF.push(e,"a2ebeeWlDtPeryZ4Q/KlR+j","StateCtrl");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t){this.curState=t,this.stateFuncMap=new Map,this.transFuncMap=new Map}return t.prototype.bindState=function(t,e){return this.stateFuncMap.set(t,e),this},t.prototype.bindTrans=function(t,e,n){return this.transFuncMap.set({start:t,end:e},n),this},t.prototype.is=function(t){return this.curState==t},t.prototype.refresh=function(){var t=this.stateFuncMap.get(this.curState);return t&&t(),this},t.prototype.switchTo=function(t){return o(this,void 0,void 0,function(){var e,n,o,i,a;return r(this,function(r){switch(r.label){case 0:return e=this.curState,n=t,o=null,i=!1,this.transFuncMap.forEach(function(t,r){i||r.start==e&&r.end==n&&(i=!0,o=t)}),a=this.stateFuncMap.get(t),o?[4,o()]:[3,2];case 1:r.sent(),r.label=2;case 2:return a&&a(),this.curState=t,[2]}})})},t.prototype.refreshTo=function(t){var e=this.stateFuncMap.get(t);e&&e(),this.curState=t},t}();n.default=i,cc._RF.pop()},{}],StorageManager:[function(t,e,n){"use strict";cc._RF.push(e,"edcafSZWqFGoIyr3eQ+17di","StorageManager");var o,r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.EStorageKey=void 0,function(t){t.version="version",t.pickaxeLv="pickaxeLv",t.coin="coin",t.resList="resList",t.mapLv="mapLv",t.timeRecord="timeRecord",t.passTutorial="passTutorial",t.fakePlayerNum="fakePlayerNum",t.fakePassNum="fakePassNum",t.coinNum="coinNum",t.energy="energy",t.energyTime="energyTime",t.challengeInfo="challengeInfo",t.finishedLevel="finishedLevel",t.totalRankInfo="TotalRankInfo",t.getSideBarReward="getSideBarReward",t.agreePrivacy="agreePrivacy",t.randLv1="randLv1",t.randLv1Pool="randLv1Pool",t.randLv2="randLv2",t.randLv2Pool="randLv2Pool",t.allPass="allPass",t.peopleSkins="peopleSkins",t.showGridCfg="showGridCfg",t.unlockEarthMax="unlockEarthMax",t.unlockPeople="unlockPeople"}(o=n.EStorageKey||(n.EStorageKey={}));var a=function(){function t(){}return t.save=function(){localStorage.setItem(o.version,"104");var t=[];this.dataMap.forEach(function(e,n){t.push({key:n,val:e})}),localStorage.setItem("StorageData",JSON.stringify(t)),console.warn("\u4fdd\u5b58\u5b58\u6863=====")},t.load=function(){return r(this,void 0,void 0,function(){var t,e,n;return i(this,function(){if(t=localStorage.getItem("StorageData"),e=t?JSON.parse(t):null,this.dataMap=new Map,e)for(n=0;n<e.length;n++)this.dataMap.set(e[n].key,e[n].val);return this.newVer()&&this.newVersion(),[2]})})},t.clear=function(){this.dataMap.clear(),localStorage.clear()},t.newVer=function(){var t=localStorage.getItem("version");return!!t&&"104"!=t},t.Set=function(t,e){this.dataMap.set(t,e)},t.Remove=function(t){this.dataMap.delete(t)},t.Get=function(t,e){return void 0===e&&(e=null),this.dataMap.has(t)?this.dataMap.get(t):e},t.newVersion=function(){for(var t=this.Get(o.peopleSkins,[1]),e=this.Get(o.unlockPeople,[]),n=0;n<t.length;n++)e.indexOf(t[n])<0&&e.push(t[n]);this.Set(o.unlockPeople,e),this.Set(o.allPass,this.Get(o.finishedLevel,[]).length)},t.dataMap=new Map,t}();n.default=a,window.Stor=a,cc._RF.pop()},{}],TGATrack:[function(t,e,n){"use strict";cc._RF.push(e,"8187dJgF/VNxoPsuZxhmYlQ","TGATrack"),Object.defineProperty(n,"__esModule",{value:!0}),n.TK=n.ETrackType=void 0,function(t){t.level1Track="level1Track",t.level2Track="level2Track",t.level3Track="level3Track",t.actives="actives",t.gameTime="gameTime"}(n.ETrackType||(n.ETrackType={}));var o=function(){function t(){}return t.track=function(t,e,n){void 0===e&&(e=HSDK.EventType.Track),void 0===n&&(n={})},t}();n.TK=o,cc._RF.pop()},{}],TTPlatform:[function(t,e,n){"use strict";cc._RF.push(e,"a465bwqyCFDla+u3uMsyxwZ","TTPlatform");var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.TTPlatform=void 0;var a=i(t("../../Controller/TouchCtrl/Toucher")),c=i(t("../../Lib/HSDK/platform")),s=i(t("../../UI/UI")),u=i(t("../../UI/U_AdTips")),l=i(t("../../UI/U_TaskTips")),f=t("../PlatformManager"),p=function(){function t(){this.isInVedio=!1}return t.prototype.addShortcut=function(t,e){tt&&tt.addShortcut({success:t,fail:e})},t.prototype.onHide=function(t){c.default.ui.onHide({listener:function(){return t&&t()}})},t.prototype.getProtocolText=function(){return o(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,c.default.gm.getProtocolText()];case 1:return[2,t.sent()]}})})},t.prototype.onShow=function(t){tt&&tt.onShow(function(e){t&&t(e)})},t.prototype.checkScene=function(t,e){tt&&tt.checkScene({scene:"sidebar",success:function(e){console.log("check scene success: ",e.isExist),t&&t(e.isExist)},fail:function(t){console.log("check scene fail:",t),e&&e(t)}})},t.prototype.jumpScene=function(t,e){tt&&tt.navigateToScene({scene:"sidebar",fail:function(){e&&e(),console.log("open sideBar fail")},success:function(){t&&t(),console.log("open sideBar success")}})},t.prototype.jumpBrandWall=function(){},t.prototype.getBrandWallInfo=function(){return[]},t.prototype.initBrandwall=function(){return o(this,void 0,void 0,function(){return r(this,function(){return[2]})})},t.prototype.onRecorderStart=function(t){console.warn("regist start:"+this.recordManager),this.recordManager.onRecorderStart(t)},t.prototype.onRecorderStop=function(t){console.warn("unregist start:"+this.recordManager),this.recordManager.onRecorderStop(t)},t.prototype.shake=function(t,e){t?(console.log("----- long shake ----- "),tt.vibrateLong({success:function(){},fail:function(){}})):(console.log("---- short shake ---- ","shakeType:",e),tt&&tt.vibrateShort({success:function(){},fail:function(){},type:e}))},t.prototype.weakLogin=function(){var t=this;return new Promise(function(e,n){console.warn("\u5f00\u59cb\u767b\u5f55==="),c.default.user.weakLogin().then(function(n){return o(t,void 0,void 0,function(){var t,o,i,a,s,u,l;return r(this,function(r){switch(r.label){case 0:return t=n,console.warn("\u767b\u5f55\u5b8c\u6bd5==="),o=this,[4,c.default.tool.getGameRecorderManager()];case 1:for(a in o.recordManager=r.sent(),console.warn("recordManager\u521d\u59cb\u5316\uff1b",this.recordManager),i=[],f.GMParamKey)i.push(a);return[4,c.default.gm.getSwitchData({switchIdList:i})];case 2:for(s=r.sent(),f.Plat.params=new Map,u=0;u<i.length;u++)f.Plat.params.set(i[u],s[i[u]]),console.error("gmParams:",i[u],s[i[u]]);return l=this,[4,c.default.customer.createContactButton({type:"image",image:"https://fkzzz-res.hortorgames.com/fkzzz/customer.png",style:{left:300,top:75,width:55,height:45,borderWidth:0,borderRadius:12,textAlign:"center",fontSize:15,lineHeight:30,textColor:"#fff",backgroundColor:"",borderColor:""},customerData:{playerName:"\u6e38\u620f\u540d",playerId:"\u6e38\u620fid",playerLevel:999,rechargeTotalAmount:1e6,playerCreateTime:"1677236644"}})];case 3:return l.customerBtn=r.sent(),e({user:t}),[2]}})})}).catch(function(t){n({error:t})})})},t.prototype.startRecord=function(t,e,n){this.recordManager.start({duration:t,isMarkOpen:e,frameRate:n})},t.prototype.stopRecord=function(){this.recordManager.stop()},t.prototype.showCustomBtn=function(){this.customerBtn.show()},t.prototype.hideCustomBtn=function(){this.customerBtn.hide()},t.prototype.init=function(t,e,n){return o(this,void 0,Promise,function(){return r(this,function(o){switch(o.label){case 0:return[4,c.default.init({gameId:t,gameVersion:n,env:e})];case 1:return o.sent(),[2]}})})},t.prototype.showVideo=function(t,e){var n=this;a.default.block(),s.default.getUI(u.default).show(),this.isInVedio||(this.isInVedio=!0,c.default.ad.video.preload({id:"xrqsc_mix-1"}).then(function(){c.default.ad.video.show({id:"xrqsc_mix-1",onFinishClose:function(){a.default.unblock(),s.default.getUI(u.default).hide(),t&&t(),n.isInVedio=!1,console.log("\u5e7f\u544a\u64ad\u653e\u5b8c\u6bd5")},onQuitClose:function(){a.default.unblock(),s.default.getUI(u.default).hide(),e&&e(),n.isInVedio=!1,console.log("\u5173\u95ed\u5e7f\u544a")},onShowFail:function(){a.default.unblock(),s.default.getUI(u.default).hide(),e&&e(),n.isInVedio=!1,s.default.getUI(l.default).setData("\u5c55\u793a\u5931\u8d25")},onPlayFail:function(){a.default.unblock(),s.default.getUI(u.default).hide(),e&&e(),n.isInVedio=!1,s.default.getUI(l.default).setData("\u64ad\u653e\u5931\u8d25")}})}))},t.prototype.share=function(t){c.default.share.shareMsg(t)},t.prototype.getSwitch=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,c.default.gm.getSwitchData({switchIdList:t}).then()];case 1:return e.sent(),[2]}})})},t}();n.TTPlatform=p,cc._RF.pop()},{"../../Controller/TouchCtrl/Toucher":"Toucher","../../Lib/HSDK/platform":"platform","../../UI/UI":"UI","../../UI/U_AdTips":"U_AdTips","../../UI/U_TaskTips":"U_TaskTips","../PlatformManager":"PlatformManager"}],TestLevel:[function(t,e,n){"use strict";cc._RF.push(e,"e713aQmD9VIUqKEu6Xfu0l6","TestLevel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0}),n.TestLevel=void 0;var l=c(t("../../Controller/GameManager")),f=t("../../Managers/ChallengeMgr"),p=c(t("../../Managers/EventCenter")),h=t("../../Utils/CocosExtension"),d=t("../Game"),m=function(t){function e(e,n,o){void 0===o&&(o=!1);var r=t.call(this)||this;return r.isChallenge=!1,r.load({level:[e],step:[n]}),r.isChallenge=o,r}return r(e,t),e.prototype.start=function(){return s(this,void 0,void 0,function(){var e,n;return u(this,function(o){switch(o.label){case 0:t.prototype.start.call(this),this.isChallenge?d.Game.map.loadChallenge(f.ChallengeMgr.Ins.challengeInfos[this.info.level[0]].levels):d.Game.map.loadLevel(this.curLevel),d.Game.map.init(),d.Game.Ins.tutorialLine.active=!1,d.Game.Ins.tutorialLine2.active=!1,p.default.send(p.E_RefreshUI),p.default.send(p.E_EnterLevel),o.label=1;case 1:return o.trys.push([1,4,,5]),[4,d.Game.map.enterLevel()];case 2:return o.sent(),[4,h.delay(1e3)];case 3:for(o.sent(),e=0;e<d.Game.map.peoples.length;e++)Math.random()>.65||((n=d.Game.map.peoples[e]).isFinish?h.randomElement(n.finishView)():h.randomElement(n.noFinishView)());return[3,5];case 4:return o.sent(),[3,5];case 5:return[2]}})})},e.prototype.rand=function(t){void 0===t&&(t=1)},e.prototype.finishLevel=function(){return s(this,void 0,void 0,function(){return u(this,function(){return this.finishAll(),[2]})})},e.prototype.finishAll=function(){l.default.Ins.jumpToScene(l.SceneName.home)},e}(t("./LevelPipe").LevelPipe);n.TestLevel=m,cc._RF.pop()},{"../../Controller/GameManager":"GameManager","../../Managers/ChallengeMgr":"ChallengeMgr","../../Managers/EventCenter":"EventCenter","../../Utils/CocosExtension":"CocosExtension","../Game":"Game","./LevelPipe":"LevelPipe"}],TimeUtil:[function(t,e,n){"use strict";cc._RF.push(e,"5a5d6dEl69GGKMjv4rmv3ud","TimeUtil");var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),r=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&o(e,t,n);return r(e,t),e};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./Managers/StorageManager")),s=cc._decorator,u=s.ccclass,l=(s.property,function(){function t(){}return t.updateTodayTime=function(){var t=Date.now();c.default.Set(c.EStorageKey.timeRecord,t),c.default.save()},t.time2str=function(t){var e=t%60;return Math.floor(t/60)+":"+(e<10?"0"+e.toFixed():e.toFixed())},t.diffTime=function(){return Date.now()-c.default.Get(c.EStorageKey.timeRecord,Date.now())},t.isToday=function(){var t=Date.now(),e=c.default.Get(c.EStorageKey.timeRecord,0);return this.isSameDay(t,e)},t.isSameDay=function(t,e){var n=new Date(1e3*t),o=new Date(1e3*e);return n.getFullYear()==o.getFullYear()&&n.getMonth()==o.getMonth()&&n.getDate()==o.getDate()},i([u],t)}());n.default=l,cc._RF.pop()},{"./Managers/StorageManager":"StorageManager"}],Toucher:[function(t,e,n){"use strict";cc._RF.push(e,"88ed3w180tPG7OkGE9lSyPf","Toucher"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.bindToucher=function(t){this.touchCtrl=t},t.unbindToucher=function(t){this.touchCtrl==t&&(this.touchCtrl=null)},t.block=function(){this.isBlock=!0},t.unblock=function(){this.isBlock=!1},t.blockCtrl=function(){var t;null===(t=this.touchCtrl)||void 0===t||t.block()},t.unblockCtrl=function(){var t;null===(t=this.touchCtrl)||void 0===t||t.unblock()},t.onTouch=function(t){var e;this.isBlock?console.warn("block toucher"):(this.touchCtrl||console.warn("\u6ca1\u6709\u7ed1\u5b9atoucher"),null===(e=this.touchCtrl)||void 0===e||e.onTouch(t))},t.onMove=function(t,e){var n;this.isBlock?console.warn("block toucher"):(this.touchCtrl||console.warn("\u6ca1\u6709\u7ed1\u5b9atoucher"),null===(n=this.touchCtrl)||void 0===n||n.onMove(t,e))},t.onEnd=function(t){var e;this.touchCtrl||console.warn("\u6ca1\u6709\u7ed1\u5b9atoucher"),null===(e=this.touchCtrl)||void 0===e||e.onEnd(t)},t.touchCtrl=null,t.isBlock=!1,t}();n.default=o,cc._RF.pop()},{}],TutorialLevel:[function(t,e,n){"use strict";cc._RF.push(e,"9fd6foQSB5LLa6J9NHbtlrt","TutorialLevel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},s=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.TutorialLevel=void 0;var f=c(t("../../Controller/GameManager")),p=l(t("../../Controller/TouchCtrl/Toucher")),h=c(t("../../Managers/EventCenter")),d=l(t("../../UI/UI")),m=l(t("../../UI/U_Game")),_=t("../Game"),y=function(t){function e(e){var n=t.call(this)||this;return n.isBackToHome=e,n.load({level:[1],step:[12]}),n}return r(e,t),e.prototype.start=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(n){switch(n.label){case 0:return t.prototype.start.call(this),(e=_.Game.Ins).levelId=1,e.isInToturial=!0,e.tutorialLine.active=!0,e.map.loadLevel(1),e.tutorialMask.active=f.default.Ins.isActiveTutorialMask,e.map.init(),h.default.send(h.E_RefreshUI),h.default.send(h.E_EnterLevel),o=cc.v2(1,2),e.map.crd2lp(o).add(cc.v2(0,70)),e.tutorialLine.active=!1,e.tutorialLine2.active=!1,[4,e.map.enterLevel()];case 1:return n.sent(),[4,e.guide.guideTo(cc.v2(0,0),"\u70b9\u51fb\u5c0f\u4eba")];case 2:return n.sent(),[4,e.guide.guideTo(cc.v2(1,0),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 3:return n.sent(),[4,e.guide.guideTo(cc.v2(3,0),"\u70b9\u51fb\u5c0f\u4eba")];case 4:return n.sent(),[4,e.guide.guideTo(cc.v2(2,0),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 5:return n.sent(),[4,e.guide.guideTo(cc.v2(2,2),"\u70b9\u51fb\u5c0f\u4eba")];case 6:return n.sent(),[4,e.guide.guideTo(cc.v2(0,3),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 7:return n.sent(),[4,e.guide.guideTo(cc.v2(0,4),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 8:return n.sent(),e.tutorialLine.active=!0,[4,e.guide.guideTo(cc.v2(3,4),"\u6905\u80cc\u548c\u5c0f\u4eba\u65e0\u6cd5\u88ab\u7a7f\u8d8a")];case 9:return n.sent(),[4,e.guide.guideTo(cc.v2(2,4),"\u70b9\u51fb\u6321\u4f4f\u7684\u5c0f\u4eba")];case 10:return n.sent(),[4,e.guide.guideTo(cc.v2(2,3),"\u70b9\u51fb\u7a7a\u767d\u5904\n\u632a\u5f00\u6321\u4f4f\u7684\u5c0f\u4eba")];case 11:return n.sent(),[4,e.guide.guideTo(cc.v2(0,4),"\u70b9\u51fb\u5c0f\u4eba")];case 12:return n.sent(),[4,e.guide.guideTo(cc.v2(3,4),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 13:return n.sent(),[4,e.guide.guideTo(cc.v2(3,2),"\u70b9\u51fb\u5c0f\u4eba")];case 14:return n.sent(),[4,e.guide.guideTo(cc.v2(3,1),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 15:return n.sent(),e.tutorialLine2.active=!0,[4,e.guide.guideTo(cc.v2(1,1),"\u70b9\u51fb\u6321\u4f4f\u7684\u5c0f\u4eba")];case 16:return n.sent(),[4,e.guide.guideTo(cc.v2(3,2),"\u70b9\u51fb\u7a7a\u767d\u5904\n\u632a\u5f00\u6321\u4f4f\u7684\u5c0f\u4eba")];case 17:return n.sent(),e.tutorialLine2.active=!1,[4,e.guide.guideTo(cc.v2(2,3),"\u70b9\u51fb\u5c0f\u4eba")];case 18:return n.sent(),[4,e.guide.guideTo(cc.v2(0,1),"\u5c06\u5176\u79fb\u52a8\u5230\u6b63\u786e\u4f4d\u7f6e\u4e0a")];case 19:return n.sent(),[4,d.default.getUI(m.default).popupTutorialTips()];case 20:return n.sent(),[2]}var o})})},e.prototype.finishLevel=function(){this.finishAll()},e.prototype.finishAll=function(){return s(this,void 0,void 0,function(){var t;return u(this,function(){return p.default.block(),this.isBackToHome?f.default.Ins.jumpToScene(f.SceneName.home):(t=f.default.Ins.getCommonGame())?f.default.Ins.jumpToGame(t):f.default.Ins.tipEmptyLevel(),p.default.unblock(),[2]})})},e}(t("./LevelPipe").LevelPipe);n.TutorialLevel=y,cc._RF.pop()},{"../../Controller/GameManager":"GameManager","../../Controller/TouchCtrl/Toucher":"Toucher","../../Managers/EventCenter":"EventCenter","../../UI/UI":"UI","../../UI/U_Game":"U_Game","../Game":"Game","./LevelPipe":"LevelPipe"}],UINode:[function(t,e,n){"use strict";cc._RF.push(e,"477e9Mpw/5In5reNMOgTaWh","UINode"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],UI_Collection:[function(t,e,n){"use strict";cc._RF.push(e,"a747c+uvzNEC7WiRQcP4u7B","UI_Collection");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","Collection")},e.prototype.onConstruct=function(){this.m_hide=this.getChildAt(0),this.m_list=this.getChildAt(2)},e.URL="ui://ccvt37lvm0ge3t",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Game:[function(t,e,n){"use strict";cc._RF.push(e,"0df37jq4p5LYYWk1FZfMvkh","UI_Game");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","Game")},e.prototype.onConstruct=function(){this.m_bottom=this.getChildAt(0),this.m_com=this.getChildAt(1),this.m_settingBtn=this.getChildAt(2),this.m_bottomUIPos=this.getChildAt(3),this.m_topUIPos=this.getChildAt(4),this.m_jumpDown=this.getChildAt(5),this.m_jumpUp=this.getChildAt(6),this.m_record=this.getChildAt(7),this.m_money=this.getChildAt(8),this.m_energy=this.getChildAt(9),this.m_tutorialTips=this.getChildAt(10),this.m_people=this.getChildAt(11),this.m_setting=this.getChildAt(12),this.m_levelTips=this.getChildAt(13),this.m_debugs=this.getChildAt(14),this.m_moneyTipsNode=this.getChildAt(15),this.m_t0=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1),this.m_tFinish=this.getTransitionAt(2),this.m_tIdle=this.getTransitionAt(3),this.m_tTutorialTips=this.getTransitionAt(4)},e.URL="ui://n4ubohg6ul651",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Group:[function(t,e,n){"use strict";cc._RF.push(e,"7e26fk+sjZKWK9pERoUOWsd","UI_Group");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","Group")},e.prototype.onConstruct=function(){this.m_hide=this.getChildAt(0)},e.URL="ui://ccvt37lvyse53r",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Home:[function(t,e,n){"use strict";cc._RF.push(e,"8a460fsVHBNMLND7ZtcNUlF","UI_Home");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","Home")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_bg=this.getChildAt(0),this.m_heads=this.getChildAt(1),this.m_animNode=this.getChildAt(3),this.m_animNode2=this.getChildAt(4),this.m_leftPage=this.getChildAt(5),this.m_rightPage=this.getChildAt(6),this.m_start=this.getChildAt(9),this.m_challengeBtn=this.getChildAt(10),this.m_rank=this.getChildAt(11),this.m_setting=this.getChildAt(12),this.m_pos=this.getChildAt(13),this.m_area=this.getChildAt(14),this.m_item=this.getChildAt(15),this.m_danmu=this.getChildAt(16),this.m_energy=this.getChildAt(17),this.m_money=this.getChildAt(18),this.m_tutorialBtn=this.getChildAt(19),this.m_recordBtn=this.getChildAt(20),this.m_openContent=this.getChildAt(21),this.m_debugs=this.getChildAt(22),this.m_info=this.getChildAt(23),this.m_entra=this.getChildAt(24),this.m_shortCut=this.getChildAt(26),this.m_unlockTips2=this.getChildAt(27),this.m_earthLbl=this.getChildAt(28),this.m_settingPanel=this.getChildAt(29),this.m_group=this.getChildAt(30),this.m_miniGame=this.getChildAt(31),this.m_startPos=this.getChildAt(32),this.m_allLevel=this.getChildAt(33),this.m_t1=this.getTransitionAt(0),this.m_t2=this.getTransitionAt(1),this.m_t3=this.getTransitionAt(2)},e.URL="ui://ccvt37lvtvlp0",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Lose:[function(t,e,n){"use strict";cc._RF.push(e,"f3e3elqog9PCZ5nRzpL/eN+","UI_Lose");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","Lose")},e.prototype.onConstruct=function(){this.m_relifePanel=this.getChildAt(1),this.m_timeCom=this.getChildAt(2),this.m_enter=this.getTransitionAt(0)},e.URL="ui://n4ubohg6dm9j3",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_RankBoard:[function(t,e,n){"use strict";cc._RF.push(e,"1ad28NLLdVLKrDwSlZPMX+F","UI_RankBoard");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","RankBoard")},e.prototype.onConstruct=function(){this.m_hide=this.getChildAt(0),this.m_rankList=this.getChildAt(5)},e.URL="ui://ccvt37lvo3yz2o",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_RankItem:[function(t,e,n){"use strict";cc._RF.push(e,"899c2F/lXJFVL4Z+xjmYNia","UI_RankItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","RankItem")},e.prototype.onConstruct=function(){this.m_cType=this.getControllerAt(0),this.m_rank=this.getChildAt(4),this.m_convince=this.getChildAt(5),this.m_score=this.getChildAt(6)},e.URL="ui://ccvt37lvo3yz2p",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TaskTips:[function(t,e,n){"use strict";cc._RF.push(e,"44c440c6rJMXqdKti9dY8km","UI_TaskTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","TaskTips")},e.prototype.onConstruct=function(){this.m_com=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://nt2s7wbbdr2y1m",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TestLevelItem:[function(t,e,n){"use strict";cc._RF.push(e,"afd81nAMRZNq7Wu6/1S3/RD","UI_TestLevelItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","TestLevelItem")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_lv=this.getChildAt(1),this.m_btn=this.getChildAt(3)},e.URL="ui://ccvt37lvmqdl3k",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TestLevels:[function(t,e,n){"use strict";cc._RF.push(e,"2e6daq3tsVNZ4p3u39G7Btz","UI_TestLevels");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","TestLevels")},e.prototype.onConstruct=function(){this.m_hideBtn=this.getChildAt(1),this.m_list=this.getChildAt(3),this.m_levelDirect=this.getChildAt(5)},e.URL="ui://ccvt37lvmqdl3i",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TouchPad:[function(t,e,n){"use strict";cc._RF.push(e,"f8bc43CKo9Pd7plEceaUPAO","UI_TouchPad");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","TouchPad")},e.prototype.onConstruct=function(){this.m_touch=this.getChildAt(0)},e.URL="ui://nt2s7wbbl7dp2",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_TutorialGame:[function(t,e,n){"use strict";cc._RF.push(e,"ba683XEZ+tDEIuhCA1uAFrZ","UI_TutorialGame");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","TutorialGame")},e.prototype.onConstruct=function(){this.m_timeBar=this.getChildAt(1),this.m_step=this.getChildAt(4),this.m_settingBtn=this.getChildAt(5),this.m_setting=this.getChildAt(6)},e.URL="ui://n4ubohg6nh3ps",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_WinTutorial:[function(t,e,n){"use strict";cc._RF.push(e,"2e7f9I7L8lAx6XVP6MAzbn+","UI_WinTutorial");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","WinTutorial")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(2)},e.URL="ui://n4ubohg6vqsy1",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_Win:[function(t,e,n){"use strict";cc._RF.push(e,"25008AVRjZM0rDAZuIW7L3n","UI_Win");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","Win")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_anim=this.getChildAt(1),this.m_winData=this.getChildAt(2),this.m_share=this.getChildAt(4),this.m_hideBtn=this.getChildAt(5),this.m_energyCom=this.getChildAt(6),this.m_moneyCom=this.getChildAt(7),this.m_getEnergyTxt=this.getChildAt(12),this.m_getCoinTxt=this.getChildAt(13),this.m_enter=this.getTransitionAt(0),this.m_getEnergy=this.getTransitionAt(1),this.m_getMoney=this.getTransitionAt(2)},e.URL="ui://n4ubohg6dm9j2",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_adTips:[function(t,e,n){"use strict";cc._RF.push(e,"85654vDJYFBi56wjX8Qhk8c","UI_adTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","adTips")},e.prototype.onConstruct=function(){this.m_idle=this.getTransitionAt(0)},e.URL="ui://nt2s7wbbh0va31",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_bottom:[function(t,e,n){"use strict";cc._RF.push(e,"a54aakIv0xABJIEnaXOloxw","UI_bottom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","bottom")},e.prototype.onConstruct=function(){this.m_reset=this.getChildAt(1),this.m_addStep=this.getChildAt(2),this.m_stepNum=this.getChildAt(5)},e.URL="ui://n4ubohg6nbbj29",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_challengeItem:[function(t,e,n){"use strict";cc._RF.push(e,"af58eeCl1xO9ovRPc5pCx5e","UI_challengeItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","challengeItem")},e.prototype.onConstruct=function(){this.m_cType=this.getControllerAt(0),this.m_level=this.getChildAt(1),this.m_start=this.getChildAt(5),this.m_lifePos=this.getChildAt(6)},e.URL="ui://ccvt37lvo3yz1s",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_challenge:[function(t,e,n){"use strict";cc._RF.push(e,"fe63bjE7XdBE7I9JRdCq3QU","UI_challenge");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","challenge")},e.prototype.onConstruct=function(){this.m_levelList=this.getChildAt(1),this.m_energy=this.getChildAt(2),this.m_money=this.getChildAt(3),this.m_hide=this.getChildAt(4),this.m_unlock=this.getChildAt(5),this.m_startPos=this.getChildAt(6)},e.URL="ui://ccvt37lvo3yz2f",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_collectionItem:[function(t,e,n){"use strict";cc._RF.push(e,"77d89IkolVN5at/vvwYVi2p","UI_collectionItem");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","collectionItem")},e.prototype.onConstruct=function(){this.m_cUnlock=this.getControllerAt(0),this.m_cRare=this.getControllerAt(1),this.m_skinName=this.getChildAt(6),this.m_animNode=this.getChildAt(7),this.m_rare=this.getChildAt(9)},e.URL="ui://ccvt37lvm0ge3u",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_com:[function(t,e,n){"use strict";cc._RF.push(e,"77116Au9jVGuLbYoijnH/Sr","UI_com");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","com")},e.prototype.onConstruct=function(){this.m_time=this.getChildAt(1),this.m_step=this.getChildAt(3),this.m_warn=this.getTransitionAt(0)},e.URL="ui://n4ubohg6nh3p1c",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_danmu:[function(t,e,n){"use strict";cc._RF.push(e,"c378fjYwXJEs5VhY+DidgNc","UI_danmu");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","danmu")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(1),this.m_t0=this.getTransitionAt(0)},e.URL="ui://ccvt37lvnh3pq",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_debugBtns:[function(t,e,n){"use strict";cc._RF.push(e,"0be4cxjrGhDnbLWJAM7Fsvh","UI_debugBtns");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","debugBtns")},e.prototype.onConstruct=function(){this.m_clear=this.getChildAt(0),this.m_testLevels=this.getChildAt(1),this.m_levelDirect=this.getChildAt(2),this.m_removePeople=this.getChildAt(3)},e.URL="ui://ccvt37lvmqdl3l",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_earthNode:[function(t,e,n){"use strict";cc._RF.push(e,"4941e4TOzFPupM23RHdI7kO","UI_earthNode");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","earthNode")},e.prototype.onConstruct=function(){this.m_animNode=this.getChildAt(0),this.m_confirm=this.getChildAt(1),this.m_buyTips=this.getChildAt(2),this.m_t0=this.getTransitionAt(0)},e.URL="ui://ccvt37lvvqox3o",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_earthTips:[function(t,e,n){"use strict";cc._RF.push(e,"d359bs7ozNK97PuxQe5MpV7","UI_earthTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","earthTips")},e.prototype.onConstruct=function(){this.m_numTips=this.getChildAt(2)},e.URL="ui://ccvt37lvvqox3p",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_endPanel:[function(t,e,n){"use strict";cc._RF.push(e,"fc08aM19ydBXKgDfayA9qJf","UI_endPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","endPanel")},e.prototype.onConstruct=function(){this.m_btn=this.getChildAt(3)},e.URL="ui://n4ubohg6dr2y1r",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_energyCom:[function(t,e,n){"use strict";cc._RF.push(e,"e7d9dpEJRdAaJ8bYVjBAVdq","UI_energyCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","energyCom")},e.prototype.onConstruct=function(){this.m_time=this.getChildAt(2),this.m_num=this.getChildAt(4),this.m_addBtn=this.getChildAt(5)},e.URL="ui://nt2s7wbbdr2y1x",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_gameDebugs:[function(t,e,n){"use strict";cc._RF.push(e,"c6000PMGTZHG709M1JUeE7c","UI_gameDebugs");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","gameDebugs")},e.prototype.onConstruct=function(){this.m_refresh=this.getChildAt(0),this.m_win=this.getChildAt(1),this.m_level=this.getChildAt(2)},e.URL="ui://n4ubohg6h0va37",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getCoin:[function(t,e,n){"use strict";cc._RF.push(e,"553b461g/pN87S3J4ThplOg","UI_getCoin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","getCoin")},e.prototype.onConstruct=function(){this.m_hide=this.getChildAt(0),this.m_confirm=this.getChildAt(2)},e.URL="ui://nt2s7wbbnh3pa",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getEnergyCom:[function(t,e,n){"use strict";cc._RF.push(e,"39c44nr7yBIhJDMkGCDj7iE","UI_getEnergyCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","getEnergyCom")},e.prototype.onConstruct=function(){this.m_confirm=this.getChildAt(3),this.m_swap=this.getChildAt(4)},e.URL="ui://nt2s7wbbo3yz2c",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getEnergy:[function(t,e,n){"use strict";cc._RF.push(e,"70b3e3zP5lF9ollo60Dya+7","UI_getEnergy");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","getEnergy")},e.prototype.onConstruct=function(){this.m_cFull=this.getControllerAt(0),this.m_hide=this.getChildAt(0),this.m_com=this.getChildAt(1),this.m_fullCom=this.getChildAt(2)},e.URL="ui://nt2s7wbbnbbj21",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_getSuperReward:[function(t,e,n){"use strict";cc._RF.push(e,"243d1hDSz5BhKF7cA25uHGQ","UI_getSuperReward");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","getSuperReward")},e.prototype.onConstruct=function(){this.m_confirm=this.getChildAt(4),this.m_cancel=this.getChildAt(5),this.m_t0=this.getTransitionAt(0)},e.URL="ui://n4ubohg6vqox3b",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_headGrp:[function(t,e,n){"use strict";cc._RF.push(e,"8ae0ainrC5MM6Unq/NoZlQx","UI_headGrp");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","headGrp")},e.prototype.onConstruct=function(){this.m_heads=this.getChildAt(0),this.m_title=this.getChildAt(1)},e.URL="ui://ccvt37lvs51v12",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_head:[function(t,e,n){"use strict";cc._RF.push(e,"b2181s6QGpAtpfhjXA9ZZxq","UI_head");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","head")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(1),this.m_t0=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1),this.m_t2=this.getTransitionAt(2),this.m_t3=this.getTransitionAt(3)},e.URL="ui://ccvt37lvs51v14",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_homeBg:[function(t,e,n){"use strict";cc._RF.push(e,"00067jynupASodqlmIO5635","UI_homeBg");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","homeBg")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0)},e.URL="ui://ccvt37lvk4t74h",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_info:[function(t,e,n){"use strict";cc._RF.push(e,"fbb8etYOJJCOKI4sivp/0BT","UI_info");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","info")},e.prototype.onConstruct=function(){this.m_icon=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://ccvt37lvdr2y1f",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_levelTipsStepCom:[function(t,e,n){"use strict";cc._RF.push(e,"396397pF6FMHKu7qJH45L/U","UI_levelTipsStepCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","levelTipsStepCom")},e.prototype.onConstruct=function(){this.m_step=this.getChildAt(1)},e.URL="ui://n4ubohg6luh53f",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_levelTipsTextCom:[function(t,e,n){"use strict";cc._RF.push(e,"79e78kCVkRALZLKlD7Ouk1R","UI_levelTipsTextCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","levelTipsTextCom")},e.prototype.onConstruct=function(){this.m_numTxt=this.getChildAt(1)},e.URL="ui://n4ubohg6luh53g",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_levelTips:[function(t,e,n){"use strict";cc._RF.push(e,"a28d8LASe1F0I9mZgWifhIz","UI_levelTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","levelTips")},e.prototype.onConstruct=function(){this.m_peopleNum=this.getChildAt(1),this.m_step=this.getChildAt(2),this.m_t0=this.getTransitionAt(0)},e.URL="ui://n4ubohg6o3yz2e",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_lifePicWindow:[function(t,e,n){"use strict";cc._RF.push(e,"dedd4aSu6dAWaYjvSwlG1dp","UI_lifePicWindow");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","lifePicWindow")},e.prototype.onConstruct=function(){this.m_lifePic=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://ccvt37lvlb2q4g",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_modal:[function(t,e,n){"use strict";cc._RF.push(e,"a4e1ajFX4pDVJdrXPDfCZ66","UI_modal");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","modal")},e.prototype.onConstruct=function(){this.m_modal=this.getChildAt(0)},e.URL="ui://nt2s7wbbdr2y1l",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_moneyCom:[function(t,e,n){"use strict";cc._RF.push(e,"a7e43/Y+whAPoPZBB1zdIgM","UI_moneyCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","moneyCom")},e.prototype.onConstruct=function(){this.m_num=this.getChildAt(2),this.m_addBtn=this.getChildAt(4),this.m_moneyPos=this.getChildAt(5)},e.URL="ui://nt2s7wbbdr2y1u",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_moneyIcon:[function(t,e,n){"use strict";cc._RF.push(e,"34e108Gs7ZJ86RVaQacKiLJ","UI_moneyIcon");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","moneyIcon")},e.prototype.onConstruct=function(){this.m_t0=this.getTransitionAt(0)},e.URL="ui://n4ubohg6sqn13j",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_moneyTips:[function(t,e,n){"use strict";cc._RF.push(e,"f5e7akpoZlLnIq/dde+fexB","UI_moneyTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","moneyTips")},e.prototype.onConstruct=function(){this.m_num=this.getChildAt(0),this.m_t0=this.getTransitionAt(0)},e.URL="ui://n4ubohg6sqn13i",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_propTips:[function(t,e,n){"use strict";cc._RF.push(e,"52d5fZtY4BNnLsxQzoLSmM4","UI_propTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","propTips")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_hide=this.getChildAt(0),this.m_confirm=this.getChildAt(3),this.m_swap=this.getChildAt(4)},e.URL="ui://n4ubohg6nh3p1j",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_rare:[function(t,e,n){"use strict";cc._RF.push(e,"ebf0af+YoVDM6iLmb8xFmXh","UI_rare");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","rare")},e.prototype.onConstruct=function(){this.m_cRare=this.getControllerAt(0)},e.URL="ui://nt2s7wbblb2q3e",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_recordBtn:[function(t,e,n){"use strict";cc._RF.push(e,"8a7b5/9rzlD4K8MbucsJAuk","UI_recordBtn");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","recordBtn")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_recordBtn=this.getChildAt(0)},e.URL="ui://nt2s7wbbo3yz2o",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_relifePanel:[function(t,e,n){"use strict";cc._RF.push(e,"d21c7PNx/lMe5kMACsAAgQW","UI_relifePanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","relifePanel")},e.prototype.onConstruct=function(){this.m_cLoseType=this.getControllerAt(0),this.m_addTime=this.getChildAt(2),this.m_cancel=this.getChildAt(3),this.m_addStep=this.getChildAt(4)},e.URL="ui://n4ubohg6nh3p19",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_settingPanel:[function(t,e,n){"use strict";cc._RF.push(e,"960084XvzdNzL/tOoeif7CD","UI_settingPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","settingPanel")},e.prototype.onConstruct=function(){this.m_menu=this.getChildAt(4),this.m_back=this.getChildAt(5),this.m_musicSwitch=this.getChildAt(6),this.m_effectSwitch=this.getChildAt(7),this.m_shakeSwitch=this.getChildAt(8),this.m_gridSwitch=this.getChildAt(9),this.m_debugStart=this.getChildAt(10)},e.URL="ui://nt2s7wbbtvlp6",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_shareVideo:[function(t,e,n){"use strict";cc._RF.push(e,"0932eFbcflAKZEJC3kQLprc","UI_shareVideo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","shareVideo")},e.prototype.onConstruct=function(){this.m_confirm=this.getChildAt(1),this.m_cancel=this.getChildAt(2),this.m_hide2=this.getChildAt(3)},e.URL="ui://nt2s7wbbdr2y1v",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_sidebar:[function(t,e,n){"use strict";cc._RF.push(e,"c3796oKjK5JxoPxlTKQvmvs","UI_sidebar");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","sidebar")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_hide=this.getChildAt(0),this.m_jump=this.getChildAt(2)},e.URL="ui://ccvt37lvo3yz37",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_superRewardBtn:[function(t,e,n){"use strict";cc._RF.push(e,"4d254H2OkpO7oSi3MIVJzWD","UI_superRewardBtn");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","superRewardBtn")},e.prototype.onConstruct=function(){this.m_superReward=this.getChildAt(2),this.m_rotate=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1),this.m_t2=this.getTransitionAt(2)},e.URL="ui://n4ubohg6vqox38",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_switch:[function(t,e,n){"use strict";cc._RF.push(e,"00d26B8JmBOCr0jmyHfJAYf","UI_switch");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","switch")},e.prototype.onConstruct=function(){this.m_cOpen=this.getControllerAt(0)},e.URL="ui://nt2s7wbbh0va2y",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_taskTipsCom:[function(t,e,n){"use strict";cc._RF.push(e,"9c6c3F7z55Ce6u3QXLWmIE/","UI_taskTipsCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Common","taskTipsCom")},e.prototype.onConstruct=function(){this.m_text=this.getChildAt(1)},e.URL="ui://nt2s7wbbdr2y1n",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_timeCom:[function(t,e,n){"use strict";cc._RF.push(e,"85510bgzMZKwLQDqJytBu7+","UI_timeCom");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","timeCom")},e.prototype.onConstruct=function(){this.m_txt=this.getChildAt(0)},e.URL="ui://n4ubohg6nh3p16",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_title:[function(t,e,n){"use strict";cc._RF.push(e,"4be94d/ioJHSaTO7AQKO52A","UI_title");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","title")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_location=this.getChildAt(1),this.m_order=this.getChildAt(2)},e.URL="ui://ccvt37lvs51v18",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_unlockChallenge:[function(t,e,n){"use strict";cc._RF.push(e,"eb7075vfOhEIabrtmRoQigC","UI_unlockChallenge");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Home","unlockChallenge")},e.prototype.onConstruct=function(){this.m_swap=this.getChildAt(3),this.m_cancel=this.getChildAt(4)},e.URL="ui://ccvt37lvo3yz24",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_winAnim:[function(t,e,n){"use strict";cc._RF.push(e,"a02e1XzwFBK7bpwQ0QtKhmc","UI_winAnim");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","winAnim")},e.prototype.onConstruct=function(){this.m_c1=this.getControllerAt(0),this.m_cRare=this.getControllerAt(1),this.m_animNode=this.getChildAt(1),this.m_peopleName=this.getChildAt(3),this.m_superReward=this.getChildAt(4),this.m_rare=this.getChildAt(5),this.m_rotate=this.getTransitionAt(0),this.m_t1=this.getTransitionAt(1)},e.URL="ui://n4ubohg6o3yz2x",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI_winData:[function(t,e,n){"use strict";cc._RF.push(e,"c9809t3jntBrYuxrbND8e30","UI_winData");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.createInstance=function(){return fgui.UIPackage.createObject("Mini","winData")},e.prototype.onConstruct=function(){this.m_time=this.getChildAt(2),this.m_people=this.getChildAt(3)},e.URL="ui://n4ubohg6mqdl34",e}(fgui.GComponent);n.default=i,cc._RF.pop()},{}],UI:[function(t,e,n){"use strict";cc._RF.push(e,"8c851v3rvxDjpKDRFU5QH2I","UI");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var r=o(t("../Managers/EventCenter")),i=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return this.instance},enumerable:!1,configurable:!0}),t.getUI=function(t){return this.uiMap.get(t)},t.registUI=function(t,e){this.uiMap.set(t,e)},t.unregistUI=function(t){this.uiMap.delete(t)},t.clearUI=function(){this.uiMap.clear()},t.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];r.default.send("UIEvent_"+t,e)},t.on=function(t,e,n){r.default.on(t,e,n)},t.off=function(t,e,n){r.default.off(t,e,n)},t.instance=null,t.uiMap=new Map,t}();n.default=i,window.UI=i,cc._RF.pop()},{"../Managers/EventCenter":"EventCenter"}],U_AdTips:[function(t,e,n){"use strict";cc._RF.push(e,"cfa3dgJkplHlpowqc/KycCC","U_AdTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"adTips"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"./FuiCom":"FuiCom"}],U_Challenge:[function(t,e,n){"use strict";cc._RF.push(e,"ba1eaht0wNNT5+5mD9ppNke","U_Challenge");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=t("../Const"),h=f(t("../Controller/GameManager")),d=t("../Game/Levels/ChallengeLevel"),m=t("../Managers/ChallengeMgr"),_=s(t("../Managers/EventCenter")),y=f(t("../Managers/StorageManager")),g=f(t("./EnergyCom")),v=f(t("./FuiCom")),b=t("./MoneyCom"),w=f(t("./UI")),P=f(t("./U_GetCoin")),M=f(t("./U_GetEnergy")),C=t("./U_LifePicWindow"),I=f(t("./U_Modal")),O=f(t("./U_TaskTips")),S=cc._decorator,U=S.ccclass,j=(S.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelInfo=[],e.money=null,e.energy=null,e.selectIdx=-1,e}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"challenge"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.show=function(){t.prototype.show.call(this),v.default.backShow(this._view),this.refreshData(),_.default.on(_.E_Tick,this.tickRefresh,this),_.default.on(_.E_InfoChange,this.refresh,this)},e.prototype.hide=function(){t.prototype.hide.call(this),_.default.off(_.E_Tick,this.tickRefresh,this),_.default.off(_.E_InfoChange,this.refresh,this)},e.prototype.onFuiInit=function(){var t=this;this._view.m_hide.onClick(function(){return t.hide()}),this._view.m_levelList.itemRenderer=this.onRenderLevelList.bind(this),this.energy=new g.default(this._view.m_energy),this.money=new b.MoneyCom(this._view.m_money),this.energy.init(),this.money.init(),this._view.m_unlock.m_cancel.onClick(function(){return t.hideUnlock()}),this._view.m_unlock.m_swap.onClick(function(){h.default.Ins.coin>=p.unlockChallenge?(h.default.Ins.coin-=p.unlockChallenge,m.ChallengeMgr.Ins.unlockLevel(t.selectIdx),w.default.getUI(O.default).setData("\u89e3\u9501\u6210\u529f"),t.refresh(),t.hideUnlock()):w.default.getUI(P.default).show()})},e.prototype.showUnlock=function(){this._view.m_unlock.visible=!0,v.default.backShow(this._view.m_unlock)},e.prototype.hideUnlock=function(){this._view.m_unlock.visible=!1},e.prototype.refreshData=function(){this.levelInfo=m.ChallengeMgr.Ins.challengeInfos,this.refresh()},e.prototype.onRenderLevelList=function(t,e){var n=this,o=this.levelInfo[t];e.clearClick(),e.onClick(function(){return u(n,void 0,void 0,function(){var n,r,i;return l(this,function(a){switch(a.label){case 0:return 0!=o.state?[3,1]:(this.selectIdx=t,this.showUnlock(),[3,6]);case 1:return 1!=o.state?[3,5]:h.default.Ins.energy<=0?(w.default.getUI(M.default).show(),[3,4]):[3,2];case 2:return h.default.Ins.energy--,y.default.save(),w.default.getUI(I.default).show(),n=w.default.getUI(C.U_LifePicWindow),r=this._view.m_startPos,i=e.m_lifePos.parent.localToGlobal(e.m_lifePos.x,e.m_lifePos.y),i=this._view.globalToLocal(i.x,i.y),this.refresh(),[4,n.moveToPos(r.x,r.y,i.x,i.y)];case 3:a.sent(),w.default.getUI(I.default).hide(),h.default.Ins.curScene.clearEarth(),h.default.Ins.jumpToGame(new d.ChallengeLevel(t)),a.label=4;case 4:return[3,6];case 5:2==o.state&&w.default.getUI(O.default).setData("\u8be5\u5173\u5361\u5df2\u5b8c\u6210"),a.label=6;case 6:return[2]}})})}),e.m_cType.selectedIndex=o.state},e.prototype.refresh=function(){this._view.m_levelList.numItems=this.levelInfo.length,this.money.refresh(),this.energy.refresh()},e.prototype.tickRefresh=function(){this.energy.tickRefresh()},c([U],e)}(v.default));n.default=j,cc._RF.pop()},{"../Const":"Const","../Controller/GameManager":"GameManager","../Game/Levels/ChallengeLevel":"ChallengeLevel","../Managers/ChallengeMgr":"ChallengeMgr","../Managers/EventCenter":"EventCenter","../Managers/StorageManager":"StorageManager","./EnergyCom":"EnergyCom","./FuiCom":"FuiCom","./MoneyCom":"MoneyCom","./UI":"UI","./U_GetCoin":"U_GetCoin","./U_GetEnergy":"U_GetEnergy","./U_LifePicWindow":"U_LifePicWindow","./U_Modal":"U_Modal","./U_TaskTips":"U_TaskTips"}],U_Collection:[function(t,e,n){"use strict";cc._RF.push(e,"08f48BatHpL5abjJd8q3RO/","U_Collection");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=u(t("../Controller/Earth")),f=t("../Managers/PoolManager"),p=s(t("../Managers/StorageManager")),h=u(t("./FuiCom")),d=cc._decorator,m=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.unlock=[],e.peoples=[],e}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"Collection"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_list.itemRenderer=this.onRenderItem.bind(this),this._view.m_hide.onClick(function(){return t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),h.default.backShow(this._view),this.refresh()},e.prototype.refresh=function(){this.peoples.forEach(function(t){return f.PM.Put(t)}),this.peoples=[],this.unlock=p.default.Get(p.EStorageKey.unlockPeople,[]),this._view.m_list.numItems=config.PeopleSkin.list.length},e.prototype.onRenderItem=function(t,e){var n=config.PeopleSkin.list[t],o=l.default.getPeople(e.m_animNode.displayListContainer);this.peoples.push(o),e.m_skinName.text=n.name,e.m_cUnlock.selectedIndex=this.unlock.indexOf(n.id)>=0?1:0,o.getComponent(sp.Skeleton).setSkin(n.skin),e.m_cRare.selectedIndex=n.rare,e.m_rare.m_cRare.selectedIndex=n.rare},c([m],e)}(h.default));n.default=_,cc._RF.pop()},{"../Controller/Earth":"Earth","../Managers/PoolManager":"PoolManager","../Managers/StorageManager":"StorageManager","./FuiCom":"FuiCom"}],U_EndPanel:[function(t,e,n){"use strict";cc._RF.push(e,"0ed57lPpvpPIL6l+yyeQVMp","U_EndPanel");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=s(t("../Controller/GameManager")),f=u(t("./FuiCom")),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"endPanel"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){this._view.m_btn.onClick(function(){l.default.Ins.jumpToScene(l.SceneName.home)})},e.prototype.show=function(){t.prototype.show.call(this),f.default.backShow(this._view)},c([h],e)}(f.default));n.default=d,cc._RF.pop()},{"../Controller/GameManager":"GameManager","./FuiCom":"FuiCom"}],U_Game:[function(t,e,n){"use strict";cc._RF.push(e,"3e3aaBN/fRI6aQb4R8Uw6Ks","U_Game");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=f(t("../Controller/GameManager")),h=t("../Game/Game"),d=s(t("../Managers/EventCenter")),m=t("../Managers/PlatformManager"),_=t("../Managers/SoundManager"),y=t("../Utils/CocosExtension"),g=f(t("./EnergyCom")),v=f(t("./FairyUI/U_PropTips")),b=f(t("./FuiCom")),w=t("./MoneyCom"),P=f(t("./SettingCom")),M=f(t("./UI")),C=f(t("./U_Modal")),I=f(t("./U_TaskTips")),O=cc._decorator,S=O.ccclass,U=(O.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"Game"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tips",{get:function(){return M.default.getUI(v.default)},enumerable:!1,configurable:!0}),e.prototype.updateLevelTips=function(t){this._view.m_debugs.m_level.text="lv"+t},e.prototype.onFuiInit=function(){var t=this;this._view.m_bottom.m_addStep.onClick(function(){h.Game.Ins.stepPropNum<=0||(h.Game.pause(),t.tips.setData("\u589e\u52a05\u6b65",function(){h.Game.Ins.tgaData.prop1++,h.Game.Ins.stepPropNum--,h.Game.resume(),h.Game.addStep(),_.SM.playEffect(_.SoundType.Finish),t.refresh()},function(){h.Game.resume()},1))}),this._view.m_jumpDown.onClick(function(){h.Game.Ins.jumpToSeat()}),this._view.m_jumpUp.onClick(function(){h.Game.Ins.jumpToSeat()}),this._view.m_debugs.m_win.onClick(function(){return h.Game.Ins.win()}),this._view.m_bottom.m_reset.onClick(function(){h.Game.pause(),t.tips.setData("\u91cd\u65b0\u5f00\u59cb\u672c\u5173",function(){h.Game.resume(),h.Game.reset(),h.Game.Ins.tgaData.prop2++},function(){h.Game.resume()},2)}),this._view.m_debugs.m_refresh.onClick(function(){h.Game.Ins.cancelSelectPeople(),h.Game.Ins.randGame()}),this._view.m_record.onClick(function(){m.Plat.isInRecord?(M.default.getUI(I.default).setData("\u505c\u6b62\u5f55\u5236"),m.platformMix.stopRecord()):(M.default.getUI(I.default).setData("\u5f00\u59cb\u5f55\u5236"),m.platformMix.startRecord(30,!1,60)),t.refresh()}),this.setting=new P.default(this._view.m_setting,function(){return h.Game.resume()},function(){return h.Game.pause()}),this.moneyCom=new w.MoneyCom(this._view.m_money),this.moneyCom.init(),this.energyCom=new g.default(this._view.m_energy),this.energyCom.init(),this.setting.init(),this._view.m_settingBtn.onClick(function(){t.setting.show()})},e.prototype.popupTutorialTips=function(){var t=this;return new Promise(function(e){t._view.m_tutorialTips.visible=!0,t._view.m_tTutorialTips.play(function(){return e()})})},e.prototype.rewardFromPeople=function(t,e){var n=b.default.Get(this.pkg.pkgName,"moneyTips",this._view.m_moneyTipsNode);n.touchable=!1,n.setPivot(.5,.5,!0);var o=b.default.Get(this.pkg.pkgName,"moneyIcon",this._view);n.m_num.text="+"+t;var r=h.Game.map.crd2fp(e),i=this._view.globalToLocal(r.x,r.y),a=this.moneyCom.view.m_moneyPos,c=b.default.getWp(a);c=this._view.globalToLocal(c.x,c.y),o.setPivot(.5,.5,!0),o.x=i.x,o.touchable=!1,o.y=i.y,o.m_t0.play(function(){cc.tween(o).to(.5,{x:c.x,y:c.y},{easing:cc.easing.quadIn}).call(function(){b.default.Put(o),n.m_t0.play(function(){return b.default.Put(n)}),p.default.Ins.coin+=t,d.default.send(d.E_InfoChange)}).start()})},e.prototype.show=function(){t.prototype.show.call(this),d.default.on(d.E_RefreshUI,this.refresh,this),d.default.on(d.E_MoveMap,this.refreshJumpBtn,this),d.default.on(d.E_StartGame,this.onStartGame,this),d.default.on(d.E_InfoChange,this.refresh,this),d.default.on(d.E_RecordChange,this.refresh,this),d.default.on(d.E_MovePeople,this.onMovePeople,this),d.default.on(d.E_FinishLevel,this.onFinishLevel,this),d.default.on(d.E_EnterLevel,this.onEnterLevel,this),d.default.on(d.E_RefreshDebug,this.refreshDebug,this),this.refreshJumpBtn(),this.refreshDebug()},e.prototype.refreshDebug=function(){this._view.m_debugs.visible=h.Game.isInDebug},e.prototype.hide=function(){t.prototype.hide.call(this),d.default.off(d.E_RefreshUI,this.refresh,this),d.default.off(d.E_MoveMap,this.refreshJumpBtn,this),d.default.off(d.E_StartGame,this.onStartGame,this),d.default.off(d.E_RecordChange,this.refresh,this),d.default.off(d.E_InfoChange,this.refresh,this),d.default.off(d.E_FinishLevel,this.onFinishLevel,this),d.default.off(d.E_EnterLevel,this.onEnterLevel,this),d.default.off(d.E_MovePeople,this.onMovePeople,this),d.default.off(d.E_RefreshDebug,this.refreshDebug,this)},e.prototype.onMovePeople=function(){h.Game.Ins.remainStep<=5&&this._view.m_com.m_warn.play()},e.prototype.tickRefresh=function(){this.energyCom.tickRefresh()},e.prototype.onEnterLevel=function(){return u(this,void 0,void 0,function(){var t=this;return l(this,function(e){switch(e.label){case 0:return this._view.m_levelTips.m_step.m_step.text=h.Game.Ins.maxStep.toFixed(),this._view.m_levelTips.m_peopleNum.m_numTxt.text=h.Game.Ins.finishedPeopleNum+"/"+h.Game.Ins.peopleNum,[4,y.delay(700)];case 1:return e.sent(),M.default.getUI(C.default).show(),this._view.m_levelTips.visible=!0,this._view.m_levelTips.m_t0.play(function(){M.default.getUI(C.default).hide(),t._view.m_levelTips.visible=!1}),[2]}})})},e.prototype.onFinishLevel=function(){},e.prototype.onStartGame=function(){},e.prototype.playStep=function(){},e.prototype.refresh=function(){this._view.m_com.m_step.text=h.Game.Ins.remainStep.toFixed();var t=y.time2str(h.Game.Ins.time);this._view.m_com.m_time.text=t,this.moneyCom.refresh(),this.energyCom.refresh(),this._view.m_bottom.m_stepNum.text=""+h.Game.Ins.stepPropNum,this._view.m_bottom.m_addStep.grayed=h.Game.Ins.stepPropNum<=0,this._view.m_record.m_c1.selectedIndex=m.Plat.isInRecord?1:0,this._view.m_people.m_numTxt.text=h.Game.Ins.finishedPeopleNum+"/"+h.Game.Ins.peopleNum},e.prototype.refreshJumpBtn=function(){var t=h.Game.Ins.selectedPeople;if(t){var e=h.Game.map.seatCrd2Crd(t.targetSeatCrd),n=h.Game.map.isInScreen(e),o=!n.equals(cc.v2()),r=n.y>0;n.x,this._view.m_jumpDown.visible=!r&&o,this._view.m_jumpUp.visible=r&&o}else this._view.m_jumpDown.visible=this._view.m_jumpUp.visible=!1},c([S],e)}(b.default));n.default=U,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Game/Game":"Game","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Managers/SoundManager":"SoundManager","../Utils/CocosExtension":"CocosExtension","./EnergyCom":"EnergyCom","./FairyUI/U_PropTips":"U_PropTips","./FuiCom":"FuiCom","./MoneyCom":"MoneyCom","./SettingCom":"SettingCom","./UI":"UI","./U_Modal":"U_Modal","./U_TaskTips":"U_TaskTips"}],U_GetCoin:[function(t,e,n){"use strict";cc._RF.push(e,"5ce1a3lmhtL6qmRg7U1dSfu","U_GetCoin");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=u(t("../Controller/GameManager")),f=s(t("../Managers/EventCenter")),p=t("../Managers/PlatformManager"),h=t("../Managers/SoundManager"),d=u(t("./FuiCom")),m=u(t("./UI")),_=u(t("./U_TaskTips")),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"getCoin"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_confirm.onClick(function(){p.platformMix.showVideo(function(){l.default.Ins.coin+=1e3,f.default.send(f.E_InfoChange),h.SM.playEffect(h.SoundType.Finish),m.default.getUI(_.default).setData("\u83b7\u53d6\u6210\u529f")},function(){return m.default.getUI(_.default).setData("\u83b7\u53d6\u5931\u8d25")})}),this._view.m_hide.onClick(function(){t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),d.default.backShow(this._view)},c([g],e)}(d.default));n.default=v,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Managers/SoundManager":"SoundManager","./FuiCom":"FuiCom","./UI":"UI","./U_TaskTips":"U_TaskTips"}],U_GetEnergy:[function(t,e,n){"use strict";cc._RF.push(e,"b39dduy0BdH3ZsJ9aXKAO6B","U_GetEnergy");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=s(t("../Controller/GameManager")),f=s(t("../Managers/EventCenter")),p=t("../Managers/PlatformManager"),h=t("../Managers/SoundManager"),d=u(t("./FuiCom")),m=u(t("./UI")),_=u(t("./U_GetCoin")),y=u(t("./U_TaskTips")),g=cc._decorator,v=g.ccclass,b=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"getEnergy"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_com.m_confirm.onClick(function(){p.platformMix.showVideo(function(){l.default.Ins.energy+=1,h.SM.playEffect(h.SoundType.Finish),f.default.send(f.E_InfoChange),m.default.getUI(y.default).setData("\u83b7\u53d6\u6210\u529f"),t.hide()},function(){return m.default.getUI(y.default).setData("\u83b7\u53d6\u5931\u8d25")})}),this._view.m_hide.onClick(function(){return t.hide()}),this._view.m_com.m_swap.onClick(function(){if(l.default.Ins.coin<1e3)return m.default.getUI(_.default).show(),void m.default.getUI(y.default).setData("\u91d1\u5e01\u4e0d\u8db3");l.default.Ins.coin-=1e3,l.default.Ins.energy++,f.default.send(f.E_InfoChange),m.default.getUI(y.default).setData("\u5151\u6362\u6210\u529f"),t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),this._view.m_cFull.selectedIndex=l.default.Ins.energy>=l.maxEnergy?1:0,d.default.backShow(this._view)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.tickRefresh=function(){},c([v],e)}(d.default));n.default=b,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Managers/SoundManager":"SoundManager","./FuiCom":"FuiCom","./UI":"UI","./U_GetCoin":"U_GetCoin","./U_TaskTips":"U_TaskTips"}],U_GetSuperReward:[function(t,e,n){"use strict";cc._RF.push(e,"bfed2A1knhJXbP/ladyOAcU","U_GetSuperReward");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.U_GetSuperReward=void 0;var a=t("../Game/Game"),c=t("../Managers/PlatformManager"),s=i(t("./FuiCom")),u=i(t("./UI")),l=i(t("./U_TaskTips")),f=i(t("./U_Win")),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"getSuperReward"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_confirm.onClick(function(){c.platformMix.showVideo(function(){a.Game.Ins.rewardSkin(!0),a.Game.Ins.hasGetRewardChoice=!1,u.default.getUI(f.default).hide(),u.default.getUI(f.default).show(),t.hide()},function(){u.default.getUI(l.default).setData("\u83b7\u53d6\u5931\u8d25")})}),this._view.m_cancel.onClick(function(){return t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),s.default.backShow(this._view)},e}(s.default);n.U_GetSuperReward=p,cc._RF.pop()},{"../Game/Game":"Game","../Managers/PlatformManager":"PlatformManager","./FuiCom":"FuiCom","./UI":"UI","./U_TaskTips":"U_TaskTips","./U_Win":"U_Win"}],U_Group:[function(t,e,n){"use strict";cc._RF.push(e,"4b5980bhMFK65b+IGsgloAY","U_Group");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.U_Group=void 0;var c=a(t("../FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"Group"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_hide.onClick(function(){return t.hide()})},e.prototype.show=function(){t.prototype.show.call(this),c.default.backShow(this._view)},i([u],e)}(c.default));n.U_Group=l,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_Home:[function(t,e,n){"use strict";cc._RF.push(e,"23682uU9dRBBbYqP+i9KIAS","U_Home");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=f(t("../../Controller/Earth")),h=f(t("../../Controller/GameManager")),d=t("../../Game/Game"),m=s(t("../../Managers/EventCenter")),_=t("../../Managers/PlatformManager"),y=t("../../Managers/SoundManager"),g=s(t("../../Managers/StorageManager")),v=t("../../Utils/CocosExtension"),b=f(t("../../ui_gen/Home/UI_head")),w=f(t("../EnergyCom")),P=f(t("../FuiCom")),M=t("../MoneyCom"),C=f(t("../SettingCom")),I=f(t("../UI")),O=f(t("../U_Challenge")),S=f(t("../U_Collection")),U=f(t("../U_GetEnergy")),j=t("../U_LifePicWindow"),T=f(t("../U_Modal")),R=f(t("../U_SideBar")),E=f(t("../U_TaskTips")),A=t("./U_Group"),k=f(t("./U_TestLevels")),x=cc._decorator,G=x.ccclass,L=(x.property,["\u6cb3\u5317","\u5c71\u897f","\u8fbd\u5b81","\u5409\u6797","\u9ed1\u9f99\u6c5f","\u6c5f\u82cf","\u6d59\u6c5f","\u5b89\u5fbd","\u798f\u5efa","\u6c5f\u897f","\u5c71\u4e1c","\u6cb3\u5357","\u6e56\u5317","\u6e56\u5357","\u5e7f\u4e1c","\u6d77\u5357","\u56db\u5ddd","\u8d35\u5dde","\u4e91\u5357","\u9655\u897f","\u7518\u8083","\u9752\u6d77","\u53f0\u6e7e"]),F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isCurNode1=!0,e.turnLock=!1,e.turnTime=.5,e.starNames=["\u5730\u7403","\u6f6e\u661f","dj\u661f","\u70ed\u5c04\u661f"],e.tipsTween=null,e}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"Home"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lifePicStartPos",{get:function(){return this._view.m_pos},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"home",{get:function(){return d.Game.home},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"view",{get:function(){return this._view},enumerable:!1,configurable:!0}),e.prototype.rand=function(t,e,n){return Math.round(1e5*(.5*Math.sin(1e5*t)+.5)%(n-e)+e)},e.prototype.onFuiInit=function(){var t=this;this._view.m_start.onClick(function(){t.onClickStart()}),this._view.m_danmu.m_t0.setHook("start",function(){t.refresh()}),this._view.m_animNode.m_confirm.onClick(this.unlockEarth,this),this._view.m_animNode2.m_confirm.onClick(this.unlockEarth,this),this.setting=new C.default(this._view.m_settingPanel,null,null),this.moneyCom=new M.MoneyCom(this._view.m_money),this.energyCom=new w.default(this._view.m_energy),this.energyCom.init(),this.moneyCom.init(),this.setting.init(),this.setting.hideMenuBtn(),this._view.on(fairygui.Event.TOUCH_BEGIN,this.hideTips,this),this._view.m_heads.itemRenderer=this.onRenderHeadsGrp.bind(this),this._view.m_heads.setVirtual(),this._view.m_miniGame.onClick(function(){t.home.loadMiniScene()}),this._view.m_group.onClick(function(){I.default.getUI(A.U_Group).show()}),this._view.m_item.onClick(function(){I.default.getUI(S.default).show()}),this._view.m_shortCut.onClick(function(){_.platformMix.addShortcut(function(){I.default.getUI(E.default).setData("\u6dfb\u52a0\u6210\u529f")},function(){return I.default.getUI(E.default).setData("\u6dfb\u52a0\u5931\u8d25")})}),this._view.m_debugs.m_testLevels.onClick(function(){I.default.getUI(k.default).show()}),this._view.m_debugs.m_levelDirect.onClick(function(){return u(t,void 0,void 0,function(){return l(this,function(){return[2]})})}),this._view.m_leftPage.onClick(function(){t.turnLeft()}),this._view.m_rightPage.onClick(function(){t.turnRight()}),this._view.m_group.onClick(function(){}),this._view.m_recordBtn.onClick(function(){_.Plat.isInRecord?(I.default.getUI(E.default).setData("\u505c\u6b62\u5f55\u5236"),_.platformMix.stopRecord()):(I.default.getUI(E.default).setData("\u5f00\u59cb\u5f55\u5236"),_.platformMix.startRecord(30,!1,60)),t.refresh()}),this._view.m_entra.onClick(function(){I.default.getUI(R.default).show()}),this._view.m_setting.onClick(function(){return t.setting.show()}),this._view.m_heads.on(fairygui.Event.SCROLL,this.tick,this),this._view.m_challengeBtn.onClick(function(){I.default.getUI(O.default).show()}),this._view.m_tutorialBtn.onClick(function(){return t.onStartTutorial()},this),Math.floor(Math.random()*_.platformMix.getBrandWallInfo().length),this._view.m_debugs.m_clear.onClick(function(){g.default.clear(),I.default.getUI(E.default).setData("\u5b58\u6863\u5df2\u6e05\u9664")})},e.prototype.getAnimNodes=function(){return{cur:this.isCurNode1?this._view.m_animNode:this._view.m_animNode2,next:this.isCurNode1?this._view.m_animNode2:this._view.m_animNode}},e.prototype.unlockEarth=function(){var t=this;_.platformMix.showVideo(function(){h.default.Ins.unlockEarth++,t.refreshEarth(),t.refresh(),I.default.getUI(E.default).setData("\u606d\u559c\u89e3\u9501\u65b0\u661f\u7403"),g.default.save()},function(){I.default.getUI(E.default).setData("\u83b7\u53d6\u5931\u8d25")})},e.prototype.turnRight=function(){var t=this;if(!this.turnLock){var e=this.getAnimNodes();this.home.addEarth(e.next,this.home.earthIdx+1)&&(this.turnLock=!0,e.next.x=960,cc.tween(e.next).to(this.turnTime,{x:323},{easing:cc.easing.quadOut}).start(),cc.tween(e.cur).to(this.turnTime,{x:-323},{easing:cc.easing.quadOut}).call(function(){t.turnLock=!1,t.home.removeEarth(e.cur.m_animNode.displayListContainer),t.isCurNode1=!t.isCurNode1}).start(),this.home.earthIdx++,e.next.m_buyTips.visible=h.default.Ins.unlockEarth<=this.home.earthIdx&&p.default.getEarthNum()>h.default.Ins.unlockEarth),this.refresh()}},e.prototype.refreshEarth=function(){var t=this.getAnimNodes();this.home.removeEarth(t.cur.m_animNode.displayListContainer),this.home.addEarth(t.cur,this.home.earthIdx),t.cur.m_buyTips.visible=h.default.Ins.unlockEarth<=this.home.earthIdx&&p.default.getEarthNum()>h.default.Ins.unlockEarth},e.prototype.turnLeft=function(){var t=this;if(!this.turnLock){var e=this.getAnimNodes();this.home.addEarth(e.next,this.home.earthIdx-1)&&(this.turnLock=!0,e.next.x=-323,cc.tween(e.next).to(this.turnTime,{x:323},{easing:cc.easing.quadOut}).start(),cc.tween(e.cur).to(this.turnTime,{x:960},{easing:cc.easing.quadOut}).call(function(){t.turnLock=!1,t.home.removeEarth(e.cur.m_animNode.displayListContainer),t.isCurNode1=!t.isCurNode1}).start(),this.home.earthIdx--,e.next.m_buyTips.visible=h.default.Ins.unlockEarth<=this.home.earthIdx&&p.default.getEarthNum()>h.default.Ins.unlockEarth),this.refresh()}},Object.defineProperty(e.prototype,"picAnim",{get:function(){return I.default.getUI(j.U_LifePicWindow)},enumerable:!1,configurable:!0}),e.prototype.tick=function(){},e.prototype.onStartTutorial=function(){h.default.Ins.jumpToTutorial(!0)},e.prototype.show=function(){var e=this;t.prototype.show.call(this),this.turnLock=!1,this.refresh(),m.default.on(m.E_InfoChange,this.refresh,this),m.default.on(m.E_RecordChange,this.refresh,this),m.default.on(m.E_RefreshDebug,this.refreshDebug,this);var n=function(){var t;null===(t=e.tipsTween)||void 0===t||t.stop(),e.tipsTween=cc.tween(e._view).delay(5).call(function(){e.tipsTween=null,e.refreshTip(),n()}).start()};n(),this.refreshDebug(),this._view.m_miniGame.visible=_.Plat.getParam(_.GMParamKey.openMiniGame),this._view.m_group.visible=_.Plat.getParam(_.GMParamKey.openGrayContent)},e.prototype.refreshDebug=function(){this._view.m_debugs.visible=d.Game.isInDebug},e.prototype.hide=function(){var e;t.prototype.hide.call(this),m.default.off(m.E_RecordChange,this.refresh,this),m.default.off(m.E_InfoChange,this.refresh,this),m.default.off(m.E_RefreshDebug,this.refreshDebug,this),null===(e=this.tipsTween)||void 0===e||e.stop(),this.tipsTween=null},e.prototype.hideTips=function(){this._view.m_info.visible=!1},e.prototype.refresh=function(){this._view.m_danmu.m_text.text="\u4eca\u65e5\u8f66\u6b21"+h.default.Ins.playerNum+"\u8f66\uff0c\u51c6\u65f6\u53d1\u8f66"+h.default.Ins.passNum+"\u8f66",this.energyCom.refresh(),this.moneyCom.refresh(),this._view.m_energy.text=h.default.Ins.energy.toFixed(),this._view.m_heads.numItems=L.length,this._view.m_entra.visible=_.Plat.hasSideBar&&!g.default.Get(g.EStorageKey.getSideBarReward,!1),this._view.m_recordBtn.m_c1.selectedIndex=_.Plat.isInRecord?1:0,this._view.m_leftPage.visible=this.home.earthIdx>0,this._view.m_rightPage.visible=this.home.earthIdx<Math.min(h.default.Ins.unlockEarth,p.default.getEarthNum()),this._view.m_unlockTips2.visible=h.default.Ins.hasNoPlacedPeople&&this.home.earthIdx<h.default.Ins.unlockEarth,this._view.m_earthLbl.text=""+this.starNames[this.home.earthIdx%4]+(Math.floor(this.home.earthIdx/4)+1),this._view.m_bg.m_c1.selectedIndex=this.home.earthIdx%4,this._view.m_allLevel.text="\u7d2f\u8ba1\u901a\u8fc7"+h.default.Ins.allPass+"\u5173"},e.prototype.refreshTip=function(){this._view.m_c1.selectedIndex=v.randomElement([0,1,2])},e.prototype.tickRefresh=function(){this.energyCom.tickRefresh()},e.prototype.onClickStart=function(){return u(this,void 0,void 0,function(){var t,e;return l(this,function(n){switch(n.label){case 0:return _.platformMix.hideCustomBtn(),t=h.default.Ins.getCommonGame(),h.default.Ins.energy<=0?(I.default.getUI(U.default).show(),[3,4]):[3,1];case 1:return t?[3,2]:(h.default.Ins.tipEmptyLevel(),[3,4]);case 2:return h.default.Ins.energy--,g.default.save(),I.default.getUI(T.default).show(),e=this._view.m_start,this.refresh(),[4,this.picAnim.moveToPos(this._view.m_startPos.x,this._view.m_startPos.y,e.x,e.y)];case 3:n.sent(),I.default.getUI(T.default).hide(),this.home.clearEarth(),h.default.Ins.jumpToGame(t),n.label=4;case 4:return[2]}})})},e.prototype.setInfoTips=function(t,e,n){var o=this._view.m_info,r=o.width,i=o.height,a=cc.misc.clampf(t,r/2,this._view.width-r/2),c=cc.misc.clampf(e,i,this._view.height);o.visible=!0,o.m_t0.play(),o.m_icon.url=this.getResUrl("info"+this.rand(n,1,6)),o.x=a,o.y=c},e.prototype.onRenderHeadsGrp=function(t,e){var n=this;e.m_title.m_order.text="\u7b2c"+v.arabicNumToCNNum(t+1)+"\u540d",e.m_title.m_location.text=L[t],e.m_title.m_c1.selectedIndex=t>3?3:t,e.m_heads._children.forEach(function(e,o){if(e instanceof b.default){var r=100*t+o;e.m_icon.url=n.getResUrl("head"+n.rand(r,1,6)),e.clearClick(),e.onClick(function(){var t=e.parent.localToGlobal(e.x,e.y),o=n._view.globalToLocal(t.x,t.y);n.setInfoTips(o.x,o.y,r),y.SM.playEffect(y.SoundType.Button)})}})},c([G],e)}(P.default);n.default=F,cc._RF.pop()},{"../../Controller/Earth":"Earth","../../Controller/GameManager":"GameManager","../../Game/Game":"Game","../../Managers/EventCenter":"EventCenter","../../Managers/PlatformManager":"PlatformManager","../../Managers/SoundManager":"SoundManager","../../Managers/StorageManager":"StorageManager","../../Utils/CocosExtension":"CocosExtension","../../ui_gen/Home/UI_head":"UI_head","../EnergyCom":"EnergyCom","../FuiCom":"FuiCom","../MoneyCom":"MoneyCom","../SettingCom":"SettingCom","../UI":"UI","../U_Challenge":"U_Challenge","../U_Collection":"U_Collection","../U_GetEnergy":"U_GetEnergy","../U_LifePicWindow":"U_LifePicWindow","../U_Modal":"U_Modal","../U_SideBar":"U_SideBar","../U_TaskTips":"U_TaskTips","./U_Group":"U_Group","./U_TestLevels":"U_TestLevels"}],U_LifePicWindow:[function(t,e,n){"use strict";cc._RF.push(e,"c6033AyAWNNm7VWH2vnzG6V","U_LifePicWindow");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0}),n.U_LifePicWindow=void 0;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"lifePicWindow"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.moveToPos=function(t,e,n,o){return i(this,void 0,void 0,function(){var r=this;return a(this,function(){return[2,new Promise(function(i){var a=r._view.m_lifePic;a.visible=!0,a.x=t,a.y=e,cc.tween(a).to(.5,{x:n,y:o},{easing:cc.easing.quadOut}).call(function(){r._view.m_t0.play(function(){i()})}).start()})]})})},e}(c(t("./FuiCom")).default);n.U_LifePicWindow=s,cc._RF.pop()},{"./FuiCom":"FuiCom"}],U_Lose:[function(t,e,n){"use strict";cc._RF.push(e,"03e373n3XxCKI7X2mqBOVZs","U_Lose");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Game/Game"),s=t("../Managers/PlatformManager"),u=a(t("./FuiCom")),l=a(t("./UI")),f=a(t("./U_EndPanel")),p=cc._decorator,h=p.ccclass,d=(p.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"Lose"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_relifePanel.m_cancel.onClick(function(){t.hide(),l.default.getUI(f.default).show()}),this._view.m_relifePanel.m_addStep.onClick(function(){s.platformMix.showVideo(function(){c.Game.Ins.step-=5,c.Game.Ins.continue()},null)})},e.prototype.show=function(){t.prototype.show.call(this),this._view.m_enter.play(),this._view.m_relifePanel.m_cLoseType.selectedIndex=1},i([h],e)}(u.default));n.default=d,cc._RF.pop()},{"../Game/Game":"Game","../Managers/PlatformManager":"PlatformManager","./FuiCom":"FuiCom","./UI":"UI","./U_EndPanel":"U_EndPanel"}],U_Modal:[function(t,e,n){"use strict";cc._RF.push(e,"56d67ac/iNCnrHm3CbI69uw","U_Modal");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"modal"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"./FuiCom":"FuiCom"}],U_PropTips:[function(t,e,n){"use strict";cc._RF.push(e,"90d9fGpV+ZIAYTK6bYVbGo1","U_PropTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=s(t("../../Controller/GameManager")),f=t("../../Game/Game"),p=t("../../Managers/PlatformManager"),h=u(t("../FuiCom")),d=u(t("../UI")),m=u(t("../U_GetCoin")),_=u(t("../U_TaskTips")),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"propTips"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.setData=function(t,e,n,o){void 0===n&&(n=null),this.desc=t,this.confirmCall=e,this.cancelCall=n,this._view.m_c1.selectedIndex=o,this.show()},e.prototype.show=function(){t.prototype.show.call(this),h.default.backShow(this._view)},e.prototype.onFuiInit=function(){var t=this;this._view.m_confirm.onClick(function(){d.default.getUI(_.default).setData("\u6b63\u5728\u62c9\u8d77\u5e7f\u544a"),p.platformMix.showVideo(function(){t.confirmCall&&t.confirmCall(),t.confirmCall=null,t.hide()},function(){f.Game.resume(),d.default.getUI(_.default).setData("\u9053\u5177\u83b7\u53d6\u5931\u8d25")}),t.hide()}),this._view.m_hide.onClick(function(){t.cancelCall&&t.cancelCall(),t.hide()}),this._view.m_swap.onClick(function(){return l.default.Ins.coin<l.propPrice?(d.default.getUI(_.default).setData("\u91d1\u5e01\u4e0d\u8db3"),void d.default.getUI(m.default).show()):(l.default.Ins.coin-=l.propPrice,d.default.getUI(_.default).setData("\u5151\u6362\u6210\u529f"),t.confirmCall&&t.confirmCall(),void t.hide())})},c([g],e)}(h.default));n.default=v,cc._RF.pop()},{"../../Controller/GameManager":"GameManager","../../Game/Game":"Game","../../Managers/PlatformManager":"PlatformManager","../FuiCom":"FuiCom","../UI":"UI","../U_GetCoin":"U_GetCoin","../U_TaskTips":"U_TaskTips"}],U_RankBoard:[function(t,e,n){"use strict";cc._RF.push(e,"6698bCFrNZDsrzRI4U8r252","U_RankBoard");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var u=t("../Controller/LeaderBoard"),l=s(t("./FuiCom")),f=cc._decorator,p=f.ccclass,h=(f.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"RankBoard"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_rankList.itemRenderer=this.onRenderItem.bind(this),this._view.m_hide.onClick(function(){return t.hide()})},e.prototype.refreshData=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=this,[4,u.LeaderBoard.getData()];case 1:return t.data=e.sent().body,this.refresh(),[2]}})})},e.prototype.show=function(){return a(this,void 0,void 0,function(){return c(this,function(e){switch(e.label){case 0:return[4,this.refreshData()];case 1:return e.sent(),t.prototype.show.call(this),[2]}})})},e.prototype.refresh=function(){this._view.m_rankList.numItems=this.data.ranks.length},e.prototype.onRenderItem=function(t,e){this.data.ranks[t],e.m_rank.text=(t+1).toFixed()},i([p],e)}(l.default));n.default=h,cc._RF.pop()},{"../Controller/LeaderBoard":"LeaderBoard","./FuiCom":"FuiCom"}],U_ShareVideo:[function(t,e,n){"use strict";cc._RF.push(e,"8968b0ggV1IVZBx9Vf+RPQD","U_ShareVideo");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=t("../Managers/PlatformManager"),s=a(t("./FuiCom")),u=cc._decorator,l=u.ccclass,f=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"shareVideo"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_cancel.onClick(function(){return t.hide()}),this._view.m_hide2.onClick(function(){return t.hide()})},e.prototype.setData=function(t){this.show(),this._view.m_confirm.clearClick(),console.log("share video"),this._view.m_confirm.onClick(function(){c.platformMix.share({title:"\u9b54\u6027\u5c0f\u6e38\u620f\uff0c\u5728\u5395\u6240\u73a9\u90fd\u8e72\u9ebb\u4e86\uff01",channel:"video",extra:{videoPath:t.videoPath,withVideoId:!0}})})},i([l],e)}(s.default));n.default=f,cc._RF.pop()},{"../Managers/PlatformManager":"PlatformManager","./FuiCom":"FuiCom"}],U_SideBar:[function(t,e,n){"use strict";cc._RF.push(e,"9ffadMWNNhOrYEILZgV7XY1","U_SideBar");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=u(t("../Controller/GameManager")),f=s(t("../Managers/EventCenter")),p=t("../Managers/PlatformManager"),h=s(t("../Managers/StorageManager")),d=u(t("./FuiCom")),m=u(t("./UI")),_=u(t("./U_TaskTips")),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"sidebar"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.show=function(){t.prototype.show.call(this),f.default.on(f.E_ViewSideBar,this.refresh,this)},e.prototype.hide=function(){t.prototype.hide.call(this),f.default.off(f.E_ViewSideBar,this.refresh,this)},e.prototype.onFuiInit=function(){var t=this;this._view.m_hide.onClick(function(){return t.hide()}),this._view.m_jump.onClick(function(){p.Plat.isViewSideBar?(h.default.Set(h.EStorageKey.getSideBarReward,!0),l.default.Ins.coin+=1e3,h.default.save(),m.default.getUI(_.default).setData("\u9886\u53d6\u6210\u529f"),f.default.send(f.E_InfoChange),t.hide()):p.platformMix.jumpScene(function(){p.Plat.isViewSideBar=!0,f.default.send(f.E_ViewSideBar),console.log("open sideBar success")},function(){return console.log("open sideBar fail")})})},e.prototype.refresh=function(){this._view.m_c1.selectedIndex=p.Plat.isViewSideBar?1:0},c([g],e)}(d.default));n.default=v,cc._RF.pop()},{"../Controller/GameManager":"GameManager","../Managers/EventCenter":"EventCenter","../Managers/PlatformManager":"PlatformManager","../Managers/StorageManager":"StorageManager","./FuiCom":"FuiCom","./UI":"UI","./U_TaskTips":"U_TaskTips"}],U_TaskTips:[function(t,e,n){"use strict";cc._RF.push(e,"e738eP7ZrlPP6/6BqqoGKrQ","U_TaskTips");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("./FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"TaskTips"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.setData=function(t){var e=this;this._view.m_t0.play(function(){return e.hide()}),this._view.m_com.m_text.text=t,this.show()},i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"./FuiCom":"FuiCom"}],U_TestLevels:[function(t,e,n){"use strict";cc._RF.push(e,"c5e18Y0NtZBSKhImCyjgM5Y","U_TestLevels");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var s,u=c(t("../../Controller/GameManager")),l=t("../../Game/Levels/TestLevel"),f=c(t("../../Game/MapCtrl")),p=t("../../Managers/ChallengeMgr"),h=c(t("../../Managers/Res")),d=c(t("../FuiCom")),m=cc._decorator,_=m.ccclass;m.property,function(t){t[t.common1=0]="common1",t[t.common2=1]="common2",t[t.rand1=2]="rand1",t[t.rand2=3]="rand2",t[t.challenge=4]="challenge"}(s||(s={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.datas=[],e}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Home",comName:"TestLevels"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.show=function(){t.prototype.show.call(this),d.default.backShow(this._view),this.refresh()},e.prototype.refresh=function(){var t;this.datas=[],(t=this.datas).push.apply(t,a(config.MapLevels.list.map(function(t){return{level:t.level1,step:t.step1,type:s.common1}}),config.MapLevels.list.map(function(t){return{level:t.level2,step:t.step2,type:s.common2}}),config.RandLevel1.list.map(function(t){return{level:t.level,step:t.step,type:s.rand1}}),config.RandLevel2.list.map(function(t){return{level:t.level,step:t.step,type:s.rand2}}),p.ChallengeMgr.Ins.challengeInfos.map(function(t,e){return{level:e,step:t.step,type:s.challenge}}))),this._view.m_list.numItems=this.datas.length},e.prototype.onFuiInit=function(){var t=this;this._view.m_hideBtn.onClick(function(){return t.hide()}),this._view.m_list.itemRenderer=this.onRenderLevelList.bind(this),this._view.m_list.setVirtual(),this._view.m_levelDirect.onClick(function(){for(var t=a(config.MapLevels.list.map(function(t){return t.level1}),config.MapLevels.list.map(function(t){return t.level2}),config.RandLevel1.list.map(function(t){return t.level}),config.RandLevel2.list.map(function(t){return t.level}),config.Challenge.list.map(function(t){return t.level})),e="",n=0;n<t.length;n++)for(var o=t[n],r=f.default.parse(h.default.Ins.getMapAsset(o).text),i=[],c=0;c<r.peopleMat.length;c++)for(var s=function(t){var n=r.peopleMat[c][t];if(n){var a=cc.v2(r.colSeat[n.x],r.rowSeat[n.y]);i.findIndex(function(t){return t.equals(a)})>=0&&(e=e.concat("lv"+o+" repeat!:"+f.default.getCrdStr(cc.v2(n.x,n.y))+"\n")),i.push(a),r.seatMat[a.y][a.x]||(e=e.concat("lv"+o+" error!:"+f.default.getCrdStr(cc.v2(n.x,n.y))+"\n"))}},u=0;u<r.peopleMat[c].length;u++)s(u);console.error(e)})},e.prototype.onRenderLevelList=function(t,e){var n=this.datas[t];e.m_btn.clearClick(),e.m_btn.onClick(function(){u.default.Ins.jumpToGame(new l.TestLevel(n.level,n.step,n.type==s.challenge))}),e.m_c1.selectedIndex=n.type,e.m_lv.text="\u5173\u5361"+n.level},i([_],e)}(d.default);n.default=y,cc._RF.pop()},{"../../Controller/GameManager":"GameManager","../../Game/Levels/TestLevel":"TestLevel","../../Game/MapCtrl":"MapCtrl","../../Managers/ChallengeMgr":"ChallengeMgr","../../Managers/Res":"Res","../FuiCom":"FuiCom"}],U_TouchPad:[function(t,e,n){"use strict";cc._RF.push(e,"126070qMLlEzLTcM5KEbw3E","U_TouchPad");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=a(t("../../Controller/TouchCtrl/Toucher")),u=cc._decorator,l=u.ccclass,f=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBlockTouch=!1,e.isInTouch=!1,e}return r(e,t),Object.defineProperty(e.prototype,"active",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Common",comName:"TouchPad",exts:[]}},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){this._view.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this._view.on(fairygui.Event.TOUCH_BEGIN,this.onTouch,this),this._view.on(fairygui.Event.TOUCH_END,this.onTouchEnd,this)},e.prototype.block=function(){this.isBlockTouch=!0},e.prototype.unblock=function(){this.isBlockTouch=!1},e.prototype.onTouch=function(t){if(!this.isBlockTouch){var e=t.touch.getLocation();s.default.onTouch(e),this.isInTouch=!0}},e.prototype.onTouchEnd=function(t){if(!this.isBlockTouch){var e=t.touch.getLocation();this.isInTouch=!1,s.default.onEnd(e)}},e.prototype.onTouchMove=function(t){if(!this.isBlockTouch&&this.isInTouch){var e=t.getLocation(),n=t.getDelta();s.default.onMove(e,n)}},i([l],e)}(c.default));n.default=f,cc._RF.pop()},{"../../Controller/TouchCtrl/Toucher":"Toucher","../FuiCom":"FuiCom"}],U_TutorialGame:[function(t,e,n){"use strict";cc._RF.push(e,"6e77cQ1ucNHOLjChvsM3b3c","U_TutorialGame");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var l=s(t("../../Controller/GameManager")),f=t("../../Game/Game"),p=s(t("../../Managers/EventCenter")),h=u(t("../FuiCom")),d=u(t("../SettingCom")),m=u(t("../UI")),_=u(t("./U_PropTips")),y=cc._decorator,g=y.ccclass,v=(y.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"TutorialGame"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tips",{get:function(){return m.default.getUI(_.default)},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this.settingCom=new d.default(this._view.m_setting,function(){return f.Game.resume()},function(){return f.Game.pause()}),this.settingCom.init(),this._view.m_settingBtn.onClick(function(){t.settingCom.show()})},e.prototype.show=function(){t.prototype.show.call(this),p.default.on(p.E_RefreshUI,this.refresh,this)},e.prototype.hide=function(){t.prototype.hide.call(this),p.default.off(p.E_RefreshUI,this.refresh,this)},e.prototype.returnMenu=function(){f.Game.Ins.exitLevel(),l.default.Ins.jumpToScene(l.SceneName.home)},e.prototype.refresh=function(){this._view.m_step.text=f.Game.Ins.remainStep.toFixed()},c([g],e)}(h.default));n.default=v,cc._RF.pop()},{"../../Controller/GameManager":"GameManager","../../Game/Game":"Game","../../Managers/EventCenter":"EventCenter","../FuiCom":"FuiCom","../SettingCom":"SettingCom","../UI":"UI","./U_PropTips":"U_PropTips"}],U_WinTutorial:[function(t,e,n){"use strict";cc._RF.push(e,"75ab5AoMdxOSalBPycRQD2Y","U_WinTutorial");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var c=a(t("../FuiCom")),s=cc._decorator,u=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"WinTutorial"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.show=function(){var e=this;t.prototype.show.call(this),this._view.alpha=255,cc.tween(this._view).to(1,{alpha:0}).call(function(){return e.hide()}).start()},i([u],e)}(c.default));n.default=l,cc._RF.pop()},{"../FuiCom":"FuiCom"}],U_Win:[function(t,e,n){"use strict";cc._RF.push(e,"b86f2397ENCOqN8nxJ0/cwR","U_Win");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return a(e,t),e},u=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,i){function a(t){try{s(o.next(t))}catch(e){i(e)}}function c(t){try{s(o.throw(t))}catch(e){i(e)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((o=o.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(c){i=[6,c],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},f=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(n,"__esModule",{value:!0});var p=t("../Const"),h=s(t("../Controller/GameManager")),d=t("../Game/Game"),m=t("../Managers/PlatformManager"),_=t("../Managers/PoolManager"),y=f(t("../Managers/Res")),g=t("../Managers/SoundManager"),v=t("../Utils/CocosExtension"),b=f(t("./EnergyCom")),w=f(t("./FuiCom")),P=t("./MoneyCom"),M=f(t("./UI")),C=t("./U_GetSuperReward"),I=cc._decorator,O=I.ccclass,S=(I.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"pkg",{get:function(){return{pkgName:"Mini",comName:"Win"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return!1},enumerable:!1,configurable:!0}),e.prototype.onFuiInit=function(){var t=this;this._view.m_hideBtn.onClick(function(){h.default.Ins.jumpToScene(h.SceneName.home)}),this._view.m_share.onClick(function(){m.platformMix.share({})}),this._view.m_enter.setHook("superReward",function(){d.Game.Ins.hasGetRewardChoice&&Math.random()<.4&&M.default.getUI(C.U_GetSuperReward).show()}),this.moneyCom=new P.MoneyCom(this._view.m_moneyCom),this.energyCom=new b.default(this._view.m_energyCom),this.moneyCom.init(),this.energyCom.init(),this._view.m_anim.m_superReward.m_superReward.onClick(function(){M.default.getUI(C.U_GetSuperReward).show()}),this._view.m_getEnergy.setHook("update",this.rewardEnergy.bind(this)),this._view.m_getMoney.setHook("update",this.rewardCoin.bind(this)),this._view.m_enter.setHook("reward",function(){return u(t,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return this._view.m_getEnergy.play(),[4,v.delay(700)];case 1:return t.sent(),this._view.m_getMoney.play(),[2]}})})})},e.prototype.rewardEnergy=function(){this._view.m_getEnergyTxt.text="+1",this.energyCom.refresh(),g.SM.playEffect(g.SoundType.Finish)},e.prototype.rewardCoin=function(){this._view.m_getCoinTxt.text="+"+p.commonLevelReward,g.SM.playEffect(g.SoundType.Finish),this.moneyCom.refresh()},e.prototype.refresh=function(){this._view.m_winData.m_time.text=v.time2str(d.Game.Ins.time),this._view.m_winData.m_people.text=d.Game.Ins.pipe.allPeople.toFixed()+"\u4eba",this._view.m_c1.selectedIndex=v.randomElement([0,1,2,3,4,5,6]),this._view.m_anim.m_superReward.visible=d.Game.Ins.hasGetRewardChoice},e.prototype.show=function(){t.prototype.show.call(this),this._view.m_enter.play(),this.refresh(),this.moneyCom.refresh(),this.moneyCom.view.m_num.text=""+(h.default.Ins.coin-p.commonLevelReward),this.energyCom.refresh(),this.energyCom.view.m_num.text=""+(h.default.Ins.energy-1);var e=config.PeopleSkin.getById(d.Game.Ins.rewardSkinCfgId);e?(this.spineAnim=_.PM.Get(y.default.Ins.getPrefab("peopleSpine")),this.spineAnim.setParent(this._view.m_anim.m_animNode.displayListContainer),this.spineAnim.getComponent(sp.Skeleton).setSkin(e.skin),this._view.m_anim.m_peopleName.text=e.name,this._view.m_anim.m_rare.m_cRare.selectedIndex=e.rare,this.spineAnim.angle=0,this.spineAnim.scale=1.5,this.spineAnim.setPosition(0,0),this._view.m_anim.m_cRare.selectedIndex=e.rare):console.error("\u627e\u4e0d\u5230\u76ae\u80a4\uff1a",d.Game.Ins.rewardSkinCfgId)},e.prototype.hide=function(){t.prototype.hide.call(this),this.spineAnim&&(_.PM.Put(this.spineAnim),this.spineAnim=null)},e.prototype.tickRefresh=function(){this.energyCom.tickRefresh()},c([O],e)}(w.default));n.default=S,cc._RF.pop()},{"../Const":"Const","../Controller/GameManager":"GameManager","../Game/Game":"Game","../Managers/PlatformManager":"PlatformManager","../Managers/PoolManager":"PoolManager","../Managers/Res":"Res","../Managers/SoundManager":"SoundManager","../Utils/CocosExtension":"CocosExtension","./EnergyCom":"EnergyCom","./FuiCom":"FuiCom","./MoneyCom":"MoneyCom","./UI":"UI","./U_GetSuperReward":"U_GetSuperReward"}],Widget:[function(t,e,n){"use strict";cc._RF.push(e,"d9a79+6FLJDsqmewicM2nQt","Widget");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.privateNode=!0,e.nodesMap=new Map,e}var n;return r(e,t),n=e,e.prototype.getCom=function(t,e){var n=this.getNode(t);return n?n.getComponent(e):null},e.prototype.getNode=function(t){return this.nodesMap.get(t)||null},e.prototype.scan=function(){this.nodesMap=new Map,this.scanChild(this.node)},e.prototype.scanChild=function(t){var e=this;t.children.forEach(function(t){e.debugChild(t),t.name.length>0&&"_"==t.name[0]&&e.nodesMap.set(t.name,t);var o=t.getComponent(n);o&&o.privateNode||e.scanChild(t)})},e.prototype.debugChild=function(){},e.prototype.onLoad=function(){this.scan()},i([s],e.prototype,"privateNode",void 0),n=i([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{}],arraycollection:[function(t,e,n){"use strict";cc._RF.push(e,"a6871f9r3xF449ZLRRhMgOx","arraycollection"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){if(this.sizeNum=0,"number"==typeof t){if(t<0)throw new Error("is no arrayList index : "+t);this.elementData=new Array(t)}else this.constructor(10)}return t.prototype.add=function(t,e){"number"==typeof t?(this.ensureExplicitVapacity(),this.rangeCheck(t),this.elementData.splice(t,0,e),this.sizeNum++):(this.ensureExplicitVapacity(),this.elementData[this.sizeNum]=t,this.sizeNum++)},t.prototype.get=function(t){return this.rangeCheck(t),this.elementData[t]},t.prototype.contains=function(t){return-1!=this.elementData.indexOf(t)},t.prototype.clear=function(){this.elementData=[],this.sizeNum=0},t.prototype.update=function(t,e){this.rangeCheck(t),this.elementData[t]=e},t.prototype.remove=function(t){for(var e=!1,n=0;n<this.sizeNum;n++)this.get(n)===t&&(e=this.removeAt(n));if(0==e)return console.log("is no object?"),e},t.prototype.removeAt=function(t){return this.elementData.splice(t,1),this.sizeNum--,!0},t.prototype.size=function(){return this.sizeNum},t.prototype.rangeCheck=function(t){if(t>=this.sizeNum||t<0)throw new Error("is no index---\x3e"+t)},t.prototype.ensureExplicitVapacity=function(){if(this.elementData.length<this.sizeNum+1){var t=this.elementData.length,e=t+(t>>1);this.elementData.length=e}},t}();n.default=o,cc._RF.pop()},{}],collectutil:[function(t,e,n){"use strict";cc._RF.push(e,"db5dflPoP9JCINuazUNBX1t","collectutil"),Object.defineProperty(n,"__esModule",{value:!0}),n.MULTIPLE_INSTANCES_FOUND_MSG=n.ITEM_NOT_FOUND_MSG=n.objCompare=n.Group=void 0;var o=t("./list");n.Group=function(t,e){this.list=new o.List,this.groups=t,this.list=new o.List(e)},n.objCompare=function(t,e){return t==e},n.ITEM_NOT_FOUND_MSG="Item does not exist.",n.MULTIPLE_INSTANCES_FOUND_MSG="Multiple instances of entity found.",cc._RF.pop()},{"./list":"list"}],config:[function(t,e){"use strict";var n;cc._RF.push(e,"6c0dbKNXW1FabOgJpe9NGoD","config"),function(t){var e=function(t,n,o){var r=n[o];if(void 0===r)return t;if(0===r){for(var i=[],a=0,c=t.length;a<c;++a)i.push(e(t[a],n,o+1));return i}if(1===r){for(var s in i=new Map,t)i.set(s,e(t[s],n,o+1));return i}if(2===r){for(var s in i=new Map,t)i.set(parseInt(s),e(t[s],n,o+1));return i}return i=new r,Object.assign(i,t),i};(function(t){t[t.AddCoin=1]="AddCoin",t[t.AddExp=2]="AddExp"})(t.GameRewardType||(t.GameRewardType={}));var n=function(){};t.GameRewardData=n;var o=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.MapLevels=o;var r=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.Bus=r;var i=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.Challenge=i;var a=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.RandLevel1=a;var c=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.RandLevel2=c;var s=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.PeopleSkin=s;var u=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.People1=u;var l=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(e,n){for(var o in n||(t.list.length=0,t.map.clear()),e){var r=e[o],i=t.map.get(r.id),a=i||new t;Object.assign(a,r),i||(t.list.push(a),t.map.set(a.id,a))}},t.list=[],t.map=new Map,t}();t.Seat1=l;var f=function(){function t(){}return t.getById=function(e){return t.map.get(e)},t.decode=function(o,r){for(var i in r||(t.list.length=0,t.map.clear()),o){var a=o[i],c=t.map.get(a.id),s=c||new t;Object.assign(s,a),a.dynamicArray&&(s.dynamicArray=e(a.dynamicArray,[0,n],0)),a.dynamicMap&&(s.dynamicMap=e(a.dynamicMap,[2,n],0)),a.enumMap&&(s.enumMap=e(a.enumMap,[1],0)),a.arrayMap&&(s.arrayMap=e(a.arrayMap,[0,1,0],0)),a.arrayMap2&&(s.arrayMap2=e(a.arrayMap2,[0,0,1],0)),a.dynamic&&(s.dynamic=e(a.dynamic,[n],0)),a.dynamicMapArray&&(s.dynamicMapArray=e(a.dynamicMapArray,[1,0,n],0)),a.dynamicArrayArray&&(s.dynamicArrayArray=e(a.dynamicArrayArray,[0,0,n],0)),a.enumKeyMap&&(s.enumKeyMap=e(a.enumKeyMap,[2,0],0)),c||(t.list.push(s),t.map.set(s.id,s))}},t.list=[],t.map=new Map,t}();t.Task=f,t.decodeConfig=function(t,e){for(var n in void 0===e&&(e=!1),t)"MapLevels"===n&&o.decode(t[n],e),"bus"===n&&r.decode(t[n],e),"Challenge"===n&&i.decode(t[n],e),"RandLevel1"===n&&a.decode(t[n],e),"RandLevel2"===n&&c.decode(t[n],e),"PeopleSkin"===n&&s.decode(t[n],e),"people1"===n&&u.decode(t[n],e),"seat1"===n&&l.decode(t[n],e),"task"===n&&f.decode(t[n],e)},t.configList=["GameRewardData","MapLevels","bus","Challenge","RandLevel1","RandLevel2","PeopleSkin","people1","seat1","task"]}(n||(n={})),window.config=n,cc._RF.pop()},{}],dictionary:[function(t,e,n){"use strict";cc._RF.push(e,"53500yn+TVCFphwIUpxbfKA","dictionary"),Object.defineProperty(n,"__esModule",{value:!0}),n.KeyValuePair=n.Dictionary=void 0;var o=t("./list"),r=t("./collectutil"),i=function(){function t(t){void 0===t&&(t=null),this.list=new Array,t&&(this.list=t)}return t.prototype.add=function(t,e){var n=new a(t,e);if(this.containsKey(t))throw"Duplicate key. Cannot add.";this.list.push(n)},t.prototype.addRange=function(t){var e=this;t.forEach(function(t){return e.add(t.key,t.value)})},t.prototype.clear=function(){this.list=new Array},t.prototype.remove=function(t){var e=new Array;this.list.forEach(function(n){t(n)||e.push(n)}),this.list=e},t.prototype.containsKey=function(t){return this.any(function(e){return r.objCompare(e.key,t)})},t.prototype.containsValue=function(t){return this.any(function(e){return r.objCompare(e.value,t)})},t.prototype.tryGetValue=function(t){var e=this.singleOrDefault(function(e){return r.objCompare(e.key,t)});return e?e.value:null},t.prototype.asEnumerable=function(){return this},Object.defineProperty(t.prototype,"length",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),t.prototype.elementAt=function(t){try{return this.list[t]}catch(e){return null}},t.prototype.any=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(t(this.list[e]))return!0;return!1},t.prototype.all=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(!t(this.list[e]))return!1;return!0},t.prototype.single=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw r.ITEM_NOT_FOUND_MSG;if(t){var e=this.singleOrDefault(t);if(!e)throw r.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.first=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw r.ITEM_NOT_FOUND_MSG;if(t){var e=this.firstOrDefault(t);if(!e)throw r.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.last=function(t){if(this.list.length<=0)throw r.ITEM_NOT_FOUND_MSG;if(t){var e=this.lastOrDefault(t);if(!e)throw r.ITEM_NOT_FOUND_MSG;return e}return this.list[this.list.length-1]},t.prototype.singleOrDefault=function(t){var e=new Array;if(this.list.filter(function(n){t(n)&&e.push(n)}),e.length>1)throw r.MULTIPLE_INSTANCES_FOUND_MSG;return e.length<=0?null:e[0]},t.prototype.firstOrDefault=function(t){for(var e=0;e<this.length;e++){var n=this.list[e];if(t(n))return n}return null},t.prototype.lastOrDefault=function(t){for(var e=this.length;e>=0;e--){var n=this.list[e-1];if(t(n))return n}return null},t.prototype.where=function(e){var n=new t;return this.list.filter(function(t){e(t)&&n.add(t.key,t.value)}),n},t.prototype.select=function(t){var e=new o.List;return this.forEach(function(n){return e.add(t(n))}),e},t.prototype.forEach=function(t){this.list.forEach(function(e){return t(e)})},t.prototype.toArray=function(){return this.list},t.prototype.join=function(t,e,n,r,i){void 0===i&&(i=!1);var a=new o.List;return this.list.forEach(function(o){var c=t.toArray().filter(function(t){return e(o)===n(t)});i&&c&&c.length<=0?a.add(r(o,null)):c.forEach(function(t){return a.add(r(o,t))})}),a},t.prototype.groupBy=function(t){var e={};this.list.forEach(function(n){var o=JSON.stringify(t(n));e[o]=e[o]||[],e[o].push(n)});var n=Object.keys(e).map(function(t){var n=t.substr(1,t.length-2);return new r.Group(n.split(","),e[t])});return new o.List(n)},t.prototype.orderBy=function(t){var e=this.list.sort(function(e,n){return t.compare(e,n)});return new o.List(e)},t.prototype.distinct=function(t){var e=new o.List;return this.forEach(function(n){e.forEach(function(o){t.equals(n,o)||e.add(n)})}),e},t.prototype.union=function(t){return this.addRange(t.toArray()),this},t.prototype.skip=function(e){return e>0?new t(this.list.slice(e,this.list.length-1)):this},t.prototype.take=function(e){return e>0?new t(this.list.slice(0,e)):this},t.prototype.sum=function(t){var e=0;return this.list.forEach(function(n){return e+=t(n)}),e},t.prototype.avg=function(t){return this.sum(t)/this.length},t.prototype.min=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r<e&&(e=r)}n++}),e},t.prototype.max=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r>e&&(e=r)}n++}),e},t.prototype.count=function(t){if(void 0===t&&(t=null),!t)return this.length;var e=0;return this.list.forEach(function(n){t(n)&&e++}),e},t}();n.Dictionary=i;var a=function(t,e){this.key=t,this.value=e};n.KeyValuePair=a,cc._RF.pop()},{"./collectutil":"collectutil","./list":"list"}],interfaces:[function(t,e,n){"use strict";cc._RF.push(e,"1f7fc41HCxMBJn+WQrBQgwb","interfaces"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],list:[function(t,e,n){"use strict";cc._RF.push(e,"95a9bbn+wdD7pQUKgZXRTU6","list"),Object.defineProperty(n,"__esModule",{value:!0}),n.List=void 0;var o=t("./collectutil"),r=function(){function t(t){void 0===t&&(t=null),this.list=new Array,t&&(this.list=t)}return t.prototype.add=function(t){this.list.push(t)},t.prototype.addRange=function(t){var e=this;t.forEach(function(t){return e.add(t)})},t.prototype.remove=function(t){var e=new Array;this.list.forEach(function(n){t(n)||e.push(n)}),this.list=e},t.prototype.clear=function(){this.list=new Array},t.prototype.asEnumerable=function(){return this},Object.defineProperty(t.prototype,"length",{get:function(){return this.list.length},enumerable:!1,configurable:!0}),t.prototype.elementAt=function(t){try{return this.list[t]}catch(e){return null}},t.prototype.any=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(t(this.list[e]))return!0;return!1},t.prototype.all=function(t){if(!t)return this.list.length>0;for(var e=0;e<this.list.length;e++)if(!t(this.list[e]))return!1;return!0},t.prototype.single=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw o.ITEM_NOT_FOUND_MSG;if(t){var e=this.singleOrDefault(t);if(!e)throw o.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.first=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw o.ITEM_NOT_FOUND_MSG;if(t){var e=this.firstOrDefault(t);if(!e)throw o.ITEM_NOT_FOUND_MSG;return e}return this.list[0]},t.prototype.last=function(t){if(void 0===t&&(t=null),this.list.length<=0)throw o.ITEM_NOT_FOUND_MSG;if(t){var e=this.lastOrDefault(t);if(!e)throw o.ITEM_NOT_FOUND_MSG;return e}return this.list[this.list.length-1]},t.prototype.singleOrDefault=function(t){var e=new Array;if(this.list.filter(function(n){t(n)&&e.push(n)}),e.length>1)throw o.MULTIPLE_INSTANCES_FOUND_MSG;return e.length<=0?null:e[0]},t.prototype.firstOrDefault=function(t){for(var e=0;e<this.length;e++){var n=this.list[e];if(t(n))return n}return null},t.prototype.lastOrDefault=function(t){for(var e=this.length;e>=0;e--){var n=this.list[e-1];if(t(n))return n}return null},t.prototype.where=function(e){var n=new t;return this.list.filter(function(t){e(t)&&n.add(t)}),n},t.prototype.select=function(e){var n=new t;return this.forEach(function(t){return n.add(e(t))}),n},t.prototype.forEach=function(t){this.list.forEach(function(e){return t(e)})},t.prototype.toArray=function(){return this.list},t.prototype.join=function(e,n,o,r,i){void 0===i&&(i=!1);var a=new t;return this.list.forEach(function(t){var c=e.toArray().filter(function(e){return n(t)===o(e)});i&&c&&c.length<=0?a.add(r(t,null)):c.forEach(function(e){return a.add(r(t,e))})}),a},t.prototype.groupBy=function(e){var n={};return this.list.forEach(function(t){var o=JSON.stringify(e(t));n[o]=n[o]||[],n[o].push(t)}),new t(Object.keys(n).map(function(t){var e=t.substr(1,t.length-2);return new o.Group(e.split(","),n[t])}))},t.prototype.orderBy=function(e){return new t(this.list.sort(function(t,n){return e.compare(t,n)}))},t.prototype.union=function(t){return this.addRange(t.toArray()),this},t.prototype.distinct=function(e){var n=new t;return this.forEach(function(t){n.forEach(function(o){e.equals(t,o)||n.add(t)})}),n},t.prototype.skip=function(e){return e>0?new t(this.list.slice(e,this.list.length-1)):this},t.prototype.take=function(e){return e>0?new t(this.list.slice(0,e)):this},t.prototype.sum=function(t){var e=0;return this.list.forEach(function(n){return e+=t(n)}),e},t.prototype.avg=function(t){return this.sum(t)/this.length},t.prototype.min=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r<e&&(e=r)}n++}),e},t.prototype.max=function(t){var e=0,n=0;return this.list.forEach(function(o){if(0==n)e=t(o);else{var r=t(o);r>e&&(e=r)}n++}),e},t.prototype.count=function(t){if(void 0===t&&(t=null),!t)return this.length;var e=0;return this.list.forEach(function(n){t(n)&&e++}),e},t}();n.List=r,cc._RF.pop()},{"./collectutil":"collectutil"}],platform:[function(t,e,n){"use strict";cc._RF.push(e,"e5badlA9gJEv5+BAixy/tU0","platform");var o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),r=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o};function r(t,e){try{var n=!1;(d||g||h)&&(n=!0),e&&n&&(e=JSON.stringify(e)),console.warn("[platform]: "+t+" ",e||"")}catch(o){console.warn("[platform]: "+t+" \u53c2\u6570\u6253\u5370\u5931\u8d25")}}function i(){r("current platform not support this api")}Object.defineProperty(n,"__esModule",{value:!0}),n.platformEnv=void 0,r("platformVersion","v1.6.5"),r("platformTagTime","2023-11-02");var a=!1;n.platformEnv={get isEgretGame(){return window&&window.egret&&window.egret.Capabilities},get isCocosGame(){return window&&window.cc&&window.cc.sys},get isCocos3(){return n.platformEnv.isCocosGame&&cc.sys.Platform&&cc.sys.Platform.WECHAT_GAME},get isDebug(){return!!a||!n.platformEnv.isCocosGame&&!!window.DEBUG},get isWX(){return n.platformEnv.isCocosGame?!n.platformEnv.isQQ&&(n.platformEnv.isCocos3?cc.sys.platform===cc.sys.Platform.WECHAT_GAME:cc.sys.platform===cc.sys.WECHAT_GAME):!!n.platformEnv.isEgretGame&&egret.Capabilities.runtimeType===egret.RuntimeType.WXGAME&&!n.platformEnv.isQQ},get isWXWindows(){var t,e,o=!1;return n.platformEnv.isWX&&(null===(e=null===(t=wx.getSystemInfoSync())||void 0===t?void 0:t.system.toLocaleLowerCase())||void 0===e?void 0:e.includes("windows"))&&(o=!0),o},get isWXMac(){var t,e,o=!1;return n.platformEnv.isWX&&(null===(e=null===(t=wx.getSystemInfoSync())||void 0===t?void 0:t.system.toLocaleLowerCase())||void 0===e?void 0:e.includes("mac"))&&(o=!0),o},get isTT(){return!!n.platformEnv.isCocosGame&&(cc.sys.platform===cc.sys.BYTEDANCE_GAME||cc.sys.platform===cc.sys.BYTEDANCE_MINI_GAME)},get isQQ(){return window&&window.qq&&"function"==typeof window.qq.login},get isHW(){return window&&window.qg&&"function"==typeof window.qg.gameLogin},get isNativeAPP(){return!n.platformEnv.isCocosGame&&!!n.platformEnv.isEgretGame&&egret.Capabilities.runtimeType===egret.RuntimeType.NATIVE},get isNativeIOSAPP(){return!n.platformEnv.isCocosGame&&!!n.platformEnv.isEgretGame&&egret.Capabilities.runtimeType===egret.RuntimeType.NATIVE&&"iOS"===egret.Capabilities.os},get isNativeAndroidAPP(){return!n.platformEnv.isCocosGame&&!!n.platformEnv.isEgretGame&&egret.Capabilities.runtimeType===egret.RuntimeType.NATIVE&&"Android"===egret.Capabilities.os},get isH5(){return n.platformEnv.isCocosGame?n.platformEnv.isCocos3?cc.sys.platform===cc.sys.Platform.DESKTOP_BROWSER||cc.sys.platform===cc.sys.Platform.MOBILE_BROWSER:cc.sys.platform===cc.sys.DESKTOP_BROWSER||cc.sys.platform===cc.sys.MOBILE_BROWSER:!!n.platformEnv.isEgretGame&&egret.Capabilities.runtimeType===egret.RuntimeType.WEB},get isMixMicroEnd(){if(window&&window.navigator&&window.navigator.userAgent){var t=window.navigator.userAgent;return t.indexOf("mix_micro_end_ios")>-1||t.indexOf("mix_micro_end_android")>-1}return!1},get isH5PageGame(){return n.platformEnv.isH5&&!n.platformEnv.isMixMicroEnd&&!("undefined"!=typeof HSDK&&HSDK.isOverseaH5)},get isH5PageGameOversea(){return n.platformEnv.isH5&&!n.platformEnv.isMixMicroEnd&&"undefined"!=typeof HSDK&&HSDK.isOverseaH5},get isMixMicroEndAndroid(){return!!(window&&window.navigator&&window.navigator.userAgent)&&window.navigator.userAgent.indexOf("mix_micro_end_android")>-1},get isNonMixMicroEnd(){if(window&&window.navigator&&window.navigator.userAgent){var t=window.navigator.userAgent;return t.indexOf("HortorApp")>-1||t.indexOf("gcApp")>-1||t.indexOf("HortorApk")>-1||t.indexOf("gcApk")>-1}return!1}};var c=n.platformEnv.isCocosGame,s=n.platformEnv.isCocos3,u=n.platformEnv.isDebug,l=n.platformEnv.isWX,f=n.platformEnv.isTT,p=n.platformEnv.isQQ,h=n.platformEnv.isHW,d=n.platformEnv.isNativeAPP,m=n.platformEnv.isNativeIOSAPP,_=n.platformEnv.isNativeAndroidAPP,y=n.platformEnv.isH5,g=n.platformEnv.isMixMicroEnd,v=n.platformEnv.isH5PageGame,b=n.platformEnv.isMixMicroEndAndroid,w=n.platformEnv.isNonMixMicroEnd;r(c?"isCocosGame":"isEgretGame"),n.platformEnv.isCocosGame&&r(s?"cocos 3.0":"cocos 2.0"),u&&r("isDebug"),l&&r("isWX"),f&&r("isTT"),p&&r("isQQ"),h&&r("isHW"),d&&r("isNativeAPP"),m&&r("isNativeIOSAPP"),_&&r("isNativeAndroidAPP"),y&&r("isH5"),g&&r("isMixMicroEnd"),v&&r("isH5PageGame"),n.platformEnv.isH5PageGameOversea&&r("isH5PageGameOversea"),b&&r("isMixMicroEndAndroid"),w&&r("isNonMixMicroEnd"),u&&void 0===window.HSDK&&(window.HSDK={},["ENV","LogType","EventType","NoticeType","SMSCodeType","QQScene","WXScene","QQMicroAppType","WXMicroAppType","MicroProgramType","BindPlatformType","AddicationType","SwitchStatus","OverseasCustomerType","ApmPostArea","NotifyRepeatType","NetworkType"].forEach(function(t){window.HSDK[t]={}}));var P=new(function(){function t(){this.user={tryLogin:function(){return r("user.tryLogin"),u?Promise.resolve():d?HSDK.tryLogin():Promise.reject(null)},login:function(t){return r("user.login",t),u?Promise.resolve():l||f||v||p||h||n.platformEnv.isH5PageGameOversea?HSDK.login(t):g||d?HSDK.dialogLogin():Promise.reject(null)},onLogin:function(t){r("user.onLogin",t),(l||f||v||p||h||d||g||n.platformEnv.isH5PageGameOversea)&&HSDK.onLogin(t)},multiPlatformLogin:function(t){return r("user.multiPlatformLogin",t),u?Promise.resolve():d||g?HSDK.dialogLogin(t):v||n.platformEnv.isH5PageGameOversea?HSDK.login():Promise.reject(null)},logout:function(){return r("user.logout"),u?Promise.resolve():d||l||g||n.platformEnv.isH5PageGameOversea?HSDK.logout():Promise.reject(null)},weakLogin:function(t){if(r("user.weakLogin",t),u){var e=localStorage.getItem("userId");e||(e=(new Date).getTime()+"",localStorage.setItem("userId",e));var n={id:e,name:e,authed:!!localStorage.getItem("_fakeAuthed")};return Promise.resolve(n)}return new Promise(function(e,n){l||f||v||p||h?HSDK.weakLogin(t).then(e).catch(function(t){n(t)}):g||d?HSDK.dialogLogin(t).then(e).catch(function(t){n(t)}):n("\u767b\u5f55\u5931\u8d25, \u6682\u4e0d\u652f\u6301\u8be5\u5e73\u53f0")})},createInfoBtn:function(t){return r("user.createInfoBtn",t),l||p?HSDK.createUserInfoButton(t):null},setPlayerInfo:function(t){r("user.setPlayerInfo",t),(l||p||f||h||d||g)&&HSDK.setGameUserInfo(t)},updateInfo:function(t){return r("user.updateInfo",t),u?Promise.resolve():l||f||p||h?HSDK.updateUserInfo(t):Promise.reject(null)},getIsFromChannel:function(){return r("user.getIsFromChannel"),l?HSDK.getIsFromChannel():Promise.reject({isFromChannel:!1})},getFacebookUserInfo:function(){return r("user.getFacebookUserInfo"),d?HSDK.getFacebookUserInfo():Promise.reject(null)},facebookLogin:function(){return r("user.facebookLogin"),u?Promise.resolve():d||g?HSDK.facebookLogin():Promise.reject(null)},googleLogin:function(){return r("user.googleLogin"),u?Promise.resolve():_||g?HSDK.googleLogin():Promise.reject(null)},bindPlatform:function(t){return r("user.bindPlatform",t),u?Promise.resolve():d||g?HSDK.bindPlatform(t):Promise.reject(null)},visitorLogin:function(){return r("user.visitorLogin"),u?Promise.resolve():d||g?HSDK.visitorLogin():Promise.reject(null)},showProtocol:function(){return r("user.showProtocol"),u?Promise.resolve():h||p?HSDK.showProtocol():Promise.reject(null)},onNeedPrivacyAuth:function(t){return r("user.onNeedPrivacyAuth",t),u?Promise.resolve():l?HSDK.onNeedPrivacyAuth(t):Promise.reject(null)},openPrivacyContract:function(){return r("user.openPrivacyContract"),u?Promise.resolve():l?HSDK.openPrivacyContract():Promise.reject(null)},requirePrivacyAuth:function(){return r("user.requirePrivacyAuth"),u?Promise.resolve():l?HSDK.requirePrivacyAuth():Promise.reject(null)},showUserCenter:function(){if(r("user.showUserCenter"),d)return HSDK.showUserCenter({})}},this.share={shareMsg:function(t){return r("share.shareMsg",t),u?Promise.resolve():l||d||g||f||p||h?HSDK.share(t):Promise.reject(null)},onShare:function(t){r("share.onShare",t),(l||p)&&HSDK.onShare(t)},onTimeline:function(t){r("share.onTimeline",t),(l||p)&&HSDK.onShareTimeline(t)},getShareData:function(t){return r("share.getShareData",t),u?Promise.resolve():l||d||p||h?HSDK.getShareData(t):Promise.reject(null)},wxShareMicroApp:function(t){return r("app.wxShareMicroApp",t),u?Promise.resolve():d||w||g?HSDK.wxShareMicroApp(t):Promise.reject(null)},decodeShareTicket:function(){return r("share.decodeShareTicket"),u?Promise.resolve():l?HSDK.decodeShareTicket():Promise.reject(null)},overseaMultiPlatformShare:function(t){return r("share.overseaMultiPlatformShare",t),u?Promise.resolve():d||g?HSDK.overseaMultiPlatformShare(t):Promise.reject(null)}},this.loading={show:function(t){r("loading.show",t),l||d||g||f||p||h?HSDK.showLoading(t):i()},hide:function(){r("loading.hide"),l||d||g||f||p||h?HSDK.hideLoading():i()}},this.ui={showAlert:function(t){r("ui.showAlert",t),(m||_||n.platformEnv.isH5PageGameOversea)&&HSDK.showAlert(t)},exitApp:function(){r("ui.exitApp"),(d||g||h)&&HSDK.exitApp()},onShow:function(t){r("ui.onShow",t),(l||d||g||f)&&HSDK.onShow(t)},onHide:function(t){r("ui.onHide",t),(l||d||g||f)&&HSDK.onHide(t)},showUserProtocol:function(){return r("ui.showUserProtocol"),d||g?(HSDK.openWebview({isShowUserProtocol:!0}),Promise.resolve()):h?HSDK.showUserProtocol():Promise.resolve()},showPrivacyPolicy:function(){return r("ui.showPrivacyPolicy"),d||g?(HSDK.openWebview({isShowUserPrivacy:!0}),Promise.resolve()):h?HSDK.showPrivacyPolicy():Promise.resolve()},closePayModal:function(){return r("ui.closePayModal"),u?Promise.resolve():n.platformEnv.isWXWindows&&HSDK.closeWindowsPayModal?HSDK.closeWindowsPayModal():n.platformEnv.isWXMac&&HSDK.closeMacPayModal?HSDK.closeMacPayModal():Promise.reject(null)}},this.ad={video:{preload:function(t){return r("ad.video.preload",t),u?Promise.resolve():d||g||l||f||p||h?HSDK.preloadAd(t):w?HSDK.preloadVideoAd(t):Promise.reject(null)},show:function(t){r("ad.video.show",t),d||g||l||f||p||h?HSDK.showAd(t):w&&HSDK.showVideoAd(t)}},banner:{preload:function(t){return r("ad.banner.preload",t),l||d||g||f?HSDK.preloadAd(t):Promise.reject(null)},show:function(t){r("ad.banner.show",t),(l||d||g||f)&&HSDK.showAd(t)},hide:function(t){return r("ad.banner.hide",t),u?Promise.resolve():l||d||g||f?HSDK.hideAd(t):Promise.reject(null)}},interstitial:{preload:function(t){return r("ad.interstitial.preload",t),u?Promise.resolve():l||d||g||f?HSDK.preloadAd(t):Promise.reject(null)},show:function(t){r("ad.interstitial.show",t),(l||d||g||f)&&HSDK.showAd(t)}},custom:{preload:function(t){return r("ad.custom.preload",t),u?Promise.resolve():l?HSDK.preloadAd(t):Promise.reject(null)},show:function(t){r("ad.custom.show",t),l&&HSDK.showAd(t)},hide:function(t){return r("ad.hide",t),u?Promise.resolve():l?HSDK.hideAd(t):Promise.reject(null)}}},this.track={gameLog:function(t){r("track.gameLog",t),(l||d||g||w||f||p||h||n.platformEnv.isH5PageGameOversea)&&HSDK.gameTrack(t)},apmLog:function(t){r("track.apmLog",t),(l||f)&&HSDK.postAPMLog(t)},gsLog:function(t){r("track.gsLog",t),l&&HSDK.trackGS(t)},postGameInfo:function(t){r("track.postGameInfo",t),_?HSDK.postGameInfo(t):i()},setTGAAccountId:function(t){r("track.setTGAAccountId",t),d||g?HSDK.setTGAUserAccountId(t):i()}},this.gm={getSwitchData:function(t){return r("gm.getSwitchData",t),u?Promise.resolve():HSDK.checkSwitches(t)},getNotice:function(t){return r("gm.getNotice",t),u?Promise.resolve():d||g?HSDK.getNoticeInfo(t):l||w||f||p||h?HSDK.getNotice(t):Promise.reject(null)},getProtocolText:function(){return r("gm.getProtocolText"),u?Promise.resolve():h||l||f||p?HSDK.getProtocolText():Promise.reject(null)}},this.subscribe={requestMsg:function(t){return r("subscribe.requestMsg",t),u?Promise.resolve():l||f?HSDK.requestSubscribeMessage(t):Promise.reject(null)},getCount:function(){return r("subscribe.getCount"),u?Promise.resolve():l||f?HSDK.getSubscribeMessageCount():Promise.reject(null)},getHasSubscribedGameUpdate:function(){return r("subscribe.getHasSubscribedGameUpdate"),u?Promise.resolve():l?HSDK.getHasSubscribedGameUpdate():Promise.reject(null)},requestSubscribeGameUpdate:function(){return r("subscribe.requestSubscribeGameUpdate"),u?Promise.resolve():l?HSDK.requestSubscribeGameUpdate():Promise.reject(null)}},this.realName={getInfo:function(){return r("realName.getInfo"),u?Promise.resolve():d||g?HSDK.getRealNameInfo():Promise.reject(null)}},this.antiAddiction={listen:function(t){r("antiAddiction.listen",t),(d||g)&&HSDK.onAddictionQuit(t)}},this.apple={showComment:function(t){r("apple.showComment",t),m&&HSDK.showAppComment(t)},onPaySupplement:function(t){r("apple.onPaySupplement",t),m&&HSDK.onApplePaySupplement(t)},deleteAccount:function(){return r("apple.deleteAccount"),u?Promise.resolve():m?HSDK.deleteAppleAccount():Promise.reject(null)}},this.wall={getTaskList:function(t){return r("wall.getTaskList",t),u?Promise.resolve():l?HSDK.getTask(t):Promise.reject(null)},logOpenTaskPanel:function(){r("wall.logOpenTaskPanel"),l&&HSDK.logOpenTaskPanel()},goTask:function(t){return r("wall.goTask",t),u?Promise.resolve():l?HSDK.goTask(t):Promise.reject(null)},getAward:function(t){return r("wall.getAward",t),u?Promise.resolve():l?HSDK.getAward(t):Promise.reject(null)}},this.customer={openMiniApp:function(t){return r("customer.openMiniApp",t),u?Promise.resolve():l?HSDK.openCustomerMiniApp(t):Promise.reject(null)},openConversation:function(t){return r("customer.openConversation"),u?Promise.resolve():l?HSDK.openCustomerServiceConversation(t):Promise.reject(null)},createContactButton:function(t){return r("customer.createContactButton"),u?Promise.resolve():f?HSDK.createContactButton(t):Promise.reject(null)},getGSInfo:function(){return r("customer.getGSInfo"),u?Promise.resolve():l?HSDK.getGSInfo():Promise.reject(null)},jumpGSCustomer:function(){return r("customer.jumpGSCustomer"),u?Promise.resolve():l?HSDK.jumpGSCustomer():Promise.reject(null)},openOverseasCustomer:function(t){if(r("customer.openOverseasCustomer"),d)return HSDK.openOverseasCustomer(t)},onCustomerUnreadMsg:function(t){r("customer.onCustomerUnreadMsg"),d&&HSDK.onCustomerUnreadMsg(t)}},this.app={afReport:function(t){r("app.afReport",t),d&&HSDK.afReport(t)},getTranslateResult:function(t){return r("app.getTranslateResult",t),d?HSDK.getTranslateResult(t):Promise.reject(null)},open:function(t){r("app.open",t),(d||g)&&HSDK.openApp(t)},checkNotifyAuth:function(){return r("app.checkNotifyAuth"),d?HSDK.checkNotifyAuth():Promise.reject(null)},getNotifyData:function(t){return r("app.getNotifyData",t),u?Promise.resolve():d?HSDK.getNotifyData(t):Promise.reject(null)},pushLocalNotify:function(t){r("app.pushLocalNotify",t),d&&HSDK.pushLocalNotify(t)},removeLocalNotify:function(t){r("app.removeLocalNotify",t),d&&HSDK.removeLocalNotify(t)},openNotifyAction:function(){r("app.openNotifyAction"),d&&HSDK.openNotifyAction()},stopLocalNotifyAction:function(){r("app.stopLocalNotifyAction"),d&&HSDK.stopLocalNotifyAction()},stopNotifyAction:function(){r("app.stopNotifyAction"),m&&HSDK.stopNotifyAction()},getNotifyWithLaunch:function(t){r("app.getNotifyWithLaunch",t),m&&HSDK.getNotifyWithLaunch(t)},syncWxUserInfo:function(){return r("app.syncWxUserInfo"),u?Promise.resolve():d||g?HSDK.syncWxUserInfo():Promise.reject(null)},showComment:function(t){r("app.showComment",t),(d||h||l)&&HSDK.showAppComment(t)},openWebview:function(t){r("app.openWebview",t),(d||g)&&HSDK.openWebview(t)},checkRunningProcess:function(t){return r("app.checkRunningProcess",t),u?Promise.resolve():_||g?HSDK.checkRunningProcess(t):Promise.reject(null)},deleteAccount:function(){return r("app.deleteAccount"),u?Promise.resolve():m?HSDK.deleteAppleAccount():h?HSDK.deleteAccount():Promise.reject(null)},createDesktopIcon:function(t){return r("app.createDesktopIcon",t),u?Promise.resolve():h?HSDK.createDesktopIcon(t):Promise.reject(null)},getDesktopIcon:function(){return r("app.getDesktopIcon"),u?Promise.resolve():h?HSDK.getDesktopIcon():Promise.reject(null)}},this.web={createShortcut:function(t){return r("h5.createShortcut",t),u?Promise.resolve():n.platformEnv.isH5PageGameOversea?HSDK.createShortcut(t):Promise.reject(null)}},this.file={saveImage:function(t){return r("file.saveImage",t),u?Promise.resolve():d||g||w||l||p||f?HSDK.saveImage(t):Promise.reject(null)},getPath:function(t){return r("file.getPath",t),u?Promise.resolve():_||b?HSDK.getFilePath(t):Promise.reject(null)},download:function(t){r("file.download",t),(_||b)&&HSDK.downloadFile(t)}},this.device={getBrightness:function(){return r("device.getBrightness"),u?Promise.resolve():d||l||f?HSDK.getBrightness():Promise.reject(null)},setBrightness:function(t){return r("device.setBrightness",t),u?Promise.resolve():d||l||f?HSDK.setBrightness(t):Promise.reject(null)},getBattery:function(){return r("device.getBattery"),u?Promise.resolve():d||l||f?HSDK.getBattery():Promise.reject(null)},getNetworkType:function(){return r("device.getNetworkType"),u?Promise.resolve():d||l||f?HSDK.getNetworkType():Promise.reject(null)},setClipboard:function(t){if(r("device.setClipboard"),d||g||h)return HSDK.setClipboard(t)},getClipboard:function(){return r("device.getClipboard"),h?HSDK.getClipboard():Promise.resolve()},setKeepScreenOn:function(t){return u?Promise.resolve():d||l||f||g?HSDK.setKeepScreenOn(t):Promise.reject(null)},setVibrate:function(t){return u?Promise.reject():d||g||p||l||f?HSDK.setVibrate(t):Promise.reject(null)},onBackBtnTap:function(t){return!!_&&HSDK.onBackBtnTap(t)},selectLocalImage:function(){return u?Promise.resolve():d?HSDK.selectLocalImage():Promise.reject(null)}},this.tool={getGameRecorderManager:function(){return u?Promise.resolve():f?HSDK.getGameRecorderManager():Promise.reject(null)},openWebview:function(){return HSDK.openWebview()},getSecretKey:function(t){return r("tool.getSecretKey"),u?Promise.resolve():l||d?HSDK.getKeyByKeyType(t):Promise.reject(null)},getPayCurrency:function(t){return r("tool.getPayCurrency"),u?Promise.resolve():d?HSDK.getPayCurrency(t):Promise.reject(null)},debugInfo:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r("tool.debugInfo"),l)return HSDK.debug.apply(HSDK,o([t],e))}},this.miniProgram={checkIsAddedToMyMiniProgram:function(){return r("miniProgram.checkIsAddedToMyMiniProgram"),l?HSDK.checkIsAddedToMyMiniProgram():Promise.reject(null)},checkGift:function(){return r("miniProgram.checkGift"),l?HSDK.checkGift():Promise.resolve(!1)},showGift:function(t){return r("miniProgram.showGift"),l?HSDK.showGift(t):Promise.reject(null)},payGift:function(t){return r("miniProgram.payGift"),l?HSDK.payGift(t):Promise.reject(null)}},this.brandWall={getGameList:function(){return r("brandWall.getGameList"),u?Promise.resolve():l?HSDK.getBrandWallList():Promise.reject(null)},jumpGame:function(t){return r("brandWall.jumpGame",t),u?Promise.resolve():l?HSDK.jumpBrandWallGame(t):Promise.reject(null)},trackShow:function(){r("brandWall.trackShow"),u||l&&HSDK.brandWallShowTrack()}}}return t.prototype.init=function(t){return r("init",t),t.isPlatformForceDebug&&(a=!0,u=!0),u?Promise.resolve():HSDK.init(t)},t.prototype.getHTLauchOptions=function(){return r("getHTLauchOptions"),l||f?HSDK.getHTLauchOptions():null},t.prototype.pay=function(t){return r("pay"),u?Promise.resolve():_||b?r("android pay",t)||HSDK.dialogPay(t):m?r("ios pay",t)||HSDK.applePay(t):l||h?r("wx | hw pay",t)||HSDK.pay(t):w?r("h5 pay",t)||HSDK.pay(t):f?r("tt pay",t)||HSDK.pay(t):p?r("qq pay",t)||HSDK.pay(t):v?r("h5-public pay",t)||HSDK.pay(t):n.platformEnv.isH5PageGameOversea?r("h5-oversea pay",t)||HSDK.pay(t):Promise.reject(null)},t.prototype.closeWindowsPayModal=function(){return r("closeWindowsPayModal"),u?Promise.resolve():n.platformEnv.isWXWindows?HSDK.closeWindowsPayModal():Promise.reject(null)},t.prototype.resetSDK=function(){r("resetSDK"),u||f&&HSDK.resetSDK()},t}());n.default=P,cc._RF.pop()},{}],replace:[function(t,e){"use strict";cc._RF.push(e,"fb5e0jrJFBDwYEovSZH5f0s","replace"),cc._RF.pop()},{}],test:[function(t,e,n){"use strict";cc._RF.push(e,"3147diQgkNCEY/WYMbyzXEk","test");var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype.update=function(){console.log(this.node.position.x,this.node.position.y)},i([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{}]},{},["replace","AutoSorting","Const","DialogBar","Earth","GameManager","GuideCtrl","LeaderBoard","LevelLoading","Loading","SceneCtrl","ScreenEffectMask","Toucher","Game","GameLabel","LevelCtrl","ChallengeLevel","CommonLevel","LevelPipe","TestLevel","TutorialLevel","MapCtrl","MapGenerator","People","RandMap","Seat","HomeCtrl","AnimatorAnimation","AnimatorCustomization","AnimatorDragonBones","AnimatorSpine","AnimatorSpineSecondary","AnimatorBase","AnimatorCondition","AnimatorController","AnimatorParams","AnimatorState","AnimatorStateLogic","AnimatorTransition","platform","Main","AnimationManager","ChallengeMgr","DialogManager","EffectManager","EventCenter","GameConfig","GuideManager","LoginManager","MoveManager","PlatformManager","DebugPlatform","TTPlatform","Player","PoolManager","RankManager","Res","SoundManager","StorageManager","TGATrack","OpenContent","TimeUtil","CocosUINode","EnergyCom","U_Group","U_Home","U_PropTips","U_TestLevels","U_TouchPad","U_TutorialGame","U_WinTutorial","FuiCom","MoneyCom","SettingCom","FlyIcon","GetItemTips","UI","UINode","U_AdTips","U_Challenge","U_Collection","U_EndPanel","U_Game","U_GetCoin","U_GetEnergy","U_GetSuperReward","U_LifePicWindow","U_Lose","U_Modal","U_RankBoard","U_ShareVideo","U_SideBar","U_TaskTips","U_Win","Widget","CocosExtension","CocosFixed","Defer","NumberFormatter","StateCtrl","arraycollection","collectutil","dictionary","interfaces","list","config","test","CommonBinder","UI_TaskTips","UI_TouchPad","UI_adTips","UI_energyCom","UI_getCoin","UI_getEnergy","UI_getEnergyCom","UI_modal","UI_moneyCom","UI_rare","UI_recordBtn","UI_settingPanel","UI_shareVideo","UI_switch","UI_taskTipsCom","HomeBinder","UI_Collection","UI_Group","UI_Home","UI_RankBoard","UI_RankItem","UI_TestLevelItem","UI_TestLevels","UI_challenge","UI_challengeItem","UI_collectionItem","UI_danmu","UI_debugBtns","UI_earthNode","UI_earthTips","UI_head","UI_headGrp","UI_homeBg","UI_info","UI_lifePicWindow","UI_sidebar","UI_title","UI_unlockChallenge","MiniBinder","UI_Game","UI_Lose","UI_TutorialGame","UI_Win","UI_WinTutorial","UI_bottom","UI_com","UI_endPanel","UI_gameDebugs","UI_getSuperReward","UI_levelTips","UI_levelTipsStepCom","UI_levelTipsTextCom","UI_moneyIcon","UI_moneyTips","UI_propTips","UI_relifePanel","UI_superRewardBtn","UI_timeCom","UI_winAnim","UI_winData"]);