window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AStar:[function(t,e,o){"use strict";cc._RF.push(e,"e854cq65ZpGnZs4COVvQz09","AStar");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Grid=void 0;var i,r=cc._decorator,a=r.ccclass,c=(r.property,function(){function t(){this.x=0,this.y=0,this.f=0,this.g=0,this.h=0,this.parent=null,this.type=0}return t.prototype.clear=function(){this.f=0,this.g=0,this.h=0,this.parent=null},t}());o.Grid=c,function(t){t[t.NONE=0]="NONE",t[t.OBSTACLE=-1]="OBSTACLE",t[t.START=1]="START",t[t.END=2]="END"}(i||(i={}));var s=function(){function t(){this.is8dir=!1,this.path=[]}return t.prototype.setMapData=function(t){var e=this;t.forEach(function(t){e.gridsList[t.x][t.y].type=-1})},t.prototype.initMap=function(){this.mapH=24,this.mapW=24,this.is8dir=!0,this.openList=[],this.closeList=[],this.path=[],this._cashpath={},this._history=!1,this.gridsList=new Array(this.mapW+1);for(var t=0;t<this.gridsList.length;t++)this.gridsList[t]=new Array(this.mapH+1);for(t=0;t<=this.mapW;t++)for(var e=0;e<=this.mapH;e++)this.addGrid(t,e,i.NONE)},t.prototype.addGrid=function(t,e,o){var n=new c;n.x=t,n.y=e,n.type=o,this.gridsList[t][e]=n},t.prototype._sortFunc=function(t,e){return t.f-e.f},t.prototype.generatePath=function(t){for(this.path.push(cc.v2(t.x,t.y));t.parent;)t=t.parent,this.path.push(cc.v2(t.x,t.y))},t.prototype.findPath=function(t,e){this.openList=[],this.closeList=[],this.path=[];var o=t,n=e,r="sx"+o.x+"sy"+o.y+"ex"+n.x+"ey"+n.y;if(this._history&&this._cashpath[r])return this.path=this._cashpath[r],!0;for(var a=0;a<=this.mapW;a++)for(var c=0;c<=this.mapH;c++)this.gridsList[a][c].clear(),this.gridsList[a][c].type!=i.START&&this.gridsList[a][c].type!=i.END||(this.gridsList[a][c].type=i.NONE);this.gridsList[o.x][o.y].type=i.START;var s=this.gridsList[o.x][o.y];if(this.gridsList[n.x][n.y].type=i.END,s.type==i.END)return this.path=[cc.v2(s.x,s.y)],!0;this.openList.push(s);for(var l=this.openList[0];this.openList.length>0&&l.type!=i.END;){if((l=this.openList[0]).type==i.END)return this.generatePath(l),r="sx"+o.x+"sy"+o.y+"ex"+n.x+"ey"+n.y,this._cashpath[r]=JSON.parse(JSON.stringify(this.path)),!0;for(var u=-1;u<=1;u++)for(var p=-1;p<=1;p++)if((0!=u||0!=p)&&(a=l.x+u,c=l.y+p,a>=0&&c>=0&&a<=this.mapW&&c<=this.mapH&&-1!=this.gridsList[a][c].type&&this.closeList.indexOf(this.gridsList[a][c])<0)){if(this.is8dir){if(-1==this.gridsList[a-u][c].type||-1==this.gridsList[a][c-p].type)continue}else if(Math.abs(u)==Math.abs(p))continue;var h=l.g+Math.sqrt(Math.pow(10*u,2)+Math.pow(10*p,2));(0==this.gridsList[a][c].g||this.gridsList[a][c].g>h)&&(this.gridsList[a][c].g=h,this.gridsList[a][c].parent=l),this.gridsList[a][c].h=Math.abs(n.x-a)+Math.abs(n.y-c),this.gridsList[a][c].f=this.gridsList[a][c].g+this.gridsList[a][c].h,this.openList.indexOf(this.gridsList[a][c])<0&&this.openList.push(this.gridsList[a][c])}if(this.closeList.push(l),this.openList.splice(this.openList.indexOf(l),1),this.openList.length<=0)return cc.log("find path failed."),!1;this.openList.sort(this._sortFunc)}},n([a],t)}();o.default=s,cc._RF.pop()},{}],CatchModel:[function(t,e,o){"use strict";cc._RF.push(e,"ed62d8SrxZJhKwTZLYEE0yr","CatchModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.CatchModel=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.catch)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.CatchModel=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],DataBoard:[function(t,e,o){"use strict";cc._RF.push(e,"e78264IwwpPFbPXLPR5/cNu","DataBoard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),window.DATABOARD=!0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isOutlineBoxActive=!1,e._outlineBoxColor=new cc.Color(255*Math.random(),255*Math.random(),255*Math.random()),e._outlineBoxOpacity=100,e._isCollideBoxActive=!0,e._collideBoxColor=new cc.Color(255*Math.random(),255*Math.random(),255*Math.random()),e._collideBoxOpacity=100,e._isCustomLabelActive=!0,e.customComponentName="",e._customLabelString="x,y",e._customLabelOffset=cc.v2(0,100),e._customLabelColor=new cc.Color(255,255,0),e._customLabelSize=60,e._customLabelDigit=0,e.boardNode=null,e.outlineBoxNode=null,e.collideBoxNode=null,e.anchorPointNode=null,e.customLabelNode=null,e.customLabel=null,e.customLabelStringSplit=null,e.monitorComp=null,e}return i(e,t),Object.defineProperty(e.prototype,"isOutlineBoxActive",{get:function(){return this._isOutlineBoxActive},set:function(t){this._isOutlineBoxActive=t,this.outlineBoxNode.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineBoxColor",{get:function(){return this._outlineBoxColor},set:function(t){this._outlineBoxColor=t,this.outlineBoxNode.color=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineBoxOpacity",{get:function(){return this._outlineBoxOpacity},set:function(t){this._outlineBoxOpacity=t,this.outlineBoxNode.opacity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollideBoxActive",{get:function(){return this._isCollideBoxActive},set:function(t){this._isCollideBoxActive=t,this.collideBoxNode.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collideBoxColor",{get:function(){return this._collideBoxColor},set:function(t){this._collideBoxColor=t,this.collideBoxNode.color=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collideBoxOpacity",{get:function(){return this._collideBoxOpacity},set:function(t){this._collideBoxOpacity=t,this.collideBoxNode.opacity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomLabelActive",{get:function(){return this._isCustomLabelActive},set:function(t){this._isCustomLabelActive=t,this.customLabelNode.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelString",{get:function(){return this._customLabelString},set:function(t){this._customLabelString=t,this.customLabelStringSplit=t.replace(/,|\uff0c/g,"_~_").replace(/:|\uff1a/g,"_!_").replace(/ /g,"_@_").replace(/_*\n_*/g,"_\n_").split("_")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelOffset",{get:function(){return this._customLabelOffset},set:function(t){this._customLabelOffset=t,this.customLabelNode.x=t.x,this.customLabelNode.y=t.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelColor",{get:function(){return this._customLabelColor},set:function(t){this._customLabelColor=t,this.customLabelNode.color=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelSize",{get:function(){return this._customLabelSize},set:function(t){this._customLabelSize=t,this.customLabel.fontSize=t,this.customLabel.lineHeight=1.2*t,this.customLabelNode.getComponent(cc.LabelOutline).width=.1*t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelDigit",{get:function(){return this._customLabelDigit},set:function(t){this._customLabelDigit=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){if(this.boardNode=this.node.getChildByName("DataBoard"),window.DATABOARD){cc.isValid(this.boardNode)&&(this.boardNode.removeFromParent(),this.boardNode.destroy());var t=new cc.Texture2D;t.initWithData(new Uint8Array([255,255,255]),cc.Texture2D.PixelFormat.RGB888,1,1),this.boardNode=new cc.Node("DataBoard"),this.boardNode.setParent(this.node),this.boardNode.x=this.boardNode.y=0,this.boardNode.zIndex=cc.macro.MAX_ZINDEX,this.boardNode._objFlags|=cc.Object.Flags.HideInHierarchy,this.boardNode._objFlags|=cc.Object.Flags.LockedInEditor,this.outlineBoxNode=new cc.Node("OutlineBox"),this.outlineBoxNode.setParent(this.boardNode),this.outlineBoxNode.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.outlineBoxNode.active=this.isOutlineBoxActive,this.outlineBoxNode.color=this.outlineBoxColor,this.outlineBoxNode.opacity=this.outlineBoxOpacity,this.collideBoxNode=new cc.Node("CollideBox"),this.collideBoxNode.setParent(this.boardNode),this.collideBoxNode.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.collideBoxNode.active=this.isCollideBoxActive,this.collideBoxNode.color=this.collideBoxColor,this.collideBoxNode.opacity=this.collideBoxOpacity,this.anchorPointNode=new cc.Node("AnchorPoint"),this.anchorPointNode.setParent(this.boardNode),this.anchorPointNode.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.anchorPointNode.color=cc.color(255,0,0),this.anchorPointNode.width=20,this.anchorPointNode.height=20,this.customLabelNode=new cc.Node("CustomLabel"),this.customLabelNode.setParent(this.boardNode),this.customLabel=this.customLabelNode.addComponent(cc.Label),this.customLabelNode.addComponent(cc.LabelOutline).color=cc.color(0,0,0),this.customLabelNode.active=this.isCustomLabelActive,this.customLabelString=this._customLabelString,this.customLabelNode.x=this.customLabelOffset.x,this.customLabelNode.y=this.customLabelOffset.y,this.customLabelNode.color=this.customLabelColor,this.customLabelSize=this._customLabelSize,this.updateAngle(),this.updateScale(),this.updateAnchor(),this.updateSize(),this.node.on(cc.Node.EventType.ROTATION_CHANGED,this.updateAngle,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this.updateScale,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this.updateAnchor,this),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.updateSize,this)}else this.destroy()},e.prototype.updateAngle=function(){this.collideBoxNode.angle=-this.node.angle,this.customLabelNode.angle=-this.node.angle},e.prototype.updateScale=function(){this.boardNode.scaleX=1/this.node.scaleX,this.boardNode.scaleY=1/this.node.scaleY,this.outlineBoxNode.scaleX=this.node.scaleX,this.outlineBoxNode.scaleY=this.node.scaleY,this.collideBoxNode.scaleX=this.node.scaleX,this.collideBoxNode.scaleY=this.node.scaleY},e.prototype.updateAnchor=function(){this.outlineBoxNode.anchorX=this.node.anchorX,this.outlineBoxNode.anchorY=this.node.anchorY,this.collideBoxNode.anchorX=this.node.anchorX,this.collideBoxNode.anchorY=this.node.anchorY},e.prototype.updateSize=function(){this.outlineBoxNode.width=this.node.width,this.outlineBoxNode.height=this.node.height,this.collideBoxNode.width=this.node.width,this.collideBoxNode.height=this.node.height},e.prototype.update=function(){if(this.isCustomLabelActive&&this.customLabelStringSplit){if(0!==this.customLabelOffset.x||0!==this.customLabelOffset.y){var t=-this.node.angle*Math.PI/180,e=Math.cos(t),o=Math.sin(t);this.customLabelNode.x=this.customLabelOffset.x*e-this.customLabelOffset.y*o,this.customLabelNode.y=this.customLabelOffset.x*o+this.customLabelOffset.y*e}var n="",i=this.customLabelStringSplit;!this.monitorComp&&this.customComponentName&&(this.monitorComp=this.node.getComponent(this.customComponentName));for(var r=0,a=i.length;r<a;++r){var c=null;switch(i[r]){case"wp":var s=this.node._worldMatrix.m;c=s[12].toFixed(this.customLabelDigit)+",\t"+s[13].toFixed(this.customLabelDigit);break;case"angle":c=this.node.angle.toFixed(this.customLabelDigit)+"\xb0";break;case"radian":c=(this.node.angle/180).toFixed(this.customLabelDigit)+"\u03c0";break;case"matrix":s=this.node._worldMatrix.m,c="";for(var l=0;l<4;++l){for(var u=0;u<4;++u){var p=s[4*u+l];c+=(p<0?"\t\t":"\t\t\t")+p.toFixed(this.customLabelDigit)}3!==l&&(c+="\n")}break;case"children":c="";for(var h=0,f=this.node.childrenCount;h<f;++h)c+="\t\t\t"+h+"\uff1a"+this.node.children[h].name,h!==f-1&&(c+="\n");break;case"~":c=",\t";break;case"!":c=":\t";break;case"@":c="\t\t";break;default:"number"==typeof(c=void 0!==this.node[i[r]]?this.node[i[r]]:i[r].startsWith("#")&&null!==this.monitorComp?this.parseString(i[r].substring(1)):i[r])?c=c.toFixed(this.customLabelDigit):c.name&&(c=c.name)}n+=c}this.customLabel.string=n}},e.prototype.parseString=function(t){var e=t.split("."),o=this.monitorComp[e[0]];void 0===o&&(o="#"+e[0]);for(var n=1,i=e.length;n<i;++n){if(void 0===o[e[n]])return(o.name?o.name:o)+"."+e[n];o=o[e[n]]}return o},e.prototype.onDestroy=function(){cc.isValid(this.boardNode)&&(this.boardNode.removeFromParent(),this.boardNode.destroy()),this.node.targetOff(this)},r([s],e.prototype,"_isOutlineBoxActive",void 0),r([s({displayName:!1,tooltip:!1})],e.prototype,"isOutlineBoxActive",null),r([s],e.prototype,"_outlineBoxColor",void 0),r([s({displayName:!1,visible:function(){return this.isOutlineBoxActive}})],e.prototype,"outlineBoxColor",null),r([s],e.prototype,"_outlineBoxOpacity",void 0),r([s({min:0,max:255,step:1,slide:!0,displayName:!1,visible:function(){return this.isOutlineBoxActive}})],e.prototype,"outlineBoxOpacity",null),r([s],e.prototype,"_isCollideBoxActive",void 0),r([s({displayName:!1,tooltip:!1})],e.prototype,"isCollideBoxActive",null),r([s],e.prototype,"_collideBoxColor",void 0),r([s({displayName:!1,visible:function(){return this.isCollideBoxActive}})],e.prototype,"collideBoxColor",null),r([s],e.prototype,"_collideBoxOpacity",void 0),r([s({min:0,max:255,step:1,slide:!0,displayName:!1,visible:function(){return this.isCollideBoxActive}})],e.prototype,"collideBoxOpacity",null),r([s],e.prototype,"_isCustomLabelActive",void 0),r([s({displayName:!1,tooltip:!1})],e.prototype,"isCustomLabelActive",null),r([s({displayName:!1,tooltip:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customComponentName",void 0),r([s],e.prototype,"_customLabelString",void 0),r([s({multiline:!0,displayName:!1,tooltip:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelString",null),r([s],e.prototype,"_customLabelOffset",void 0),r([s({displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelOffset",null),r([s],e.prototype,"_customLabelColor",void 0),r([s({displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelColor",null),r([s],e.prototype,"_customLabelSize",void 0),r([s({displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelSize",null),r([s],e.prototype,"_customLabelDigit",void 0),r([s({min:0,max:10,step:1,slide:!0,displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelDigit",null),r([c,l,u("Comp/DataBoard")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],DigIceModel:[function(t,e,o){"use strict";cc._RF.push(e,"a9e5ahwLmBGFJgEmgaspf5E","DigIceModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.DigIceModel=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.digIce)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.DigIceModel=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],DropModel:[function(t,e,o){"use strict";cc._RF.push(e,"9389cEWMWxPUYult3XR3lFg","DropModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.DropModel=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.drop)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.DropModel=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],G2048Model:[function(t,e,o){"use strict";cc._RF.push(e,"eb4f9j2z/tDGbP29jpJO5ey","G2048Model");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.G2048Model=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=a(t("../../miniGamePackage/SubPackageModelBase")),l=t("./manager/g2048_AudioManager"),u=t("./manager/g2048_UIManager"),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.unregisteView=function(){u.UIManager.getInstance().clear(),l.AudioManager.getInstance().clear()},r([c.addSubPackage(c.SubPackageKey.g2048)],e)}(s.default);o.G2048Model=p,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0,"./manager/g2048_AudioManager":"g2048_AudioManager","./manager/g2048_UIManager":"g2048_UIManager"}],GameCommon:[function(t,e,o){"use strict";cc._RF.push(e,"b9bb8b2aaZN9oCdKNRNIN+m","GameCommon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("../../miniGamePackage/SubPackageManager")),s=a(t("../drop/drop_GameData")),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.over_sprite=null,e.success_frame=null,e.fail_frame=null,e}return i(e,t),e.prototype.gameOver=function(t){this.schedule(function(){c.default.getInst().getModel().gameExit()},3),this.over_sprite.node.active=!0,t?(s.default.Instance().nextStage(),this.over_sprite.spriteFrame=this.success_frame):this.over_sprite.spriteFrame=this.fail_frame},e.prototype.btn_back=function(){cc.director.loadScene("Select")},r([p(cc.Sprite)],e.prototype,"over_sprite",void 0),r([p(cc.SpriteFrame)],e.prototype,"success_frame",void 0),r([p(cc.SpriteFrame)],e.prototype,"fail_frame",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../drop/drop_GameData":"drop_GameData"}],GameEvent:[function(t,e,o){"use strict";cc._RF.push(e,"300f25NgoNFF5trebUQEAz7","GameEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventHash={},e.ower=null,e.type=null,e.callback=null,e}return i(e,t),e.prototype.clearAll=function(){this.eventHash={}},e.prototype.register=function(t,e,o){var n={};n.ower=t,n.type=e,n.callback=o,this.eventHash.hasOwnProperty(e)||(this.eventHash[e]=[]),this.eventHash[e].push(n)},e.prototype.unregister=function(t,e){var o=this.eventHash[e];o&&o.length>0&&o.forEach(function(n,i){n.ower===t&&n.type===e&&o.splice(i,1)})},e.prototype.dispatch=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.eventHash[t];if(n&&n.length>0)for(var i in n){var r=n[i];r.callback&&r.callback.apply(r,e)}},e}(r(t("./Singleton")).default);o.default=a,cc._RF.pop()},{"./Singleton":"Singleton"}],GridData:[function(t,e,o){"use strict";cc._RF.push(e,"bb017GnDtlJSrQ2S9La/Gld","GridData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GridData=void 0;var n=t("../../data/g2048_ENUMStatus"),i=t("../../data/g2048_ListenerType"),r=t("../../data/g2048_config2"),a=t("../../manager/g2048_ListenerManager"),c=function(){function t(){this.level=-1,this._item=null}return Object.defineProperty(t.prototype,"disX",{get:function(){return this.i*r.config2.space+(this.i+.5)*r.config2.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disY",{get:function(){return this.j*r.config2.space+(this.j+.5)*r.config2.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},set:function(t){this._item=t,this._item&&this._item.on(cc.Node.EventType.TOUCH_START,this.onClickGrid,this)},enumerable:!1,configurable:!0}),t.prototype.onClickGrid=function(){(r.config2.type==n.PATTERN.combine||r.config2.useItemType>0)&&a.ListenerManager.getInstance().trigger(i.ListenerType.click_item,this.i,this.j)},t.prototype.clearItem=function(){this.item&&this.item.parent&&this.item.parent.removeChild(this.item),this.level=-1,this.item=null,this.dirNode=null},t}();o.GridData=c,cc._RF.pop()},{"../../data/g2048_ENUMStatus":"g2048_ENUMStatus","../../data/g2048_ListenerType":"g2048_ListenerType","../../data/g2048_config2":"g2048_config2","../../manager/g2048_ListenerManager":"g2048_ListenerManager"}],MineModel:[function(t,e,o){"use strict";cc._RF.push(e,"52856FfUMREZqlD5Dkbfaki","MineModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.MineModel=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.mine)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.MineModel=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],PaipaizuoModel:[function(t,e,o){"use strict";cc._RF.push(e,"64e25ltF7dKXKR5PZ93ZXCf","PaipaizuoModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.G2048Model=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.paipaizuo)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.G2048Model=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],RingModel:[function(t,e,o){"use strict";cc._RF.push(e,"241e3sXyr5JfY51TDf/tXvu","RingModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.RingModel=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.ring)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.RingModel=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"4693cquTrhETp/WZyxoHS8y","Singleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.Instance=function(){return this.instance||(this.instance=new this),this.instance},t}();o.default=n,cc._RF.pop()},{}],Timer:[function(t,e,o){"use strict";cc._RF.push(e,"8a747oMapVNwKS+w8APsdQb","Timer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./GameEvent")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbl=null,e.txt="",e.count_number=0,e.stop=!1,e}return i(e,t),e.prototype.start=function(){this.timer()},e.prototype.timer=function(){var t=this;this.scheduleOnce(function(){t.stop||(t.lbl.string=t.txt+t.count_number.toString(),t.count_number--,t.count_number>=0?t.timer():c.default.Instance().dispatch("game_fail"))},1)},e.prototype.timerStop=function(){this.stop=!0},r([u(cc.Label)],e.prototype,"lbl",void 0),r([u(cc.String)],e.prototype,"txt",void 0),r([u(cc.Integer)],e.prototype,"count_number",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./GameEvent":"GameEvent"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"731f9K8St5N25r8Le0y3jU0","Utils");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}return t.getRandom=function(t,e){return Math.random()*(e-t)+t},t.getRandomInt=function(t,e){return e++,Math.floor(Math.random()*(e-t))+t},n([r],t)}());o.default=a,cc._RF.pop()},{}],catch_Diaochan:[function(t,e,o){"use strict";cc._RF.push(e,"3c26aAaoYJFXZlJ637foAth","catch_Diaochan");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idleFrames=[],e.runFrames=[],e._state=0,e.intervalIdel=.4,e.intervalRun=.1,e.time=0,e}return i(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)},e.prototype.init=function(t){void 0===t&&(t=0),this._state=t,this.frameIndex=0,0==this._state?this.sprite.spriteFrame=this.idleFrames[0]:this.sprite.spriteFrame=this.runFrames[0],this.time=0,this.intervalIdel=1/this.idleFrames.length,this.intervalRun=1/this.runFrames.length},e.prototype.start=function(){this.init()},e.prototype.update=function(t){this.time+=t;var e=!1;0==this._state&&this.time>this.intervalIdel?e=!0:1==this._state&&this.time>this.intervalRun&&(e=!0),e&&(this.time=0,0==this._state?(this.frameIndex++,this.frameIndex>=this.idleFrames.length&&(this.frameIndex=0),this.sprite.spriteFrame=this.idleFrames[this.frameIndex]):(this.frameIndex++,this.frameIndex>=this.runFrames.length&&(this.frameIndex=0),this.sprite.spriteFrame=this.runFrames[this.frameIndex]))},r([s([cc.SpriteFrame])],e.prototype,"idleFrames",void 0),r([s([cc.SpriteFrame])],e.prototype,"runFrames",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],catch_ErrorItem:[function(t,e,o){"use strict";cc._RF.push(e,"dc4407Y9KlLzbrHOmBYbYlt","catch_ErrorItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDestroy=function(){cc.Tween.stopAllByTarget(this.node)},e.prototype.init=function(){var t=this;cc.tween(this.node).set({scale:.5}).to(.5,{scale:1.5},{easing:"sineOut"}).delay(.3).call(function(){t.node.destroy()}).start()},e.prototype.start=function(){this.init()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],catch_GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"ff2449trgpAN6vL77taBzIt","catch_GameMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preRightItem=null,e.preErrorItem=null,e.preLayerLevel1=null,e.preLayerLevel2=null,e.canvas=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.sc=this,cc.game.setFrameRate(59),cc.debug.setDisplayStats(!1),this.canvas=this.node,cc.view.setResolutionPolicy(cc.ResolutionPolicy.SHOW_ALL)},e.prototype.showLayer=function(t){var e=cc.instantiate(t);return e.setPosition(cc.v2()),this.canvas.addChild(e),e},e.prototype.start=function(){},e.sc=null,r([s(cc.Prefab)],e.prototype,"preRightItem",void 0),r([s(cc.Prefab)],e.prototype,"preErrorItem",void 0),r([s(cc.Prefab)],e.prototype,"preLayerLevel1",void 0),r([s(cc.Prefab)],e.prototype,"preLayerLevel2",void 0),o=r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],catch_Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"9637e/v5nxDSZidpUKXXOqq","catch_Helloworld");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){this.label.string=this.text},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],catch_LayerLevel1:[function(t,e,o){"use strict";cc._RF.push(e,"f0aeeRx7AlMEJPnt/gL8EP+","catch_LayerLevel1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.State=void 0;var c,s=a(t("./catch_Diaochan")),l=a(t("./catch_GameMgr")),u=a(t("./catch_LayerMenu")),p=a(t("./catch_LvBu")),h=t("./catch_util"),f=cc._decorator,d=f.ccclass;f.property,function(t){t[t.GAME=0]="GAME",t[t.CHECK=1]="CHECK",t[t.PAUSE=2]="PAUSE",t[t.SUCCESS=3]="SUCCESS",t[t.FAIL=4]="FAIL"}(c=o.State||(o.State={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diaochan=null,e.lvbu=null,e.successPos=6,e.pNum=9,e.curDiaoPos=0,e.curLvPos=1,e.minStep=0,e.paths=[],e.canMoveArr=[[1,2,4],[0,3],[0,5],[1,4,6],[0,3,5,6,7],[2,4,7,8],[3,4],[4,5,8],[5,7]],e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.pNum;t++)this["p"+t]=cc.find("points/p"+t,this.node);this.diaochan=cc.find("diaochan",this.node),this.lvbu=cc.find("lvbu",this.node),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this._state=c.GAME},e.prototype.start=function(){},e.prototype.reset=function(){this.curDiaoPos=0,this.curLvPos=1,this._state=c.GAME,this.diaochan.getComponent(s.default).init(0),this.lvbu.getComponent(p.default).init(0),this.diaochan.setPosition(this["p"+this.curDiaoPos].position),this.lvbu.setPosition(this["p"+this.curLvPos].position),this.lvbu.scaleX=1,this.diaochan.scaleX=1},e.prototype.onTouchStart=function(t){if(this._state==c.GAME)for(var e=this.node.convertToNodeSpaceAR(t.getLocation()),o=function(t){if(-1!=n.canMoveArr[n.curDiaoPos].indexOf(t)&&Math.abs(e.x-n["p"+t].x)<50&&Math.abs(e.y-n["p"+t].y)<100){if(n.curDiaoPos=t,n["p"+t].position.x>n.diaochan.position.x?n.diaochan.scaleX=1:n.diaochan.scaleX=-1,n.diaochan.getComponent(s.default).init(1),cc.tween(n.diaochan).to(.5,{position:n["p"+t].position}).call(function(){this.diaochan.getComponent(s.default).init(0)}.bind(n)).start(),n._state=c.CHECK,n.curDiaoPos==n.successPos)return n._state=c.SUCCESS,n.scheduleOnce(function(){l.default.sc.showLayer(l.default.sc.preRightItem).setPosition(this.diaochan.position.add(new cc.Vec3(0,100)))},.5),n.scheduleOnce(function(){l.default.sc.showLayer(l.default.sc.preLayerLevel2),this.node.destroy()},2),{value:void 0};if(n.curDiaoPos==n.curLvPos)return n._state=c.FAIL,n.scheduleOnce(function(){l.default.sc.showLayer(l.default.sc.preErrorItem).setPosition(this.lvbu.position.add(new cc.Vec3(0,100)))},.5),n.scheduleOnce(function(){this.reset()},.8),{value:void 0};n.minStep=0,n.paths=[],n.aiMove(0,n.curLvPos,[n.curLvPos]),console.log(n.paths);var o=[],i=n.paths[0].length;o.push(0);for(var r=0,a=1;a<n.paths.length;a++)n.paths[a].length<i?(i=n.paths[a].length,r=a,(o=[]).push(a)):n.paths[a].length==i&&o.push(a);return console.log(o),r=o[h.util.getRandomInt(0,o.length-1)],cc.tween(n.lvbu).delay(.5).call(function(){this["p"+this.paths[r][1]].position.x>this.lvbu.position.x?this.lvbu.scaleX=1:this.lvbu.scaleX=-1,this.lvbu.getComponent(p.default).init(1)}.bind(n)).to(.5,{position:n["p"+n.paths[r][1]].position}).call(function(){this.lvbu.getComponent(p.default).init(0)}.bind(n)).start(),n.curLvPos=n.paths[r][1],n.scheduleOnce(function(){this.checkOver()?(this._state=c.FAIL,l.default.sc.showLayer(l.default.sc.preErrorItem).setPosition(this.lvbu.position.add(new cc.Vec3(0,100))),this.scheduleOnce(function(){this.reset()},.8)):this._state=c.GAME},1.2),"break"}},n=this,i=0;i<this.pNum;i++){var r=o(i);if("object"==typeof r)return r.value;if("break"===r)break}},e.prototype.checkOver=function(){return this.curDiaoPos==this.curLvPos},e.prototype.aiMove=function(t,e,o){if(t++,!(0!=this.minStep&&t>this.minStep)){var n=this.canMoveArr[e];if(-1!=n.indexOf(this.curDiaoPos))o.push(this.curDiaoPos),this.paths.push(o),0==this.minStep?this.minStep=t:this.minStep<t&&(this.minStep=t);else for(var i=0;i<n.length;i++){var r=h.util.clone(o);-1==r.indexOf(n[i])&&(r.push(n[i]),this.aiMove(t,n[i],r))}}},e.prototype.bindBack=function(){this.node.destroy(),u.default.sc.node.active=!0},r([d],e)}(cc.Component);o.default=g,cc._RF.pop()},{"./catch_Diaochan":"catch_Diaochan","./catch_GameMgr":"catch_GameMgr","./catch_LayerMenu":"catch_LayerMenu","./catch_LvBu":"catch_LvBu","./catch_util":"catch_util"}],catch_LayerLevel2:[function(t,e,o){"use strict";cc._RF.push(e,"566c7Ul4rlBda1OxR8qezBY","catch_LayerLevel2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.State=void 0;var c,s=a(t("./catch_Diaochan")),l=a(t("./catch_GameMgr")),u=a(t("./catch_LayerMenu")),p=a(t("./catch_LvBu")),h=t("./catch_util"),f=cc._decorator,d=f.ccclass;f.property,function(t){t[t.GAME=0]="GAME",t[t.CHECK=1]="CHECK",t[t.PAUSE=2]="PAUSE",t[t.SUCCESS=3]="SUCCESS",t[t.FAIL=4]="FAIL"}(c=o.State||(o.State={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diaochan=null,e.lvbu=null,e.successPos=0,e.pNum=8,e.curDiaoPos=6,e.curLvPos=5,e.minStep=0,e.paths=[],e.canMoveArr=[[1,2],[0,3,4],[0,4,5],[1,6],[1,2,5,6],[2,4,7],[3,4,7],[5,7]],e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.pNum;t++)this["p"+t]=cc.find("points/p"+t,this.node);this.diaochan=cc.find("diaochan",this.node),this.lvbu=cc.find("lvbu",this.node),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this._state=c.GAME},e.prototype.start=function(){this.init()},e.prototype.init=function(){this.diaochan.setPosition(this["p"+this.curDiaoPos].position),this.lvbu.setPosition(this["p"+this.curLvPos].position)},e.prototype.reset=function(){this.curDiaoPos=6,this.curLvPos=5,this._state=c.GAME,this.diaochan.getComponent(s.default).init(0),this.lvbu.getComponent(p.default).init(0),this.diaochan.setPosition(this["p"+this.curDiaoPos].position),this.lvbu.setPosition(this["p"+this.curLvPos].position),this.lvbu.scaleX=-1,this.diaochan.scaleX=1},e.prototype.onTouchStart=function(t){if(this._state==c.GAME)for(var e=this.node.convertToNodeSpaceAR(t.getLocation()),o=function(t){if(-1!=n.canMoveArr[n.curDiaoPos].indexOf(t)&&Math.abs(e.x-n["p"+t].x)<50&&Math.abs(e.y-n["p"+t].y)<100){if(n.curDiaoPos=t,n["p"+t].position.x>n.diaochan.position.x?n.diaochan.scaleX=1:n.diaochan.scaleX=-1,n.diaochan.getComponent(s.default).init(1),cc.tween(n.diaochan).to(.5,{position:n["p"+t].position}).call(function(){this.diaochan.getComponent(s.default).init(0)}.bind(n)).start(),n._state=c.CHECK,n.curDiaoPos==n.successPos)return n._state=c.SUCCESS,n.scheduleOnce(function(){l.default.sc.showLayer(l.default.sc.preRightItem).setPosition(this.diaochan.position.add(new cc.Vec3(0,100)))},.5),n.scheduleOnce(function(){this.reset()},.8),{value:void 0};if(n.curDiaoPos==n.curLvPos)return n._state=c.FAIL,n.scheduleOnce(function(){l.default.sc.showLayer(l.default.sc.preErrorItem).setPosition(this.lvbu.position.add(new cc.Vec3(0,100)))},.5),n.scheduleOnce(function(){this.reset()},.8),{value:void 0};n.minStep=0,n.paths=[],n.aiMove(0,n.curLvPos,[n.curLvPos]),console.log(n.paths);for(var o=n.paths[0].length,i=0,r=0;r<n.paths.length;r++)n.paths[r].length<o&&(o=n.paths[r].length,i=r);return console.log(i),cc.tween(n.lvbu).delay(.5).call(function(){this["p"+this.paths[i][1]].position.x>this.lvbu.position.x?this.lvbu.scaleX=1:this.lvbu.scaleX=-1,this.lvbu.getComponent(p.default).init(1)}.bind(n)).to(.5,{position:n["p"+n.paths[i][1]].position}).call(function(){this.lvbu.getComponent(p.default).init(0)}.bind(n)).start(),n.curLvPos=n.paths[i][1],n.scheduleOnce(function(){this.checkOver()?(this._state=c.FAIL,l.default.sc.showLayer(l.default.sc.preErrorItem).setPosition(this.lvbu.position.add(new cc.Vec3(0,100))),this.scheduleOnce(function(){this.reset()},.8)):this._state=c.GAME},1.2),"break"}},n=this,i=0;i<this.pNum;i++){var r=o(i);if("object"==typeof r)return r.value;if("break"===r)break}},e.prototype.checkOver=function(){return this.curDiaoPos==this.curLvPos},e.prototype.aiMove=function(t,e,o){if(t++,!(0!=this.minStep&&t>this.minStep)){var n=this.canMoveArr[e];if(-1!=n.indexOf(this.curDiaoPos))o.push(this.curDiaoPos),this.paths.push(o),0==this.minStep?this.minStep=t:this.minStep<t&&(this.minStep=t);else for(var i=0;i<n.length;i++){var r=h.util.clone(o);-1==r.indexOf(n[i])&&(r.push(n[i]),this.aiMove(t,n[i],r))}}},e.prototype.bindBack=function(){this.node.destroy(),u.default.sc.node.active=!0},r([d],e)}(cc.Component);o.default=g,cc._RF.pop()},{"./catch_Diaochan":"catch_Diaochan","./catch_GameMgr":"catch_GameMgr","./catch_LayerMenu":"catch_LayerMenu","./catch_LvBu":"catch_LvBu","./catch_util":"catch_util"}],catch_LayerMenu:[function(t,e,o){"use strict";cc._RF.push(e,"680e7LlNSBD1KTXNm8wYGly","catch_LayerMenu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./catch_GameMgr")),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.sc=this},e.prototype.bindStart=function(){c.default.sc.showLayer(c.default.sc.preLayerLevel1),this.node.active=!1},e.prototype.bindStart2=function(){c.default.sc.showLayer(c.default.sc.preLayerLevel2),this.node.active=!1},e.prototype.start=function(){},o=r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./catch_GameMgr":"catch_GameMgr"}],catch_LvBu:[function(t,e,o){"use strict";cc._RF.push(e,"6f777Wx/QxEj7/5bTQ/3Ct3","catch_LvBu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.idleFrames=[],e.runFrames=[],e._state=0,e.intervalIdel=.4,e.intervalRun=.1,e.time=0,e}return i(e,t),e.prototype.onLoad=function(){this.sprite=this.node.getComponent(cc.Sprite)},e.prototype.init=function(t){void 0===t&&(t=0),this._state=t,this.frameIndex=0,0==this._state?this.sprite.spriteFrame=this.idleFrames[0]:this.sprite.spriteFrame=this.runFrames[0],this.time=0,this.intervalIdel=1/this.idleFrames.length,this.intervalRun=1/this.runFrames.length},e.prototype.start=function(){this.init()},e.prototype.update=function(t){this.time+=t;var e=!1;0==this._state&&this.time>this.intervalIdel?e=!0:1==this._state&&this.time>this.intervalRun&&(e=!0),e&&(this.time=0,0==this._state?(this.frameIndex++,this.frameIndex>=this.idleFrames.length&&(this.frameIndex=0),this.sprite.spriteFrame=this.idleFrames[this.frameIndex]):(this.frameIndex++,this.frameIndex>=this.runFrames.length&&(this.frameIndex=0),this.sprite.spriteFrame=this.runFrames[this.frameIndex]))},r([s([cc.SpriteFrame])],e.prototype,"idleFrames",void 0),r([s([cc.SpriteFrame])],e.prototype,"runFrames",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],catch_RightItem:[function(t,e,o){"use strict";cc._RF.push(e,"efcb3Yra0BJ2I0m223eJHwc","catch_RightItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDestroy=function(){cc.Tween.stopAllByTarget(this.node)},e.prototype.init=function(){var t=this;cc.tween(this.node).set({scale:.5}).to(.5,{scale:1.5},{easing:"sineOut"}).delay(.3).call(function(){t.node.destroy()}).start()},e.prototype.start=function(){this.init()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],catch_util:[function(t,e,o){"use strict";cc._RF.push(e,"7ff90sdbwtO9pArVbTg6/nY","catch_util");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.util=void 0;var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var o in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(o)&&(e[o]=this.clone(t[o]));return e},t.objectToArray=function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(t[o]);return e},t.arrayToObject=function(t,e){var o={};for(var n in t)t.hasOwnProperty(n)&&t[n][e]&&(o[t[n][e]]=t[n]);return o},t.getWeightRandIndex=function(t,e){for(var o=Math.floor(Math.random()*e),n=0,i=0;i<t.length&&!(o<(n+=t[i]));i++);return i},t.getRandomNFromM=function(t,e){for(var o=[],n=0,i=0;i<e&&!(i>=t+1);){n=this.getRandomInt(0,t);for(var r=0,a=0;a<i;a++)if(o[a]===n){r=1;break}0===r&&(o[i]=n,i++)}return o},t.getRandomInt=function(t,e){var o=Math.random()*(e-t+1)+t;return Math.floor(o)},t.getStringLength=function(t){for(var e=t,o=0,n=0,i=e.length;n<i;n++)o+=e.charCodeAt(n)<=255?1:2;return Math.ceil(o/2)},t.isEmptyObject=function(t){var e=!0;if(t&&t.constructor===Object){for(var o in t)if(t.hasOwnProperty(o)){e=!1;break}}else e=!1;return e},t.formatNum=function(t){if(t<=0)return"0";var e=Math.round(Math.log(t)/Math.log(1e3));return parseInt((t/Math.pow(1e3,e-1<0?0:e-1)).toString(),10)+["","","K","M","B"][e]},t.isNewDay=function(t){var e=new Date(t),o=new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),a=o.getFullYear(),c=o.getMonth(),s=o.getDate();return a>n||c>i||s>r},t.getPropertyCount=function(t){var e,o=0;for(e in t)t.hasOwnProperty(e)&&o++;return o},t.difference=function(t,e){var o=[];if(t.constructor!==Array||e.constructor!==Array)return o;for(var n=t.length,i=0;i<n;i++)-1===e.indexOf(t[i])&&o.push(t[i]);return o},t.simulationUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.isNowValid=function(t,e){var o=new Date(t),n=new Date(e),i=!1;if(o.getDate()+""!="NaN"&&n.getDate()+""!="NaN"){var r=new Date;i=r<n&&r>o}return i},t.getDeltaDays=function(t,e){var o=new Date(t),n=new Date(e),i=o.getFullYear(),r=o.getMonth()+1,a=o.getDate(),c=n.getFullYear(),s=n.getMonth()+1,l=n.getDate();t=new Date(i+"/"+r+"/"+a+" GMT+0800").getTime();var u=(e=new Date(c+"/"+s+"/"+l+" GMT+0800").getTime())-t;return Math.floor(u/864e5)},t.getMin=function(t){var e=0;if(t.constructor===Array)for(var o=t.length,n=0;n<o;n++)e=0===n?Number(t[0]):e>Number(t[n])?Number(t[n]):e;return e},t.formatTwoDigits=function(t){return(Array(2).join("0")+t).slice(-2)},t.formatDate=function(t,e){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?""+o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var e=["","K","M","G","T","P","E","Z","Y","B","N","D"],o="",n=0;n<e.length;n++){if(!(t>=1e4)){o=Math.floor(t)+e[n];break}t/=1e3}return""===o&&(o=Math.floor(t)+"U"),o},t.formatMoney2=function(t){for(var e=["","\u4e07","\u4ebf","\u5146","\u4eac","\u5793","\u79ed","\u7a70","\u6c9f"],o="",n=0;n<e.length;n++){if(!(t>=1e4)){o=0!=n?t.toFixed(1)+e[n]:Math.floor(t)+e[n];break}t/=1e4}return""===o&&(o=Math.floor(t)+"U"),o},t.formatMoney3=function(t){for(var e=["","\u4e07","\u4ebf","\u5146","\u4eac","\u5793","\u79ed","\u7a70","\u6c9f"],o="",n=0;n<e.length;n++){if(!(t>=1e4)){o=Math.floor(t)+e[n];break}t/=1e4}return""===o&&(o=Math.floor(t)+"U"),o},t.formatTimeForSecond=function(t){var e="",o=t%60,n=Math.floor(t/60);n=n<0?0:n;var i=Math.floor(n/60),r=n%60;return i>0&&(e+=i>9?i.toString():"0"+i,e+=":"),e+=r>9?r.toString():"0"+r,(e+=":")+(o>9?o.toString():"0"+o)},t.formatTimeForSecond2=function(t){var e="",o=t%60,n=Math.floor(t/60);n=n<0?0:n;var i=Math.floor(n/60),r=n%60;return i>0&&(e+=i>9?i.toString():"0"+i,e+="\u5c0f\u65f6"),e+=r>9?r.toString():"0"+r,e+="\u5206",(e+=o>9?o.toString():"0"+o)+"\u79d2"},t.formatTimeForMillisecond=function(t){var e=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3/60/60);return(e<10?"0"+e:e)+":"+(o<10?"0"+o:o)+":"+(n<10?"0"+n:n)},t.zip=function(t){var e=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(e)},t.rand=function(t){for(var e=this.clone(t),o=e.length-1;o>=0;o--){var n=Math.floor(Math.random()*(o+1)),i=e[n];e[n]=e[o],e[o]=i}return e},n([r("util")],t)}());o.util=a,cc._RF.pop()},{}],digIce_AnimCall:[function(t,e,o){"use strict";cc._RF.push(e,"654cfbjX09HuK6yI3s9C297","digIce_AnimCall");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.qiao=function(){console.log("\u64ad\u653e\u5230\u4e2d\u9014"),cc.director.emit("qiao")},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],digIce_menu:[function(t,e,o){"use strict";cc._RF.push(e,"c73d40fuXhFMpOoTpAXVpEg","digIce_menu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.toScene1=function(){cc.director.loadScene("scene1")},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],digIce_pushBtn:[function(t,e,o){"use strict";cc._RF.push(e,"00acd748IxFaKAI9zLiCMQ/","digIce_pushBtn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pushTime=0,e.e=null,e.btnState=!1,e.time=0,e}return i(e,t),e.prototype.find=function(t){return this.node.getChildByName(t)},e.prototype.onEnable=function(){var t=this;cc.director.on("qiao",this.bing_qiao,this),this.find("R").getComponent(cc.Animation).on("finished",function(e,o){console.log("R",o.name),t.find("R").getComponent(cc.Animation).play("RigthLoad"),t.xigua()}),this.find("L").getComponent(cc.Animation).on("finished",function(e,o){console.log("L",o.name),t.find("L").getComponent(cc.Animation).play("LeftLoad"),t.xigua()})},e.prototype.onDisable=function(){cc.director.off("qiao",this.bing_qiao)},e.prototype.bing_qiao=function(){this.find("ballBarrel/bing"+this.ballNum).getComponent(cc.Animation).play("bing"),this.find("lab3").getComponent(cc.Label).string=this.ballNum.toFixed()+"/6",1==this.pushTime?this.leftOne():this.rightOne()},e.prototype.xigua=function(){},e.prototype.start=function(){this.ballNum=0,this.btnState=!0,this.find("fail").opacity=0,this.find("success").opacity=0,this.find("lab3").getComponent(cc.Label).string="0/6",this.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",this.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",this.find("T").setPosition(205,113),this.time=0},e.prototype.oneBtn=function(){this.ballNum>=6||this.btnState&&(this.btnState=!1,this.time=0,this.pushTime=2,this.btnState=!1,this.ballNum=this.ballNum+1,this.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",this.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",this.find("T").setPosition(205,113),this.find("R").getComponent(cc.Animation).play("Right_hit"+this.ballNum),this.scheduleOnce(function(){var t=this;this.ballNum>=6||(this.pushTime=1,this.ballNum=this.ballNum+1,this.find("lab1").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",this.find("lab2").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",this.find("T").setPosition(-491,113),this.find("L").getComponent(cc.Animation).play("Left_hit"+this.ballNum),Math.floor(10*Math.random())>5?this.scheduleOnce(function(){t.ballNum>=7||(t.ballNum=t.ballNum+1,t.find("L").getComponent(cc.Animation).play("Left_hit"+t.ballNum),t.scheduleOnce(function(){t.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",t.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",t.find("T").setPosition(205,113),t.btnState=!0},2))},2):this.scheduleOnce(function(){t.ballNum>=7||(t.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",t.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",t.find("T").setPosition(205,113),t.btnState=!0)},2))},2))},e.prototype.twoBtn=function(){this.ballNum>=6||this.btnState&&(this.btnState=!1,this.btnState=!1,this.time=0,this.pushTime=2,this.ballNum=this.ballNum+1,this.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",this.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",this.find("T").setPosition(205,113),this.find("R").getComponent(cc.Animation).play("Right_hit"+this.ballNum),this.scheduleOnce(function(){var t=this;this.ballNum>=6||(this.ballNum=this.ballNum+1,this.find("R").getComponent(cc.Animation).play("Right_hit"+this.ballNum),this.scheduleOnce(function(){t.ballNum>=6||(t.pushTime=1,t.ballNum=t.ballNum+1,t.find("lab1").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",t.find("lab2").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",t.find("T").setPosition(-491,113),t.find("L").getComponent(cc.Animation).play("Left_hit"+t.ballNum),Math.floor(10*Math.random())>5?t.scheduleOnce(function(){t.ballNum>=6||(t.ballNum=t.ballNum+1,t.find("L").getComponent(cc.Animation).play("Left_hit"+t.ballNum),t.scheduleOnce(function(){t.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",t.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",t.find("T").setPosition(205,113),t.btnState=!0},2))},2):t.scheduleOnce(function(){t.ballNum>=6||(t.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",t.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",t.find("T").setPosition(205,113),t.btnState=!0)},2))},2))},2))},e.prototype.leftOne=function(){return this.resultDeterminationLeft()},e.prototype.rightOne=function(){return this.resultDeterminationRight()},e.prototype.initQiE=function(){for(var t=1;t<=6;t++)this.find("ballBarrel/bing"+t+"/bing").active=!0;this.find("ballBarrel").getComponent(cc.Sprite).spriteFrame=this.e},e.prototype.resultDeterminationLeft=function(){return 6==this.ballNum&&(this.find("ballBarrel").getComponent(cc.Animation).play("Qie"),this.find("fail").opacity=255,this.find("lab1").getComponent(cc.Label).string="\u80dc\u5229\uff01",this.find("lab2").getComponent(cc.Label).string="\u5931\u8d25\uff01",this.scheduleOnce(function(){this.ballNum=0,this.initQiE(),this.find("fail").opacity=0,this.find("success").opacity=0,this.find("lab3").getComponent(cc.Label).string="0/6",this.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",this.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",this.find("T").setPosition(205,113),this.btnState=!0},3),!0)},e.prototype.resultDeterminationRight=function(){return 6==this.ballNum&&(this.find("ballBarrel").getComponent(cc.Animation).play("Qie"),this.find("success").opacity=255,this.find("lab1").getComponent(cc.Label).string="\u5931\u8d25\uff01",this.find("lab2").getComponent(cc.Label).string="\u80dc\u5229\uff01",this.scheduleOnce(function(){this.ballNum=0,this.initQiE(),this.find("fail").opacity=0,this.find("success").opacity=0,this.find("lab3").getComponent(cc.Label).string="0/6",this.find("lab1").getComponent(cc.Label).string="\u7b49\u5f85\u4e2d",this.find("lab2").getComponent(cc.Label).string="\u64cd\u4f5c\u4e2d",this.find("T").setPosition(205,113),this.btnState=!0},3),!0)},e.prototype.update=function(){},r([s],e.prototype,"pushTime",void 0),r([s(cc.SpriteFrame)],e.prototype,"e",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],digIce_returnBtn:[function(t,e,o){"use strict";cc._RF.push(e,"18893IVTqhMa4fDA66ga+Qg","digIce_returnBtn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_END,function(){cc.director.loadScene("game")},this)},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],diverModel:[function(t,e,o){"use strict";cc._RF.push(e,"7c9f0G+AFFF25lQl7x/BHor","diverModel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.DiverModel=void 0;var c=t("../../miniGamePackage/SubPackageManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.registeView=function(){},r([c.addSubPackage(c.SubPackageKey.diver)],e)}(a(t("../../miniGamePackage/SubPackageModelBase")).default);o.DiverModel=s,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"../../miniGamePackage/SubPackageModelBase":void 0}],diver_Bucket:[function(t,e,o){"use strict";cc._RF.push(e,"4fdceH5p6tOGZb+Vgv4QzNo","diver_Bucket");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.GetCollider=function(){return this.collider},e.prototype.SetAfterNodeActive=function(t){this.waterAfterNode.active=t;var e=this.waterAfterNode.getChildByName("hotairSprites");null!=e&&e.getComponent(cc.Animation).play("hotair")},e.prototype.SetBeforeNodeActive=function(t){this.waterBeforeNode.active=t},r([s(cc.BoxCollider)],e.prototype,"collider",void 0),r([s(cc.Node)],e.prototype,"waterBeforeNode",void 0),r([s(cc.Node)],e.prototype,"waterAfterNode",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],diver_Drawer:[function(t,e,o){"use strict";cc._RF.push(e,"90c28Vzb7NLToT3TVLAFz5W","diver_Drawer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("../../miniGamePackage/SubPackageManager")),s=a(t("./diver_EndWaterTap")),l=a(t("./diver_GameMgr")),u=a(t("./diver_MiddleWaterTap")),p=a(t("./diver_StartWaterTap")),h=a(t("./diver_TapNode")),f=a(t("./diver_WaterLine")),d=cc._decorator,g=d.ccclass,_=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawGraphics=null,e.drawColor=cc.Color.WHITE,e.fillColor=cc.Color.WHITE,e.drawLineWidth=10,e.fillLineWidth=6,e.minDrawLen=5,e.waterLineNum=5,e.inMiddleTime=.5,e.middleWaterTaps=new Array,e.waterLines=new Array,e.drawIndex=0,e.list=new Array,e.isOver=!1,e.isTouchMoved=!1,e}return i(e,t),e.prototype.start=function(){this.initWaterLines(),this.register()},e.prototype.update=function(){this.isOver||(this.TryRefreshTapNodeState(),this.CheckPassed())},e.prototype.register=function(){this.isOver=!1,this.drawGraphics.node.on(cc.Node.EventType.TOUCH_START,this.moveStartMouse,this),this.drawGraphics.node.on(cc.Node.EventType.TOUCH_MOVE,this.moveMouse,this),this.drawGraphics.node.on(cc.Node.EventType.TOUCH_END,this.moveEndMouse,this)},e.prototype.initWaterLines=function(){for(var t=0;t<this.waterLineNum;t++){var e=this.createWaterLineDrawer(),o=new f.default(e);this.waterLines.push(o)}},e.prototype.createWaterLineDrawer=function(){var t=cc.instantiate(this.drawGraphics.node),e=t.getComponent(cc.Graphics);return t.parent=this.drawGraphics.node.parent,t.position=this.drawGraphics.node.position,t.parent=this.drawGraphics.node,e.lineWidth=this.fillLineWidth,e.strokeColor=this.fillColor,e},e.prototype.moveStartMouse=function(t){var e=t.getLocation();this.drawGraphics.lineWidth=this.drawLineWidth,this.drawGraphics.strokeColor=this.drawColor,this.drawGraphics.moveTo(e.x,e.y),this.list.push(e),this.tempVec2=e,this.isTouchMoved=!1},e.prototype.moveMouse=function(t){if(null!=this.tempVec2&&!(cc.Vec2.distance(t.getLocation(),this.tempVec2)<=this.minDrawLen)){var e=t.getLocation();this.drawGraphics.lineTo(e.x,e.y),this.drawGraphics.stroke(),this.list.push(e),this.tempVec2=e,this.isTouchMoved=!0}},e.prototype.moveEndMouse=function(t){if(this.isTouchMoved){var e=t.getLocation();if(this.list.push(e),this.waterLines[this.drawIndex].SetFillList(this.list),this.list=new Array,this.tempVec2=null,this.isTouchMoved=!1,this.drawIndex=this.drawIndex+1,this.drawIndex>=this.waterLineNum)console.log("\u6e38\u620f\u8fc7\u5173\u5931\u8d25"),l.default.Instnace.ShowFail(),this.ReStart();else{this.startWaterTap.SetWaterlineCollider(this.waterLines),this.endWaterTap.SetWaterlineCollider(this.waterLines);for(var o=0;o<this.middleWaterTaps.length;o++)this.middleWaterTaps[o].SetWaterlineCollider(this.waterLines);this.TryRefreshTapNodeState()}}},e.prototype.TryRefreshTapNodeState=function(){for(var t=this.waterLines.length,e=0;e<t;e++){var o=this.waterLines[e].GetColliders();if(!(o.length<2)){for(var n=!1,i=0;i<o.length;i++)if(o[i].node.getComponent(h.default).hasWater){n=!0;break}if(n)for(i=0;i<o.length;i++)o[i].node.getComponent(h.default).SetHasWater(!0)}}for(e=0;e<this.middleWaterTaps.length;e++)this.middleWaterTaps[e].SyncTypeNodeState()},e.prototype.CheckPassed=function(){for(var t=0;t<10;t++)this.TryRefreshTapNodeState();this.startWaterTap.IsPassed()&&(this.GameOver(),this.startWaterTap.OpenWater(function(t){t.TryOpenMiddleWater(function(t){t.showResult()})},this))},e.prototype.TryOpenMiddleWater=function(t){for(var e=new Array,o=0;o<this.middleWaterTaps.length;o++)for(var n=this.middleWaterTaps[o],i=0;i<n.middleColliders.length;i++){var r=n.middleColliders[i];e.push(r)}var a=new Array,c=this.waterLines.length;for(o=0;o<c;o++){var s=(n=this.waterLines[o]).GetColliders(),l=!0;for(i=0;i<s.length;i++){var u=s[i];if(n.indexOf(u,e)<0){l=!1;break}}l&&s.length>0&&a.push(n)}var p=a.length;if(p>0){var h=this.startWaterTap.GetStartWaterLine();for(o=0;o<a.length;o++)(n=a[o]).FillWater(function(e){(p-=1)<=0&&t(e)},this,h)}else t(this)},e.prototype.showResult=function(){console.log("showResult");var t=this,e=function(){t.endWaterTap.GetLinkedAllEndNode()?(console.log("\u6e38\u620f\u8fc7\u5173\u6210\u529f"),c.default.getInst().getModel().gameExit()):(console.log("\u6e38\u620f\u8fc7\u5173\u5931\u8d25"),l.default.Instnace.ShowFail(),t.ReStart())};this.endWaterTap.OpenWater(function(){l.default.Instnace.scheduleOnce(e,1.5)})},e.prototype.GameOver=function(){this.isOver=!0,this.drawGraphics.node.off(cc.Node.EventType.TOUCH_START,this.moveStartMouse,this),this.drawGraphics.node.off(cc.Node.EventType.TOUCH_MOVE,this.moveMouse,this),this.drawGraphics.node.off(cc.Node.EventType.TOUCH_END,this.moveEndMouse,this)},e.prototype.ReStart=function(){this.endWaterTap.ResetActive(),this.GameOver(),this.register(),this.clear(),this.startWaterTap.ResetTapNodeState(),this.endWaterTap.ResetTapNodeState();for(var t=0;t<this.middleWaterTaps.length;t++)this.middleWaterTaps[t].ResetTapNodeState()},e.prototype.clear=function(){this.drawIndex=0,this.drawGraphics.clear();for(var t=this.waterLines.length,e=0;e<t;e++)this.waterLines[e].Clear()},r([_(cc.Graphics)],e.prototype,"drawGraphics",void 0),r([_(cc.Color.WHITE)],e.prototype,"drawColor",void 0),r([_(cc.Color.WHITE)],e.prototype,"fillColor",void 0),r([_(10)],e.prototype,"drawLineWidth",void 0),r([_(6)],e.prototype,"fillLineWidth",void 0),r([_(6)],e.prototype,"minDrawLen",void 0),r([_(0)],e.prototype,"waterLineNum",void 0),r([_(.5)],e.prototype,"inMiddleTime",void 0),r([_(p.default)],e.prototype,"startWaterTap",void 0),r([_(u.default)],e.prototype,"middleWaterTaps",void 0),r([_(s.default)],e.prototype,"endWaterTap",void 0),r([g],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../miniGamePackage/SubPackageManager":void 0,"./diver_EndWaterTap":"diver_EndWaterTap","./diver_GameMgr":"diver_GameMgr","./diver_MiddleWaterTap":"diver_MiddleWaterTap","./diver_StartWaterTap":"diver_StartWaterTap","./diver_TapNode":"diver_TapNode","./diver_WaterLine":"diver_WaterLine"}],diver_EndWaterTap:[function(t,e,o){"use strict";cc._RF.push(e,"5bf48BnbEtETILZKrw/+wbv","diver_EndWaterTap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./diver_Bucket")),s=a(t("./diver_TapNode")),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buckets=new Array,e.linkedEndNodes=new Array,e.linkedEndWaterline=new Array,e}return i(e,t),e.prototype.start=function(){this.ResetActive()},e.prototype.SetWaterlineCollider=function(t){this.linkedEndNodes.length=0,this.linkedEndWaterline.length=0;var e=t.length,o=this.buckets.length;if(!(e<=0||o<=0))for(var n=0;n<e;n++)for(var i=t[n],r=0;r<o;r++){var a=this.buckets[r],c=a.GetCollider(),s=i.GetIsHit(c),l=this.indexOf(a,this.linkedEndNodes);s&&l<0&&(i.SetCollider(c),this.linkedEndNodes.push(a),this.linkedEndWaterline.push(i))}},e.prototype.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t==e[o])return o;return-1},e.prototype.GetLinkedAllEndNode=function(){var t=this.linkedEndNodes.length>=this.buckets.length;if(t){for(var e=this.buckets.length,o=0;o<e;o++){var n=this.buckets[o].GetCollider();if(n&&!n.node.getComponent(s.default).hasWater){t=!1;break}}return t}return!1},e.prototype.OpenWater=function(t){void 0===t&&(t=null);for(var e=this.linkedEndWaterline.length,o=function(o){var i=n.linkedEndNodes[o];if(!i.GetCollider().node.getComponent(s.default).hasWater)return e-=1,"continue";n.linkedEndWaterline[o].FillWater(function(){i&&(i.SetBeforeNodeActive(!1),i.SetAfterNodeActive(!0)),e-=1,t&&e<=0&&t()},n)},n=this,i=0;i<this.linkedEndWaterline.length;i++)o(i)},e.prototype.ResetActive=function(){for(var t=0;t<this.buckets.length;t++){var e=this.buckets[t];e.SetAfterNodeActive(!1),e.SetBeforeNodeActive(!0)}},e.prototype.ResetTapNodeState=function(){for(var t=this.buckets.length,e=0;e<t;e++){var o=this.buckets[e].GetCollider();o&&o.node.getComponent(s.default).SetHasWater(!1)}},r([p(c.default)],e.prototype,"buckets",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"./diver_Bucket":"diver_Bucket","./diver_TapNode":"diver_TapNode"}],diver_GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","diver_GameMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./diver_Drawer")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.restartBtn=null,e.nextLevelName="",e.failNode=null,e.sucNode=null,e.leftTimerText=null,e.leftTimer=0,e.temptimer=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){var t=this;cc.director.getCollisionManager().enabled=!0,cc.debug.setDisplayStats(!1),o.Instnace=this,cc.view.setResizeCallback(function(){return t.adapt()}),this.adapt()},e.prototype.start=function(){this.sucNode.active=!1,this.failNode.active=!1,this.restartBtn.node.on(cc.Node.EventType.TOUCH_END,this.reStartGame,this),this.StartTimer()},e.prototype.reStartGame=function(){this.unscheduleAllCallbacks(),this.node.getComponent(c.default).ReStart()},e.prototype.adapt=function(){var t=cc.winSize.width/cc.winSize.height,e=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;t<=1&&t<=e?this.setFitWidth():this.setFitHeight()},e.prototype.setFitHeight=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1},e.prototype.setFitWidth=function(){cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0},e.prototype.StartTimer=function(){var t=this;this.temptimer=this.leftTimer,this.leftTimerText.string="",this.schedule(function(){t.RefreshTimer()},1,this.leftTimer)},e.prototype.RefreshTimer=function(){this.temptimer=this.temptimer-1,this.temptimer<=10&&(this.leftTimerText.string=this.temptimer.toString()),this.temptimer<=0&&this.ShowFail()},e.prototype.ShowFail=function(){var t=this;this.failNode.active=!0,this.scheduleOnce(function(){t.failNode.active=!1,t.reStartGame(),t.StartTimer()},1)},r([u(cc.Button)],e.prototype,"restartBtn",void 0),r([u("")],e.prototype,"nextLevelName",void 0),r([u(cc.Node)],e.prototype,"failNode",void 0),r([u(cc.Node)],e.prototype,"sucNode",void 0),r([u(cc.Label)],e.prototype,"leftTimerText",void 0),r([u(0)],e.prototype,"leftTimer",void 0),o=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./diver_Drawer":"diver_Drawer"}],diver_MiddleWaterTap:[function(t,e,o){"use strict";cc._RF.push(e,"cd878Q5R0xBv4nihhUR4BCG","diver_MiddleWaterTap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./diver_TapNode")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.middleColliders=new Array,e}return i(e,t),e.prototype.SetWaterlineCollider=function(t){var e=t.length,o=this.middleColliders.length;if(e<=0||o<=0)return!1;for(var n=0;n<e;n++){for(var i=t[n],r=!1,a=0;a<o;a++){var c=this.middleColliders[a];if(r=i.GetIsHit(c))break}if(r)for(a=0;a<o;a++)c=this.middleColliders[a],i.SetCollider(c)}},e.prototype.SyncTypeNodeState=function(){var t=this.middleColliders.length;if(!(t<=0)){for(var e=!1,o=0;o<t;o++)if(this.middleColliders[o].node.getComponent(c.default).hasWater){e=!0;break}if(e)for(o=0;o<t;o++)this.middleColliders[o].node.getComponent(c.default).SetHasWater(!0)}},e.prototype.ResetTapNodeState=function(){var t=this.middleColliders.length;if(!(t<=0))for(var e=0;e<t;e++)this.middleColliders[e].node.getComponent(c.default).SetHasWater(!1)},r([u(cc.BoxCollider)],e.prototype,"middleColliders",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./diver_TapNode":"diver_TapNode"}],diver_StartWaterTap:[function(t,e,o){"use strict";cc._RF.push(e,"832d9w9SdtCEZPznC7og5Ws","diver_StartWaterTap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./diver_TapNode")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startCollider=null,e.waterLine=null,e}return i(e,t),e.prototype.SetWaterlineCollider=function(t){var e=t.length;if(!(e<=0))for(var o=0;o<e;o++){var n=t[o];if(n.GetIsHit(this.startCollider)){n.SetCollider(this.startCollider),this.waterLine=n;break}}},e.prototype.ResetTapNodeState=function(){this.startCollider.node.getComponent(c.default).SetHasWater(!0)},e.prototype.IsPassed=function(){return this.startCollider.node.getComponent(c.default).isPassed()},e.prototype.OpenWater=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),null!=this.waterLine?this.waterLine.FillWater(t,e):t&&e&&t(e)},e.prototype.GetStartWaterLine=function(){return this.waterLine},r([u(cc.BoxCollider)],e.prototype,"startCollider",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./diver_TapNode":"diver_TapNode"}],diver_TapNode:[function(t,e,o){"use strict";cc._RF.push(e,"6dffahLdoVCMoGGyAnfJvY2","diver_TapNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasWater=!1,e.childNodes=new Array,e.parentNode=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){for(var t=0;t<this.childNodes.length;t++)this.childNodes[t].parentNode=this},e.prototype.SetHasWater=function(t){this.hasWater=t},e.prototype.isPassed=function(){if(!this.hasWater)return!1;var t=!1,e=null;return(e=function(o){if(o.childNodes.length<=0)t=!0;else for(var n=0;n<o.childNodes.length;n++){var i=o.childNodes[n];i.hasWater&&e(i)}})(this),t},e.prototype.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t==e[o])return o;return-1},r([s(!1)],e.prototype,"hasWater",void 0),r([s(o)],e.prototype,"childNodes",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],diver_WaterLine:[function(t,e,o){"use strict";cc._RF.push(e,"b522694Ru5NdLqGUKS47KEE","diver_WaterLine");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var r=i(t("./diver_GameMgr")),a=i(t("./diver_TapNode")),c=cc._decorator.ccclass,s=function(){function t(t,e){void 0===e&&(e=!0),this.colliders=new Array,this.list=new Array,this.drawer=null,this.isInDown=!0,this.maxPosX=0,this.maxPosY=0,this.maxOffest=0,this.drawer=t,this.isInDown=e}return t.prototype.SetFillList=function(t){this.list=t,this.SetMaxX()},t.prototype.FillWater=function(t,e,o){if(void 0===t&&(t=null),void 0===e&&(e=null),void 0===o&&(o=null),null==this.list||this.list.length<=0)return console.log("\u6c34\u7ba1\u4e2d\u7684\u6c34\u7684\u8def\u5f84\u4e3a\u7a7a"),void(t&&e&&t(e));var n=!1;if(this.isInDown=!0,o&&o!=this){var i=o.maxPosX,a=(o.maxPosY,this.list[0].x),c=this.list[this.list.length-1].x,s=this.list[0].y,l=this.list[this.list.length-1].y;Math.abs(l-s)<Math.abs(c-a)&&(a>i&&(n=a>c,console.log("aX 11 ",a),console.log("bX 11 ",c)),c<i&&(n=a<c,console.log("aX 22 ",a),console.log("bX 22 ",c)),this.isInDown=!1),console.log("startLineMaxX  ",i),console.log("isForceInvert  ",n)}this.tryInvert(n);var u=this.list[0],p=null,h=1,f=this.list,d=this.drawer;this.drawer.moveTo(u.x,u.y),p=function(){var o=f[h];if(null==o)return f.length=0,r.default.Instnace.unschedule(p),void(t&&e&&t(e));d.lineTo(o.x,o.y),d.stroke(),h+=1},r.default.Instnace.schedule(p,cc.director.getDeltaTime())},t.prototype.GetIsHit=function(t){if(this.list.length<=0)return!1;var e=this.list[0],o=this.list[this.list.length-1],n=cc.Intersection.pointInPolygon(e,t.world.points);return!!n||!!(n=cc.Intersection.pointInPolygon(o,t.world.points))},t.prototype.Clear=function(){this.drawer&&this.drawer.clear(),this.list.length=0,this.resetTapNodeState()},t.prototype.tryInvert=function(t){void 0===t&&(t=!1);var e=this.list[0],o=this.list[this.list.length-1],n=!1;if(this.isInDown&&e.y>o.y&&(n=!0),n||t){for(var i=new Array,r=this.list.length-1;r>=0;r--){var a=this.list[r];i.push(a)}this.list=i}},t.prototype.SetCollider=function(t){this.indexOf(t,this.colliders)>=0||this.colliders.push(t)},t.prototype.GetColliders=function(){return this.colliders},t.prototype.resetTapNodeState=function(){for(var t=0;t<this.colliders.length;t++)this.colliders[t].node.getComponent(a.default).SetHasWater(!1);this.colliders.length=0},t.prototype.indexOf=function(t,e){for(var o=0;o<e.length;o++)if(t==e[o])return o;return-1},t.prototype.SetMaxX=function(){var t=this.list[0].x>this.list[this.list.length-1].x?this.list[0].x:this.list[this.list.length-1].x,e=this.list[0].y>this.list[this.list.length-1].y?this.list[0].y:this.list[this.list.length-1].y;this.maxPosX=t,this.maxPosY=e},n([c],t)}();o.default=s,cc._RF.pop()},{"./diver_GameMgr":"diver_GameMgr","./diver_TapNode":"diver_TapNode"}],diver_main:[function(t,e,o){"use strict";cc._RF.push(e,"c0ac9Hc1ypCUoQU1ogI4HxU","diver_main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.level1=null,e.level2=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;console.log("\u6d17\u6fa1\u5c0f\u6e38\u620f onLoad"),cc.debug.setDisplayStats(!1),this.level1.node.on(cc.Node.EventType.TOUCH_END,this.onLevel1,this),this.level2.node.on(cc.Node.EventType.TOUCH_END,this.onLevel2,this),cc.view.setResizeCallback(function(){return t.adapt()}),this.adapt()},e.prototype.start=function(){console.log("\u6d17\u6fa1\u5c0f\u6e38\u620f start"),this.adapt()},e.prototype.onLevel1=function(){console.log("\u6253\u5f00\u5173\u53611"),cc.director.loadScene("level1",function(){console.log("\u6253\u5f00\u5173\u53611\u5b8c\u6210")})},e.prototype.onLevel2=function(){console.log("\u6253\u5f00\u5173\u53611"),cc.director.loadScene("level2",function(){console.log("\u6253\u5f00\u5173\u53611\u5b8c\u6210")})},e.prototype.adapt=function(){var t=cc.winSize.width/cc.winSize.height,e=cc.Canvas.instance.designResolution.width/cc.Canvas.instance.designResolution.height;t<=1&&t<=e?this.setFitWidth():this.setFitHeight()},e.prototype.setFitHeight=function(){cc.Canvas.instance.fitHeight=!0,cc.Canvas.instance.fitWidth=!1},e.prototype.setFitWidth=function(){cc.Canvas.instance.fitHeight=!1,cc.Canvas.instance.fitWidth=!0},r([s(cc.Button)],e.prototype,"level1",void 0),r([s(cc.Button)],e.prototype,"level2",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],drop_AStar:[function(t,e,o){"use strict";cc._RF.push(e,"47bbberHG5PkpxWybRprYUF","drop_AStar");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Grid=void 0;var i,r=cc._decorator,a=r.ccclass,c=(r.property,function(){function t(){this.x=0,this.y=0,this.f=0,this.g=0,this.h=0,this.parent=null,this.type=0}return t.prototype.clear=function(){this.f=0,this.g=0,this.h=0,this.parent=null},t}());o.Grid=c,function(t){t[t.NONE=0]="NONE",t[t.OBSTACLE=-1]="OBSTACLE",t[t.START=1]="START",t[t.END=2]="END"}(i||(i={}));var s=function(){function t(){this.is8dir=!1,this.path=[]}return t.prototype.setMapData=function(t){var e=this;t.forEach(function(t){e.gridsList[t.x][t.y].type=-1})},t.prototype.initMap=function(t,e){this.mapH=e-1,this.mapW=t-1,this.is8dir=!0,this.openList=[],this.closeList=[],this.path=[],this._cashpath={},this._history=!1,this.gridsList=new Array(this.mapW+1);for(var o=0;o<this.gridsList.length;o++)this.gridsList[o]=new Array(this.mapH+1);for(o=0;o<=this.mapW;o++)for(var n=0;n<=this.mapH;n++)this.addGrid(o,n,i.NONE)},t.prototype.addGrid=function(t,e,o){var n=new c;n.x=t,n.y=e,n.type=o,this.gridsList[t][e]=n},t.prototype._sortFunc=function(t,e){return t.f-e.f},t.prototype.generatePath=function(t){for(this.path.push(cc.v2(t.x,t.y));t.parent;)t=t.parent,this.path.push(cc.v2(t.x,t.y))},t.prototype.findPath=function(t,e){this.openList=[],this.closeList=[],this.path=[];var o=t,n=e,r="sx"+o.x+"sy"+o.y+"ex"+n.x+"ey"+n.y;if(this._history&&this._cashpath[r])return this.path=this._cashpath[r],!0;for(var a=0;a<=this.mapW;a++)for(var c=0;c<=this.mapH;c++)this.gridsList[a][c].clear(),this.gridsList[a][c].type!=i.START&&this.gridsList[a][c].type!=i.END||(this.gridsList[a][c].type=i.NONE);this.gridsList[o.x][o.y].type=i.START;var s=this.gridsList[o.x][o.y];if(this.gridsList[n.x][n.y].type=i.END,s.type==i.END)return this.path=[cc.v2(s.x,s.y)],!0;this.openList.push(s);for(var l=this.openList[0];this.openList.length>0&&l.type!=i.END;){if((l=this.openList[0]).type==i.END)return this.generatePath(l),r="sx"+o.x+"sy"+o.y+"ex"+n.x+"ey"+n.y,this._cashpath[r]=JSON.parse(JSON.stringify(this.path)),!0;for(var u=-1;u<=1;u++)for(var p=-1;p<=1;p++)if((0!=u||0!=p)&&(a=l.x+u,c=l.y+p,a>=0&&c>=0&&a<=this.mapW&&c<=this.mapH&&-1!=this.gridsList[a][c].type&&this.closeList.indexOf(this.gridsList[a][c])<0)){if(this.is8dir){if(-1==this.gridsList[a-u][c].type||-1==this.gridsList[a][c-p].type)continue}else if(Math.abs(u)==Math.abs(p))continue;var h=l.g+Math.sqrt(Math.pow(10*u,2)+Math.pow(10*p,2));(0==this.gridsList[a][c].g||this.gridsList[a][c].g>h)&&(this.gridsList[a][c].g=h,this.gridsList[a][c].parent=l),this.gridsList[a][c].h=Math.abs(n.x-a)+Math.abs(n.y-c),this.gridsList[a][c].f=this.gridsList[a][c].g+this.gridsList[a][c].h,this.openList.indexOf(this.gridsList[a][c])<0&&this.openList.push(this.gridsList[a][c])}if(this.closeList.push(l),this.openList.splice(this.openList.indexOf(l),1),this.openList.length<=0)return cc.log("find path failed."),!1;this.openList.sort(this._sortFunc)}},n([a],t)}();o.default=s,cc._RF.pop()},{}],drop_BottomReceiver:[function(t,e,o){"use strict";cc._RF.push(e,"b87ba+V0dxFcJhWnK5kxBOB","drop_BottomReceiver");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./drop_GameData")),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(t,e){console.log("\u843d\u4e0b"),e.node.parent.removeChild(e.node),c.default.Instance().game.checkOver()},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./drop_GameData":"drop_GameData"}],drop_DataBoard:[function(t,e,o){"use strict";cc._RF.push(e,"f8aef2N/J5I8IJJOVZi9g1H","drop_DataBoard");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),window.DATABOARD=!0;var a=cc._decorator,c=a.ccclass,s=a.property,l=a.executeInEditMode,u=a.menu,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isOutlineBoxActive=!1,e._outlineBoxColor=new cc.Color(255*Math.random(),255*Math.random(),255*Math.random()),e._outlineBoxOpacity=100,e._isCollideBoxActive=!0,e._collideBoxColor=new cc.Color(255*Math.random(),255*Math.random(),255*Math.random()),e._collideBoxOpacity=100,e._isCustomLabelActive=!0,e.customComponentName="",e._customLabelString="x,y",e._customLabelOffset=cc.v2(0,100),e._customLabelColor=new cc.Color(255,255,0),e._customLabelSize=60,e._customLabelDigit=0,e.boardNode=null,e.outlineBoxNode=null,e.collideBoxNode=null,e.anchorPointNode=null,e.customLabelNode=null,e.customLabel=null,e.customLabelStringSplit=null,e.monitorComp=null,e}return i(e,t),Object.defineProperty(e.prototype,"isOutlineBoxActive",{get:function(){return this._isOutlineBoxActive},set:function(t){this._isOutlineBoxActive=t,this.outlineBoxNode.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineBoxColor",{get:function(){return this._outlineBoxColor},set:function(t){this._outlineBoxColor=t,this.outlineBoxNode.color=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"outlineBoxOpacity",{get:function(){return this._outlineBoxOpacity},set:function(t){this._outlineBoxOpacity=t,this.outlineBoxNode.opacity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCollideBoxActive",{get:function(){return this._isCollideBoxActive},set:function(t){this._isCollideBoxActive=t,this.collideBoxNode.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collideBoxColor",{get:function(){return this._collideBoxColor},set:function(t){this._collideBoxColor=t,this.collideBoxNode.color=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collideBoxOpacity",{get:function(){return this._collideBoxOpacity},set:function(t){this._collideBoxOpacity=t,this.collideBoxNode.opacity=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCustomLabelActive",{get:function(){return this._isCustomLabelActive},set:function(t){this._isCustomLabelActive=t,this.customLabelNode.active=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelString",{get:function(){return this._customLabelString},set:function(t){this._customLabelString=t,this.customLabelStringSplit=t.replace(/,|\uff0c/g,"_~_").replace(/:|\uff1a/g,"_!_").replace(/ /g,"_@_").replace(/_*\n_*/g,"_\n_").split("_")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelOffset",{get:function(){return this._customLabelOffset},set:function(t){this._customLabelOffset=t,this.customLabelNode.x=t.x,this.customLabelNode.y=t.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelColor",{get:function(){return this._customLabelColor},set:function(t){this._customLabelColor=t,this.customLabelNode.color=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelSize",{get:function(){return this._customLabelSize},set:function(t){this._customLabelSize=t,this.customLabel.fontSize=t,this.customLabel.lineHeight=1.2*t,this.customLabelNode.getComponent(cc.LabelOutline).width=.1*t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"customLabelDigit",{get:function(){return this._customLabelDigit},set:function(t){this._customLabelDigit=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){if(this.boardNode=this.node.getChildByName("DataBoard"),window.DATABOARD){cc.isValid(this.boardNode)&&(this.boardNode.removeFromParent(),this.boardNode.destroy());var t=new cc.Texture2D;t.initWithData(new Uint8Array([255,255,255]),cc.Texture2D.PixelFormat.RGB888,1,1),this.boardNode=new cc.Node("DataBoard"),this.boardNode.setParent(this.node),this.boardNode.x=this.boardNode.y=0,this.boardNode.zIndex=cc.macro.MAX_ZINDEX,this.boardNode._objFlags|=cc.Object.Flags.HideInHierarchy,this.boardNode._objFlags|=cc.Object.Flags.LockedInEditor,this.outlineBoxNode=new cc.Node("OutlineBox"),this.outlineBoxNode.setParent(this.boardNode),this.outlineBoxNode.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.outlineBoxNode.active=this.isOutlineBoxActive,this.outlineBoxNode.color=this.outlineBoxColor,this.outlineBoxNode.opacity=this.outlineBoxOpacity,this.collideBoxNode=new cc.Node("CollideBox"),this.collideBoxNode.setParent(this.boardNode),this.collideBoxNode.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.collideBoxNode.active=this.isCollideBoxActive,this.collideBoxNode.color=this.collideBoxColor,this.collideBoxNode.opacity=this.collideBoxOpacity,this.anchorPointNode=new cc.Node("AnchorPoint"),this.anchorPointNode.setParent(this.boardNode),this.anchorPointNode.addComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.anchorPointNode.color=cc.color(255,0,0),this.anchorPointNode.width=20,this.anchorPointNode.height=20,this.customLabelNode=new cc.Node("CustomLabel"),this.customLabelNode.setParent(this.boardNode),this.customLabel=this.customLabelNode.addComponent(cc.Label),this.customLabelNode.addComponent(cc.LabelOutline).color=cc.color(0,0,0),this.customLabelNode.active=this.isCustomLabelActive,this.customLabelString=this._customLabelString,this.customLabelNode.x=this.customLabelOffset.x,this.customLabelNode.y=this.customLabelOffset.y,this.customLabelNode.color=this.customLabelColor,this.customLabelSize=this._customLabelSize,this.updateAngle(),this.updateScale(),this.updateAnchor(),this.updateSize(),this.node.on(cc.Node.EventType.ROTATION_CHANGED,this.updateAngle,this),this.node.on(cc.Node.EventType.SCALE_CHANGED,this.updateScale,this),this.node.on(cc.Node.EventType.ANCHOR_CHANGED,this.updateAnchor,this),this.node.on(cc.Node.EventType.SIZE_CHANGED,this.updateSize,this)}else this.destroy()},e.prototype.updateAngle=function(){this.collideBoxNode.angle=-this.node.angle,this.customLabelNode.angle=-this.node.angle},e.prototype.updateScale=function(){this.boardNode.scaleX=1/this.node.scaleX,this.boardNode.scaleY=1/this.node.scaleY,this.outlineBoxNode.scaleX=this.node.scaleX,this.outlineBoxNode.scaleY=this.node.scaleY,this.collideBoxNode.scaleX=this.node.scaleX,this.collideBoxNode.scaleY=this.node.scaleY},e.prototype.updateAnchor=function(){this.outlineBoxNode.anchorX=this.node.anchorX,this.outlineBoxNode.anchorY=this.node.anchorY,this.collideBoxNode.anchorX=this.node.anchorX,this.collideBoxNode.anchorY=this.node.anchorY},e.prototype.updateSize=function(){this.outlineBoxNode.width=this.node.width,this.outlineBoxNode.height=this.node.height,this.collideBoxNode.width=this.node.width,this.collideBoxNode.height=this.node.height},e.prototype.update=function(){if(this.isCustomLabelActive&&this.customLabelStringSplit){if(0!==this.customLabelOffset.x||0!==this.customLabelOffset.y){var t=-this.node.angle*Math.PI/180,e=Math.cos(t),o=Math.sin(t);this.customLabelNode.x=this.customLabelOffset.x*e-this.customLabelOffset.y*o,this.customLabelNode.y=this.customLabelOffset.x*o+this.customLabelOffset.y*e}var n="",i=this.customLabelStringSplit;!this.monitorComp&&this.customComponentName&&(this.monitorComp=this.node.getComponent(this.customComponentName));for(var r=0,a=i.length;r<a;++r){var c=null;switch(i[r]){case"wp":var s=this.node._worldMatrix.m;c=s[12].toFixed(this.customLabelDigit)+",\t"+s[13].toFixed(this.customLabelDigit);break;case"angle":c=this.node.angle.toFixed(this.customLabelDigit)+"\xb0";break;case"radian":c=(this.node.angle/180).toFixed(this.customLabelDigit)+"\u03c0";break;case"matrix":s=this.node._worldMatrix.m,c="";for(var l=0;l<4;++l){for(var u=0;u<4;++u){var p=s[4*u+l];c+=(p<0?"\t\t":"\t\t\t")+p.toFixed(this.customLabelDigit)}3!==l&&(c+="\n")}break;case"children":c="";for(var h=0,f=this.node.childrenCount;h<f;++h)c+="\t\t\t"+h+"\uff1a"+this.node.children[h].name,h!==f-1&&(c+="\n");break;case"~":c=",\t";break;case"!":c=":\t";break;case"@":c="\t\t";break;default:"number"==typeof(c=void 0!==this.node[i[r]]?this.node[i[r]]:i[r].startsWith("#")&&null!==this.monitorComp?this.parseString(i[r].substring(1)):i[r])?c=c.toFixed(this.customLabelDigit):c.name&&(c=c.name)}n+=c}this.customLabel.string=n}},e.prototype.parseString=function(t){var e=t.split("."),o=this.monitorComp[e[0]];void 0===o&&(o="#"+e[0]);for(var n=1,i=e.length;n<i;++n){if(void 0===o[e[n]])return(o.name?o.name:o)+"."+e[n];o=o[e[n]]}return o},e.prototype.onDestroy=function(){cc.isValid(this.boardNode)&&(this.boardNode.removeFromParent(),this.boardNode.destroy()),this.node.targetOff(this)},r([s],e.prototype,"_isOutlineBoxActive",void 0),r([s({displayName:!1,tooltip:!1})],e.prototype,"isOutlineBoxActive",null),r([s],e.prototype,"_outlineBoxColor",void 0),r([s({displayName:!1,visible:function(){return this.isOutlineBoxActive}})],e.prototype,"outlineBoxColor",null),r([s],e.prototype,"_outlineBoxOpacity",void 0),r([s({min:0,max:255,step:1,slide:!0,displayName:!1,visible:function(){return this.isOutlineBoxActive}})],e.prototype,"outlineBoxOpacity",null),r([s],e.prototype,"_isCollideBoxActive",void 0),r([s({displayName:!1,tooltip:!1})],e.prototype,"isCollideBoxActive",null),r([s],e.prototype,"_collideBoxColor",void 0),r([s({displayName:!1,visible:function(){return this.isCollideBoxActive}})],e.prototype,"collideBoxColor",null),r([s],e.prototype,"_collideBoxOpacity",void 0),r([s({min:0,max:255,step:1,slide:!0,displayName:!1,visible:function(){return this.isCollideBoxActive}})],e.prototype,"collideBoxOpacity",null),r([s],e.prototype,"_isCustomLabelActive",void 0),r([s({displayName:!1,tooltip:!1})],e.prototype,"isCustomLabelActive",null),r([s({displayName:!1,tooltip:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customComponentName",void 0),r([s],e.prototype,"_customLabelString",void 0),r([s({multiline:!0,displayName:!1,tooltip:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelString",null),r([s],e.prototype,"_customLabelOffset",void 0),r([s({displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelOffset",null),r([s],e.prototype,"_customLabelColor",void 0),r([s({displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelColor",null),r([s],e.prototype,"_customLabelSize",void 0),r([s({displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelSize",null),r([s],e.prototype,"_customLabelDigit",void 0),r([s({min:0,max:10,step:1,slide:!0,displayName:!1,visible:function(){return this.isCustomLabelActive}})],e.prototype,"customLabelDigit",null),r([c,l,u("Comp/DataBoard")],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],drop_GameCommon:[function(t,e,o){"use strict";cc._RF.push(e,"a1a52vgvFlGtoprducPAjFO","drop_GameCommon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("../../../miniGamePackage/SubPackageManager")),s=a(t("../drop_GameData")),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.over_sprite=null,e.success_frame=null,e.fail_frame=null,e}return i(e,t),e.prototype.gameOver=function(t){s.default.Instance().game_status=2,this.schedule(function(){c.default.getInst().getModel().gameExit()},3),this.over_sprite.node.active=!0,t?(s.default.Instance().nextStage(),this.over_sprite.spriteFrame=this.success_frame):this.over_sprite.spriteFrame=this.fail_frame},e.prototype.btn_back=function(){cc.director.loadScene("Select")},r([p(cc.Sprite)],e.prototype,"over_sprite",void 0),r([p(cc.SpriteFrame)],e.prototype,"success_frame",void 0),r([p(cc.SpriteFrame)],e.prototype,"fail_frame",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../miniGamePackage/SubPackageManager":void 0,"../drop_GameData":"drop_GameData"}],drop_GameData:[function(t,e,o){"use strict";cc._RF.push(e,"5d171/EOORMnLU/Y5/4iJHG","drop_GameData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=r(t("./Common/drop_Singleton")),c=t("./drop_Stage"),s=cc._decorator,l=(s.ccclass,s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stage_index=0,e.stage=null,e.game_status=0,e.game=null,e}return i(e,t),Object.defineProperty(e.prototype,"stage_index",{get:function(){return this._stage_index},set:function(t){this._stage_index=t%2},enumerable:!1,configurable:!0}),e.prototype.nextStage=function(){this.stage_index=this.stage_index+1},e.prototype.init=function(){this.game_status=0,0==this.stage_index?this.stage=new c.Stage1:this.stage=new c.Stage2},e}(a.default));o.default=l,cc._RF.pop()},{"./Common/drop_Singleton":"drop_Singleton","./drop_Stage":"drop_Stage"}],drop_GameEvent:[function(t,e,o){"use strict";cc._RF.push(e,"bc7a5NQWO5IAa0GhY3uZeE7","drop_GameEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventHash={},e.ower=null,e.type=null,e.callback=null,e}return i(e,t),e.prototype.clearAll=function(){this.eventHash={}},e.prototype.register=function(t,e,o){var n={};n.ower=t,n.type=e,n.callback=o,this.eventHash.hasOwnProperty(e)||(this.eventHash[e]=[]),this.eventHash[e].push(n)},e.prototype.unregister=function(t,e){var o=this.eventHash[e];o&&o.length>0&&o.forEach(function(n,i){n.ower===t&&n.type===e&&o.splice(i,1)})},e.prototype.dispatch=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.eventHash[t];if(n&&n.length>0)for(var i in n){var r=n[i];r.callback&&(r.callback=r.callback.bind(r.ower),r.callback.apply(r,e))}},e}(r(t("./drop_Singleton")).default);o.default=a,cc._RF.pop()},{"./drop_Singleton":"drop_Singleton"}],drop_Game:[function(t,e,o){"use strict";cc._RF.push(e,"02804fOt9VJULemrk951JAy","drop_Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./Common/drop_GameCommon")),s=a(t("./Common/drop_Utils")),l=a(t("./drop_GameData")),u=a(t("./drop_Plane")),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.food=null,e.plane_fab=null,e.food_fab=null,e.plane_group_node=null,e.lab_food=null,e.lab_dorp=null,e.stage1_fab=null,e.stage2_fab=null,e.left_pos=new cc.Vec2(-500,500),e.right_pos=new cc.Vec2(500,500),e.plane_node=null,e.drop_number=0,e.food_number=0,e}return i(e,t),e.prototype.onEnable=function(){var t=this;cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,l.default.Instance().init(),l.default.Instance().game=this;var e;e=0==l.default.Instance().stage_index?cc.instantiate(this.stage1_fab):cc.instantiate(this.stage2_fab),this.plane_group_node.addChild(e),this.drop_number=l.default.Instance().stage.drop_number_total,this.lab_food.string=this.food_number+"/"+l.default.Instance().stage.food_number_total,this.lab_dorp.string=""+this.drop_number;var o=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){if(0==l.default.Instance().game_status&&null!=t.plane_node){var e=t.plane_node,n=e.getComponent(u.default);n.tween.stop(),n.drop(),o.drop_number--,o.lab_dorp.string=""+t.drop_number,t.plane_node=null;var i=cc.instantiate(t.food_fab),r=e.getPosition();t.plane_group_node.addChild(i);var a=i.getComponent(cc.RigidBody),c=new cc.Vec2(0,0);n.left?(a.linearVelocity=new cc.Vec2(200,0),c=new cc.Vec2(r.x+400,r.y+400),i.position=new cc.Vec3(r.x+40,r.y-95,0)):(a.linearVelocity=new cc.Vec2(-200,0),c=new cc.Vec2(r.x-400,r.y+400),i.position=new cc.Vec3(r.x-40,r.y-95,0),i.scaleX=-1),a.awake=!0,cc.tween(e).to(1,{position:new cc.Vec3(c.x,c.y,0)}).call(function(){e.parent.removeChild(e),t.scheduleOnce(function(){t.createPlane()},1)}).start()}})},e.prototype.start=function(){this.createPlane()},e.prototype.createPlane=function(){var t=this;if(0!=this.drop_number&&0==l.default.Instance().game_status){var e=!1;1==s.default.getRandomInt(0,1)&&(e=!0);var o=cc.instantiate(this.plane_fab);this.plane_node=o,this.plane_group_node.addChild(o);var n=o.getComponent(u.default),i=this.right_pos;e?(o.position=new cc.Vec3(this.left_pos.x,this.left_pos.y,0),i=this.right_pos,n.left=e):(o.position=new cc.Vec3(this.right_pos.x,this.right_pos.y,0),i=this.left_pos,o.scaleX=-1,n.left=e),n.tween=cc.tween(o).to(3,{position:new cc.Vec3(i.x,i.y,0)}).call(function(){o.parent.removeChild(o),t.plane_node=null,t.createPlane()}).start()}},e.prototype.checkOver=function(){return this.food_number==l.default.Instance().stage.food_number_total?(l.default.Instance().game_status=1,void this.gameOver(!0)):0==this.drop_number?(l.default.Instance().game_status=1,void this.gameOver(!1)):void 0},e.prototype.hit=function(){this.food_number++,this.lab_food.string=this.food_number+"/"+l.default.Instance().stage.food_number_total},r([f(cc.Node)],e.prototype,"food",void 0),r([f(cc.Prefab)],e.prototype,"plane_fab",void 0),r([f(cc.Prefab)],e.prototype,"food_fab",void 0),r([f(cc.Node)],e.prototype,"plane_group_node",void 0),r([f(cc.Label)],e.prototype,"lab_food",void 0),r([f(cc.Label)],e.prototype,"lab_dorp",void 0),r([f(cc.Prefab)],e.prototype,"stage1_fab",void 0),r([f(cc.Prefab)],e.prototype,"stage2_fab",void 0),r([h],e)}(c.default);o.default=d,cc._RF.pop()},{"./Common/drop_GameCommon":"drop_GameCommon","./Common/drop_Utils":"drop_Utils","./drop_GameData":"drop_GameData","./drop_Plane":"drop_Plane"}],drop_LevelReceiver:[function(t,e,o){"use strict";cc._RF.push(e,"d9557qvmNlH2owQemcJ9JKS","drop_LevelReceiver");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./drop_GameData")),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onBeginContact=function(){console.log("\u6295\u4e2d"),c.default.Instance().game.hit(),c.default.Instance().game.checkOver()},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./drop_GameData":"drop_GameData"}],drop_Plane:[function(t,e,o){"use strict";cc._RF.push(e,"374d9l2p85GI7f7+ZUzg6GM","drop_Plane");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tween=null,e.food_node=null,e.left=!1,e}return i(e,t),e.prototype.start=function(){},e.prototype.drop=function(){this.food_node.active=!1},r([s(cc.Node)],e.prototype,"food_node",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],drop_Select:[function(t,e,o){"use strict";cc._RF.push(e,"8123dSTir5BIai2KJ7AoSR3","drop_Select");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./drop_GameData")),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.mission_click=function(t,e){c.default.Instance().stage_index=Number.parseInt(e),cc.director.loadScene("Game")},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./drop_GameData":"drop_GameData"}],drop_Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"4b55fg7zC1DDpE89UWaabze","drop_Singleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.Instance=function(){return this.instance||(this.instance=new this),this.instance},t}();o.default=n,cc._RF.pop()},{}],drop_StageCtrl:[function(t,e,o){"use strict";cc._RF.push(e,"9dc78eG49FFqrNrvpZ20eNu","drop_StageCtrl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.update=function(){this.level.position=cc.v3(),this.receiver.position=cc.v3(0,80)},r([s(cc.Node)],e.prototype,"level",void 0),r([s(cc.Node)],e.prototype,"receiver",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],drop_Stage:[function(t,e,o){"use strict";cc._RF.push(e,"63492PngQtHm53jxsXydt4/","drop_Stage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Stage2=o.Stage1=o.Stage=void 0;var r=cc._decorator,a=(r.ccclass,r.property,function(){this.food_number_total=5,this.drop_number_total=25,this.init()});o.Stage=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e}(a);o.Stage1=c;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e}(a);o.Stage2=s,cc._RF.pop()},{}],drop_Timer:[function(t,e,o){"use strict";cc._RF.push(e,"2bfbbyqfulH46xAXAB9wBHK","drop_Timer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./drop_GameEvent")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbl=null,e.txt="",e.count_number=0,e.stop=!1,e}return i(e,t),e.prototype.start=function(){this.timer()},e.prototype.timer=function(){var t=this;this.scheduleOnce(function(){t.stop||(t.txt.length>0?t.count_number<10?t.lbl.string=t.txt+t.count_number.toString():t.lbl.string=t.txt+" "+t.count_number.toString():t.lbl.string=t.count_number.toString(),t.count_number--,t.count_number>=0?t.timer():c.default.Instance().dispatch("timer_over"))},1)},e.prototype.timerStop=function(){this.stop=!0},r([u(cc.Label)],e.prototype,"lbl",void 0),r([u(cc.String)],e.prototype,"txt",void 0),r([u(cc.Integer)],e.prototype,"count_number",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./drop_GameEvent":"drop_GameEvent"}],drop_Utils:[function(t,e,o){"use strict";cc._RF.push(e,"c8b8faX3mdEeZ921/dhz78y","drop_Utils");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}return t.getRandom=function(t,e){return Math.random()*(e-t)+t},t.getRandomInt=function(t,e){return e++,Math.floor(Math.random()*(e-t))+t},n([r],t)}());o.default=a,cc._RF.pop()},{}],g2048_AnimationManager:[function(t,e,o){"use strict";cc._RF.push(e,"2c7ddQuidBK/5NrWYcyN/Jp","g2048_AnimationManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../../../miniGamePackage/utils/SubResourceUtils"),i=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t,this.instance.init()),this.instance},t.prototype.init=function(){},t.prototype.createSKAni=function(t,e,o,i,r,a){void 0===a&&(a=0),n.SubResourceUtils.getInst().loadAsset(e,dragonBones.DragonBonesAsset,this.loadSK.bind(this,t,o,i,r,a))},t.prototype.loadSK=function(t,e,o,i,r,a,c){t.dragonAsset=c,n.SubResourceUtils.getInst().loadAsset(e,dragonBones.DragonBonesAtlasAsset,this.onComplete.bind(this,t,o,i,r))},t.prototype.onComplete=function(t,e,o,n,i,r){t.dragonAtlasAsset=r,t.armatureName=e,t.playAnimation(o,n)},t.instance=null,t}();o.default=i,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0}],g2048_AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"16d7aVnmU1PQrpFj9P1Fxvb","g2048_AudioManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.AudioManager=void 0;var n=t("../../../miniGamePackage/utils/SubResourceUtils"),i=t("../data/g2048_ConstValue"),r=t("../data/g2048_StorageKey"),a=t("./g2048_GameDataManager"),c=function(){function t(){this.bgm="",this.loop=!1,this._soundVolume=1,this._musicVolume=1,this._audioID=0}return t.getInstance=function(){return null==this.instance&&(this.instance=new t,this.instance.init()),this.instance},t.prototype.init=function(){},t.prototype.switchAudio=function(){0==a.GameDataManager.getInstance().getGameData().getDataByKey(r.StorageKey.SOUND,!0)?cc.audioEngine.setVolume(this._audioID,0):cc.audioEngine.setVolume(this._audioID,1)},t.prototype.playSound=function(t,e){if(0!=a.GameDataManager.getInstance().getGameData().getDataByKey(r.StorageKey.SOUND,!0)){this.loop=e;var o=i.ConstValue.AUDIO_DIR+t;n.SubResourceUtils.getInst().loadAsset(o,cc.AudioClip,this.loadSoundComplete.bind(this))}},t.prototype.loadSoundComplete=function(t,e){t?cc.error(t):cc.audioEngine.play(e,!!this.loop&&this.loop,this._soundVolume)},t.prototype.stopAll=function(){cc.audioEngine.stopAll()},t.prototype.pauseAll=function(){cc.audioEngine.pauseAll()},t.prototype.resumeAll=function(){cc.audioEngine.resumeAll()},t.prototype.clear=function(){cc.audioEngine.stopAll(),this.bgm=""},t.prototype.playBGM=function(t){if(this.bgm!=t&&(this.bgm=t,0!=a.GameDataManager.getInstance().getGameData().getDataByKey(r.StorageKey.SOUND,!0))){cc.audioEngine.stopMusic();var e=i.ConstValue.AUDIO_DIR+t;n.SubResourceUtils.getInst().loadAsset(e,cc.AudioClip,this.loadBgmComplete.bind(this))}},t.prototype.loadBgmComplete=function(t){this._audioID=cc.audioEngine.playMusic(t,!0),cc.audioEngine.setVolume(this._audioID,this._musicVolume)},t.prototype.resumeBGM=function(){cc.audioEngine.stopMusic();var t=i.ConstValue.AUDIO_DIR+this.bgm;n.SubResourceUtils.getInst().loadAsset(t,cc.AudioClip,this.loadBgmComplete.bind(this))},Object.defineProperty(t.prototype,"soundValue",{get:function(){return this._soundVolume},set:function(t){this._soundVolume=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"musicVolume",{get:function(){return this._musicVolume},set:function(t){this._musicVolume=t,cc.audioEngine.setVolume(this._audioID,t)},enumerable:!1,configurable:!0}),t.instance=null,t}();o.AudioManager=c,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0,"../data/g2048_ConstValue":"g2048_ConstValue","../data/g2048_StorageKey":"g2048_StorageKey","./g2048_GameDataManager":"g2048_GameDataManager"}],g2048_AwardUtils:[function(t,e,o){"use strict";cc._RF.push(e,"d31d9Bd3dNKoI1daChFKhHE","g2048_AwardUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.AwardUtils=void 0;var n=t("./g2048_UIHelp"),i=function(){function t(){}return t.share=function(){window.h5api.share()},t.showVideo=function(t,e){this.videoSucc=t,this.videoFail=e,window.h5api.canPlayAd(this.canPlayBack.bind(this))},t.canPlayBack=function(t){console.log("\u662f\u5426\u53ef\u64ad\u653e\u5e7f\u544a",t.canPlayAd,"\u5269\u4f59\u6b21\u6570",t.remain),t.canPlayAd&&t.remain>0?window.h5api.playAd(this.playAdCallback.bind(this)):n.UIHelp.showTip("\u4eca\u65e5\u5e7f\u544a\u6b21\u6570\u5df2\u7528\u5b8c\uff0c\u8bf7\u660e\u65e5\u7ee7\u7eed\uff01")},t.playAdCallback=function(t){console.log("\u4ee3\u7801:"+t.code+",\u6d88\u606f:"+t.message),1e4===t.code?console.log("\u5f00\u59cb\u64ad\u653e"):10001===t.code?(console.log("\u64ad\u653e\u7ed3\u675f"),this.videoSucc&&this.videoSucc()):console.log("\u5e7f\u544a\u5f02\u5e38")},t}();o.AwardUtils=i,cc._RF.pop()},{"./g2048_UIHelp":"g2048_UIHelp"}],g2048_BaseConfigContainer:[function(t,e,o){"use strict";cc._RF.push(e,"1c6bdetEdRCYr7gDGtjFH+T","g2048_BaseConfigContainer"),Object.defineProperty(o,"__esModule",{value:!0}),o.BaseConfigContainer=void 0;var n=function(){function t(){}return Object.defineProperty(t.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),t}();o.BaseConfigContainer=n,cc._RF.pop()},{}],g2048_BaseUI:[function(t,e,o){"use strict";cc._RF.push(e,"35178dDUSlGAbHnrKr20936","g2048_BaseUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseUI=void 0;var a=t("../data/g2048_ConstValue"),c=t("../manager/g2048_ListenerManager"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e.prototype,"tag",{get:function(){return this.mTag},set:function(t){this.mTag=t},enumerable:!1,configurable:!0}),e.getUrl=function(){return cc.log(this.className),a.ConstValue.PREFAB_UI_DIR+this.className},e.prototype.onDestroy=function(){c.ListenerManager.getInstance().removeAll(this)},e.prototype.onShow=function(){cc.log("BaseUI onShow")},e.className="BaseUI",r([l],e)}(cc.Component));o.BaseUI=u,cc._RF.pop()},{"../data/g2048_ConstValue":"g2048_ConstValue","../manager/g2048_ListenerManager":"g2048_ListenerManager"}],g2048_ConfigManager:[function(t,e,o){"use strict";cc._RF.push(e,"07c95dVax5ID5ssguEckaPz","g2048_ConfigManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigManager=void 0;var n=function(){function t(){this.configContainerList=[],this.curLoadedCount=0}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.loadAllConfig=function(){},t.prototype.getConfig=function(t){for(var e=0;e<this.configContainerList.length;++e)if(this.configContainerList[e].tag==t)return this.configContainerList[e];return null},t.prototype.loadConfig=function(t,e,o){var n=new t(e,this,o);n.tag=t,this.configContainerList.push(n)},t.prototype.callback=function(t){this.curLoadedCount+=1,this.configContainerList.length==this.curLoadedCount&&t&&t()},t}();o.ConfigManager=n,cc._RF.pop()},{}],g2048_ConstValue:[function(t,e,o){"use strict";cc._RF.push(e,"66b51obcd1Mi4dcboc3fwIs","g2048_ConstValue"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConstValue=void 0;var n=function(){function t(){}return t.CONFIG_FILE_DIR="g2048/config/",t.PREFAB_UI_DIR="g2048/prefab/ui/",t.AUDIO_DIR="g2048/audio/",t.SCREEN_HEIGHT=1334,t.SCREEN_WIDTH=750,t.ANGRY_TIME=30,t.ANGRY_UPDATE_INTERVAL=3,t.OFFLINE_UPDATE_INTERVAL=10,t.BUY_PER_RATE_1=1.07,t.BUY_PER_RATE=1.175,t.SALE_BUY_RATE=.85,t.SALE_MERGE_RATE=.8,t.PLATFORM_UNIT_COUNT=12,t}();o.ConstValue=n,cc._RF.pop()},{}],g2048_ENUMStatus:[function(t,e,o){"use strict";cc._RF.push(e,"3305dEyHR9Hqr75uWAaIv1q","g2048_ENUMStatus"),Object.defineProperty(o,"__esModule",{value:!0}),o.PATTERN=o.SPIRIT_STATE=o.ACT_ID=void 0,function(t){t[t.null=0]="null",t[t.sign=1]="sign",t[t.turn=2]="turn",t[t.idiom=3]="idiom",t[t.money=4]="money",t[t.numCom=5]="numCom",t[t.other=6]="other",t[t.useItem=7]="useItem",t[t.setting=8]="setting"}(o.ACT_ID||(o.ACT_ID={})),function(t){t.beat="beat",t.behit="behit"}(o.SPIRIT_STATE||(o.SPIRIT_STATE={})),function(t){t[t.hot2048=0]="hot2048",t[t.hot4096=1]="hot4096",t[t.lianai=2]="lianai",t[t.qigai=3]="qigai",t[t.gongnv=4]="gongnv",t[t.combine=5]="combine"}(o.PATTERN||(o.PATTERN={})),cc._RF.pop()},{}],g2048_EnumBulletType:[function(t,e,o){"use strict";cc._RF.push(e,"88ebaohJXxC8Y1y2XmSCdY2","g2048_EnumBulletType"),Object.defineProperty(o,"__esModule",{value:!0}),o.EBulletType=void 0,function(t){t[t.none=-1]="none",t[t.slow=0]="slow",t[t.crit=1]="crit",t[t.stun=2]="stun"}(o.EBulletType||(o.EBulletType={})),cc._RF.pop()},{}],g2048_EnumTaskType:[function(t,e,o){"use strict";cc._RF.push(e,"14ae05TJZVIY5e+MHvZZVss","g2048_EnumTaskType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ETaskType=void 0,function(t){t[t.none=-1]="none",t[t.inviteFriend=1]="inviteFriend",t[t.login=2]="login",t[t.watchVideo=3]="watchVideo",t[t.share=4]="share",t[t.playWithFriend=5]="playWithFriend",t[t.mergeTimes=10]="mergeTimes",t[t.speedupTimes=11]="speedupTimes",t[t.killEnemy=12]="killEnemy"}(o.ETaskType||(o.ETaskType={})),cc._RF.pop()},{}],g2048_FadeUIPlugin:[function(t,e,o){"use strict";cc._RF.push(e,"9d871bUdYdB7I9XDNr8qyOS","g2048_FadeUIPlugin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FadeUIPlugin=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delay=0,e}return i(e,t),e.prototype.onLoad=function(){var t=cc.delayTime(this.delay),e=cc.scaleTo(.5,2,2),o=cc.scaleTo(.5,0,0),n=cc.scaleTo(.5,1,1),i=cc.sequence(t,e,o,n);this.node.runAction(i)},r([s],e.prototype,"delay",void 0),r([c],e)}(cc.Component);o.FadeUIPlugin=l,cc._RF.pop()},{}],g2048_GameController:[function(t,e,o){"use strict";cc._RF.push(e,"aba5eJXQslNZIE+jEyLgJfS","g2048_GameController"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameController=void 0;var n=t("./g2048_GameDataManager"),i=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.initGame=function(){n.GameDataManager.getInstance().unserializeData()},t}();o.GameController=i,cc._RF.pop()},{"./g2048_GameDataManager":"g2048_GameDataManager"}],g2048_GameDataManager:[function(t,e,o){"use strict";cc._RF.push(e,"3e8d8Ly9whHM7ax7xhk7rjJ","g2048_GameDataManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameDataManager=void 0;var n=t("../data/g2048_GameData"),i=function(){function t(){this.gameData=new n.GameData}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getGameData=function(){return this.gameData},t.prototype.unserializeData=function(){this.gameData.unserializeData()},t}();o.GameDataManager=i,cc._RF.pop()},{"../data/g2048_GameData":"g2048_GameData"}],g2048_GameData:[function(t,e,o){"use strict";cc._RF.push(e,"97a503NSstKkJsekmuUgcp1","g2048_GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var n=t("../utils/g2048_StorageUtil"),i=function(){function t(){this._info={}}return t.prototype.unserializeData=function(){n.StorageUtil.register()},t.prototype.getDataByKey=function(t,e){var o=this._info[t];return null==o&&(o=n.StorageUtil.getLocalData(t,e)),o},t.prototype.setDataByKey=function(t,e){this._info[t]=e,n.StorageUtil.setLocalData(t,e)},t}();o.GameData=i,cc._RF.pop()},{"../utils/g2048_StorageUtil":"g2048_StorageUtil"}],g2048_GameMain:[function(t,e,o){"use strict";cc._RF.push(e,"df13ad6CdtFhp9uucAXsIC/","g2048_GameMain");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameMain=void 0;var a=t("../UI/g2048_LoadingUI"),c=t("../data/g2048_config2"),s=t("../manager/g2048_GameController"),l=t("../manager/g2048_UIManager"),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=cc.view.getFrameSize();c.config2.isX=t.height/t.width>=2},e.prototype.onEnable=function(){l.UIManager.getInstance().setRoot(this.node),l.UIManager.getInstance().openUI(a.LoadingUI,0,function(){s.GameController.getInstance().initGame()})},e.prototype.update=function(){},e.prototype.lateUpdate=function(){},r([p],e)}(cc.Component));o.GameMain=h,cc._RF.pop()},{"../UI/g2048_LoadingUI":"g2048_LoadingUI","../data/g2048_config2":"g2048_config2","../manager/g2048_GameController":"g2048_GameController","../manager/g2048_UIManager":"g2048_UIManager"}],g2048_GameUtil:[function(t,e,o){"use strict";cc._RF.push(e,"eef77nxSTpLkaLYiD1s+OSw","g2048_GameUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameUtil=void 0;var n=t("../data/g2048_ENUMStatus"),i=t("../data/g2048_config2"),r=function(){function t(){}return t.getStyleByType=function(t){var e;switch(i.config2.type){case n.PATTERN.hot2048:case n.PATTERN.hot4096:e=i.config2.numStyle[t];break;case n.PATTERN.lianai:e=i.config2.loveStyle[t];break;case n.PATTERN.qigai:e=i.config2.beggarStyle[t];break;case n.PATTERN.gongnv:e=i.config2.maidStyle[t];break;case n.PATTERN.combine:e=i.config2.num2Style[t];break;default:e=i.config2.numStyle[t]}return e},t.removeFromParent=function(t){t&&null!=t.parent&&t.parent.removeChild(t)},t.sortNum=function(t,e){return Number(t)-Number(e)},t}();o.GameUtil=r,cc._RF.pop()},{"../data/g2048_ENUMStatus":"g2048_ENUMStatus","../data/g2048_config2":"g2048_config2"}],g2048_GridBg:[function(t,e,o){"use strict";cc._RF.push(e,"b1491zkgHJAAJvRcgaqM2pe","g2048_GridBg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GridBg=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},r([s(cc.Sprite)],e.prototype,"bg",void 0),r([c],e)}(cc.Component);o.GridBg=l,cc._RF.pop()},{}],g2048_GridData:[function(t,e,o){"use strict";cc._RF.push(e,"1cd65Uq5hZM5YaXFng1Dk+T","g2048_GridData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GridData=void 0;var n=t("../../data/g2048_ENUMStatus"),i=t("../../data/g2048_ListenerType"),r=t("../../data/g2048_config2"),a=t("../../manager/g2048_ListenerManager"),c=function(){function t(){this.level=-1,this._item=null}return Object.defineProperty(t.prototype,"disX",{get:function(){return this.i*r.config2.space+(this.i+.5)*r.config2.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"disY",{get:function(){return this.j*r.config2.space+(this.j+.5)*r.config2.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},set:function(t){this._item=t,this._item&&this._item.on(cc.Node.EventType.TOUCH_START,this.onClickGrid,this)},enumerable:!1,configurable:!0}),t.prototype.onClickGrid=function(){(r.config2.type==n.PATTERN.combine||r.config2.useItemType>0)&&a.ListenerManager.getInstance().trigger(i.ListenerType.click_item,this.i,this.j)},t.prototype.clearItem=function(){this.item&&this.item.parent&&this.item.parent.removeChild(this.item),this.level=-1,this.item=null,this.dirNode=null},t}();o.GridData=c,cc._RF.pop()},{"../../data/g2048_ENUMStatus":"g2048_ENUMStatus","../../data/g2048_ListenerType":"g2048_ListenerType","../../data/g2048_config2":"g2048_config2","../../manager/g2048_ListenerManager":"g2048_ListenerManager"}],g2048_Grid:[function(t,e,o){"use strict";cc._RF.push(e,"25081ycRbBLha0Lxz3c/aae","g2048_Grid");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Grid=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.lab_num=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.setData=function(t){this.data=t,this.lab_num.string=t.txt,this.lab_num.fontSize=t.size,this.lab_num.node.color=cc.color(t.txtColor),this.bg.node.color=cc.color(t.bgColor)},r([s(cc.Sprite)],e.prototype,"bg",void 0),r([s(cc.Label)],e.prototype,"lab_num",void 0),r([c],e)}(cc.Component);o.Grid=l,cc._RF.pop()},{}],g2048_GuideUI:[function(t,e,o){"use strict";cc._RF.push(e,"c1b58dm4hpJHbQ57JVCmFsH","g2048_GuideUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GuideUI=void 0;var a=t("../../../miniGamePackage/utils/SubResourceUtils"),c=t("../data/g2048_ENUMStatus"),s=t("../data/g2048_ListenerType"),l=t("../data/g2048_StorageKey"),u=t("../data/g2048_config2"),p=t("../manager/g2048_GameDataManager"),h=t("../manager/g2048_ListenerManager"),f=t("../manager/g2048_UIManager"),d=t("../utils/g2048_UIHelp"),g=t("./g2048_BaseUI"),_=cc._decorator,y=_.ccclass,m=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rectNode=null,e.maskNode=null,e.tipsLab=null,e.mouse=null,e.circle=null,e._step=0,e._startX=0,e._startY=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.gameData=p.GameDataManager.getInstance().getGameData(),h.ListenerManager.getInstance().add(s.ListenerType.GuideStep,this,this.onGuideStepHandler)},e.prototype.start=function(){this.initUI()},e.prototype.initUI=function(){},e.prototype.onGuideStepHandler=function(t){this._step=t,u.config2.type==c.PATTERN.combine?1==t?(this.tipsLab.string="\u70b9\u51fb\u76f8\u8fde\u7684\u6570\u5b571\uff0c\u53ef\u4ee5\u5408\u62102!",this.rectNode.y=-35,this.maskNode.y=-this.rectNode.y,this._startX=this.rectNode.x+61.5+30,this._startY=this.rectNode.y-60-67.5-30,this.mouse.node.x=this._startX,this.mouse.node.y=this._startY,this.circle.node.x=this.rectNode.x,this.circle.node.y=this.rectNode.y-60,this.tweenMouse(),a.SubResourceUtils.getInst().loadAsset("textures/common/circle_yellow",cc.SpriteFrame,this.loadComplete.bind(this))):2==t?(this.tipsLab.string="\u70b9\u51fb\u76f8\u8fde\u7684\u6570\u5b572\uff0c\u53ef\u4ee5\u5408\u62103\uff01",this.rectNode.width=380,this.rectNode.height=120,this.rectNode.y=-100,this.maskNode.y=-this.rectNode.y,this._startX=this.rectNode.x+61.5+30,this._startY=this.rectNode.y-67.5-30,this.mouse.node.x=this._startX,this.mouse.node.y=this._startY,this.circle.node.x=this.rectNode.x,this.circle.node.y=this.rectNode.y,this.tweenMouse(),a.SubResourceUtils.getInst().loadAsset("textures/common/circle_red",cc.SpriteFrame,this.loadComplete.bind(this))):(this.clearMouse(),f.UIManager.getInstance().closeUI(o),d.UIHelp.showTip("\u7b80\u5355\u5427\uff0c\u8d76\u7d27\u8bd5\u8bd5\u80fd\u5408\u6210\u591a\u5927\u6570\u5b57\u5427\uff01"),t++):(this.rectNode.y=-100,this.maskNode.y=-this.rectNode.y,this.rectNode.width=650,this.rectNode.height=650,this.clearMouse(),1==t?(this.tipsLab.string="\u4e0a\u4e0b\u5de6\u53f3\u6ed1\u52a8\u79fb\u52a8\u65b9\u5757!",this.tweenMouse(2)):2==t?this.tipsLab.string="\u5f53\u4e24\u4e2a\u76f8\u540c\u65b9\u5757\u76f8\u9047\u65f6\uff0c\u53ef\u5408\u5e76\u4e3a\u4e0b\u4e00\u7ea7\u65b9\u5757\uff01":(f.UIManager.getInstance().closeUI(o),d.UIHelp.showTip("\u7b80\u5355\u5427\uff0c\u8d76\u7d27\u6311\u6218\u4e00\u4e0b\u5427\uff01"),t++)),u.config2.guideStep=t+1,this.gameData.setDataByKey(l.StorageKey.guideStep+u.config2.type,t)},e.prototype.onClickMask=function(){},e.prototype.loadComplete=function(t,e){this.circle.spriteFrame=e,this.circle.node.scale=.8},e.prototype.tweenMouse=function(t){void 0===t&&(t=1),1==t?(cc.tween(this.mouse.node).repeatForever(cc.tween().to(.5,{x:this._startX-30,y:this._startY+30}).to(.5,{x:this._startX,y:this._startY})).start(),cc.tween(this.circle.node).repeatForever(cc.tween().to(.5,{scale:1}).to(.5,{scale:.8})).start()):(this.mouse.node.x=-90,this.mouse.node.y=0,this.mouse.node.opacity=255,cc.tween(this.mouse.node).repeatForever(cc.tween().to(1,{x:180}).to(1,{x:-90})).start())},e.prototype.clearMouse=function(){cc.Tween.stopAllByTarget(this.mouse.node),cc.Tween.stopAllByTarget(this.circle.node),this.mouse.node.x=0,this.mouse.node.y=0,this.mouse.node.opacity=0,this.circle.node.x=0,this.circle.node.y=0,this.circle.node.opacity=0},e.className="GuideUI",r([m(cc.Node)],e.prototype,"rectNode",void 0),r([m(cc.Node)],e.prototype,"maskNode",void 0),r([m(cc.Label)],e.prototype,"tipsLab",void 0),r([m(cc.Sprite)],e.prototype,"mouse",void 0),r([m(cc.Sprite)],e.prototype,"circle",void 0),o=r([y],e)}(g.BaseUI);o.GuideUI=v,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0,"../data/g2048_ENUMStatus":"g2048_ENUMStatus","../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_StorageKey":"g2048_StorageKey","../data/g2048_config2":"g2048_config2","../manager/g2048_GameDataManager":"g2048_GameDataManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","../utils/g2048_UIHelp":"g2048_UIHelp","./g2048_BaseUI":"g2048_BaseUI"}],g2048_HttpSender:[function(t,e,o){"use strict";cc._RF.push(e,"60a8dEN8wRIn7xX4H/MceOH","g2048_HttpSender"),Object.defineProperty(o,"__esModule",{value:!0}),o.HttpSender=o.HTTP_TIMEOUT=o.HTTP_CODE=o.RequestType=void 0;var n,i,r,a=t("../utils/g2048_UIHelp"),c=t("./g2048_InterfaceIO");(function(t){t[t.POST=1]="POST",t[t.GET=2]="GET",t[t.PUT=3]="PUT",t[t.DELETE=4]="DELETE"})(n=o.RequestType||(o.RequestType={})),function(t){t[t.NET_ERROR=-2]="NET_ERROR",t[t.ERROR=-1]="ERROR",t[t.SUCCEED=200]="SUCCEED",t[t.AUTHOR=5505]="AUTHOR"}(i=o.HTTP_CODE||(o.HTTP_CODE={})),function(t){t[t.Get=3e3]="Get",t[t.Post=5e3]="Post",t[t.Put=5e3]="Put",t[t.Delete=5e3]="Delete"}(r=o.HTTP_TIMEOUT||(o.HTTP_TIMEOUT={}));var s=function(){function t(){}return t.prototype.send=function(t,e,o,s){void 0===o&&(o={});var l=cc.loader.getXMLHttpRequest();l.onreadystatechange=function(){if(4===l.readyState&&l.status>=200&&l.status<300){var t=JSON.parse(l.responseText);t.code==i.SUCCEED||t.code==i.AUTHOR||a.UIHelp.showTip(t.message),s&&s(t)}};var u="?";for(var p in o)"?"!=u&&(u+="&"),u+=p+"="+o[p];if(e.startsWith("http"))h=e+encodeURI(u);else var h=c.InterfaceIO.URL+e+encodeURI(u);switch(t){case n.GET:l.open("GET",h,!0),l.timeout=r.Get;break;case n.POST:l.open("POST",h,!0),l.timeout=r.Post;break;case n.PUT:l.open("PUT",h,!0),l.timeout=r.Put;break;case n.DELETE:l.open("DELETE",h,!0),l.timeout=r.Delete}l.setRequestHeader("Device-Id",c.InterfaceIO.HEAD),l.send()},t}();o.HttpSender=s,cc._RF.pop()},{"../utils/g2048_UIHelp":"g2048_UIHelp","./g2048_InterfaceIO":"g2048_InterfaceIO"}],g2048_InterfaceIO:[function(t,e,o){"use strict";cc._RF.push(e,"e53ccg9UilPVaQpLL1u8aBP","g2048_InterfaceIO"),Object.defineProperty(o,"__esModule",{value:!0}),o.InterfaceIO=void 0,function(t){t.URL="",t.HEAD="123456",t.channelId="1"}(o.InterfaceIO||(o.InterfaceIO={})),cc._RF.pop()},{}],g2048_ListenerManager:[function(t,e,o){"use strict";cc._RF.push(e,"a2e1aYhpQRK8ZjVd9zeIXhu","g2048_ListenerManager");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.ListenerManager=o.Delegate=void 0;var i=function(){function t(t,e,o){void 0===o&&(o=!1),this.mIsOnce=!1,this.mListener=t,this.mArgArray=e,this.mIsOnce=o}return Object.defineProperty(t.prototype,"listener",{get:function(){return this.mListener},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"argArray",{get:function(){return this.mArgArray},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOnce",{get:function(){return this.mIsOnce},set:function(t){this.mIsOnce=t},enumerable:!1,configurable:!0}),t}();o.Delegate=i;var r=function(){function t(){this.mListenerMap=new Map}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.has=function(t,e,o){return null!==this.find(t,e,o)},t.prototype.trigger=function(t){for(var e,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];if(!t)return console.error("Listener type is null!"),!1;var r=[],a=[],c=this.mListenerMap.get(t);c&&(c.forEach(function(t,e){for(var o=0,n=t;o<n.length;o++){var i=n[o];r.push(i),a.push(e)}for(var s=t.length-1;s>=0;--s)t[s].isOnce&&t.splice(s,1);t.length<=0&&c.delete(e)}),c.size<=0&&this.mListenerMap.delete(t));for(var s=r.length,l=0;l<s;l++){var u=r[l];(e=u.listener).call.apply(e,n([a[l]],u.argArray,o))}return s>0},t.prototype.add=function(t,e,o){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.addListener.apply(this,n([t,e,o,!1],i))},t.prototype.addOnce=function(t,e,o){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];this.addListener.apply(this,n([t,e,o,!0],i))},t.prototype.remove=function(t,e,o,n){this.removeBy(function(i,r,a){return!(t&&t!==i||e&&e!==r||o&&o!==a.listener||n&&!a.isOnce)})},t.prototype.removeAll=function(t){var e=this;this.mListenerMap.forEach(function(o,n){o.delete(t),o.size<=0&&e.mListenerMap.delete(n)})},t.prototype.addListener=function(t,e,o,n){for(var r=[],a=4;a<arguments.length;a++)r[a-4]=arguments[a];var c=this.find(t,e,o);if(c)c.isOnce=n,console.error("Listener is already exist!");else{var s=new i(o,r,n);this.mListenerMap.get(t).get(e).push(s)}},t.prototype.removeBy=function(t){var e=this;t&&this.mListenerMap.forEach(function(o,n){o.forEach(function(e,i){for(var r=e.length-1;r>=0;--r){var a=e[r];t(n,i,a)&&e.splice(r,1)}e.length<=0&&o.delete(i)}),o.size<=0&&e.mListenerMap.delete(n)})},t.prototype.find=function(t,e,o){if(!t)return console.error("Listener type is null!"),null;if(!e)return console.error("Caller type is null!"),null;if(!o)return console.error("Listener is null!"),null;var n,i;this.mListenerMap.has(t)?n=this.mListenerMap.get(t):(n=new Map,this.mListenerMap.set(t,n)),n.has(e)?i=n.get(e):(i=[],n.set(e,i));for(var r=0,a=i;r<a.length;r++){var c=a[r];if(c.mListener===o)return c}return null},t}();o.ListenerManager=r,cc._RF.pop()},{}],g2048_ListenerType:[function(t,e,o){"use strict";cc._RF.push(e,"8ea11Tcb4BI7ojchoTKxYZm","g2048_ListenerType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ListenerType=void 0;var n=function(){function t(){}return t.changePattern="changePattern",t.prompt="prompt",t.prop="prop",t.click_item="click_item",t.GuideStep="GuideStep",t.loading="loading",t.updatebook="updatebook",t.openTouch="openTouch",t.updateScore="updateScore",t.updateHp="updateHp",t.blockAddOne="blockAddOne",t.reStart="reStart",t}();o.ListenerType=n,cc._RF.pop()},{}],g2048_Loading2UI:[function(t,e,o){"use strict";cc._RF.push(e,"73d5eVqlXdCTpfCk29MbbhQ","g2048_Loading2UI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Loading2UI=void 0;var a=t("../data/g2048_ListenerType"),c=t("../manager/g2048_ListenerManager"),s=t("./g2048_BaseUI"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressHp=null,e}return i(e,t),e.prototype.onLoad=function(){this.progressHp.progress=0,c.ListenerManager.getInstance().add(a.ListenerType.loading,this,this.onProgress)},e.prototype.start=function(){},e.prototype.onProgress=function(t){this.progressHp.progress=t},e.className="Loading2UI",r([p(cc.ProgressBar)],e.prototype,"progressHp",void 0),r([u],e)}(s.BaseUI);o.Loading2UI=h,cc._RF.pop()},{"../data/g2048_ListenerType":"g2048_ListenerType","../manager/g2048_ListenerManager":"g2048_ListenerManager","./g2048_BaseUI":"g2048_BaseUI"}],g2048_LoadingUI:[function(t,e,o){"use strict";cc._RF.push(e,"d20c8hpDaNOcIyfIIwaMSrn","g2048_LoadingUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LoadingUI=void 0;var a=t("../manager/g2048_UIManager"),c=t("./g2048_BaseUI"),s=t("./g2048_StartUI"),l=cc._decorator,u=l.ccclass,p=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressHp=null,e.btn_refresh=null,e.loadover=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){},e.prototype.start=function(){this.onGameStart()},e.prototype.onGameStart=function(){var t=this;this.loadover=!1,this.btn_refresh.active=!1,this.progressHp.progress=0,this.scheduleOnce(function(){0==this.loadover&&(this.btn_refresh.active=!0)},6),a.UIManager.getInstance().openUI(s.StartUI,0,function(){a.UIManager.getInstance().closeUI(o),t.loadover=!0},this.onProgress.bind(this))},e.prototype.onProgress=function(t,e){this.progressHp.progress=t/e},e.className="LoadingUI",r([p(cc.ProgressBar)],e.prototype,"progressHp",void 0),r([p(cc.Node)],e.prototype,"btn_refresh",void 0),o=r([u],e)}(c.BaseUI);o.LoadingUI=h,cc._RF.pop()},{"../manager/g2048_UIManager":"g2048_UIManager","./g2048_BaseUI":"g2048_BaseUI","./g2048_StartUI":"g2048_StartUI"}],g2048_LogWrap:[function(t,e,o){"use strict";cc._RF.push(e,"bf9dcR9DGZOVpYv+Nm0Lmnn","g2048_LogWrap"),Object.defineProperty(o,"__esModule",{value:!0}),o.LogWrap=void 0;var n=function(){function t(){}return t.getDateString=function(){var t=new Date,e=t.getHours().toString(),o="";return o+=(1==e.length?"0"+e:e)+":",o+=(1==(e=t.getMinutes().toString()).length?"0"+e:e)+":",o+=(1==(e=t.getSeconds().toString()).length?"0"+e:e)+":",1==(e=t.getMilliseconds().toString()).length&&(e="00"+e),2==e.length&&(e="0"+e),"["+(o+=e)+"]"},t.stack=function(t){var e=(new Error).stack.split("\n");e.shift();var o=[];e.forEach(function(t){var e,n=(t=t.substring(7)).split(" ");n.length<2?o.push(n[0]):o.push(((e={})[n[0]]=n[1],e))});var n=[];if(t<o.length-1)for(var i in o[t])n.push(i);var r=n[0].split(".");return r[0]+".js->"+r[1]+": "},t.log=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=console.log||cc.log;n.call(this,"%s%s:"+cc.js.formatStr.apply(cc,arguments),t.stack(2),t.getDateString())},t.info=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=console.log||cc.log;n.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#00CD00;",t.stack(2),t.getDateString())},t.warn=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=console.log||cc.log;n.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:#ee7700;",t.stack(2),t.getDateString())},t.err=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var n=console.log||cc.log;n.call(this,"%c%s%s:"+cc.js.formatStr.apply(cc,arguments),"color:red",t.stack(2),t.getDateString())},t}();o.LogWrap=n,cc._RF.pop()},{}],g2048_MainUI:[function(t,e,o){"use strict";cc._RF.push(e,"a00a0+WtkJINp48Pbb/xx+R","g2048_MainUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MainUI=void 0;var a=t("../../../miniGamePackage/utils/SubResourceUtils"),c=t("../data/g2048_ENUMStatus"),s=t("../data/g2048_ListenerType"),l=t("../data/g2048_StorageKey"),u=t("../data/g2048_config2"),p=t("../manager/g2048_AudioManager"),h=t("../manager/g2048_GameDataManager"),f=t("../manager/g2048_ListenerManager"),d=t("../manager/g2048_UIManager"),g=t("../utils/g2048_GameUtil"),_=t("./g2048_BaseUI"),y=t("./g2048_GuideUI"),m=t("./g2048_PromptUI"),v=t("./g2048_PropUI"),b=t("./g2048_StartUI"),M=t("./objects/g2048_Grid"),S=t("./objects/g2048_GridData"),O=cc._decorator,P=O.ccclass,C=O.property,L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lab_type=null,e.lab_score=null,e.lab_best=null,e.sound=null,e.gridBg=null,e.gridBgContainer=null,e.gridContainer=null,e.gridNode=null,e.gridBgNode=null,e.useItemNode=null,e.itemTipsLab=null,e.hammerSprite=null,e.replace=null,e.tipsNode=null,e._gridList=[],e.running=0,e._grade=0,e._bestGrade=0,e.isInCom=!1,e.isInAdd=!1,e.comlist=[],e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.gameData=h.GameDataManager.getInstance().getGameData(),u.config2.isSound=this.gameData.getDataByKey(l.StorageKey.SOUND,!0),f.ListenerManager.getInstance().add(s.ListenerType.changePattern,this,this.onPlayGame),f.ListenerManager.getInstance().add(s.ListenerType.click_item,this,this.onClickItem),this.gridContainer.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this)},e.prototype.start=function(){u.config2.useItemType=0,this.updateSound()},e.prototype.onClose=function(){d.UIManager.getInstance().closeUI(o)},e.prototype.onPlayGame=function(t){u.config2.type=t,u.config2.type==c.PATTERN.hot4096||u.config2.type==c.PATTERN.combine?(u.config2.gridNum=5,u.config2.size=120):(u.config2.gridNum=4,u.config2.size=150);var e=this.gameData.getDataByKey(l.StorageKey.guideStep+u.config2.type,1);u.config2.guideStep=e&&e>0?e:1,this._grade=this.gameData.getDataByKey(l.StorageKey.grade+u.config2.type,0),this._bestGrade=this.gameData.getDataByKey(l.StorageKey.bestGrade+u.config2.type,0);var o=this.gameData.getDataByKey(l.StorageKey.listLv+u.config2.type,"");this.initUI(),this.updateScore(),u.config2.type==c.PATTERN.combine?(""==o&&(o=u.config2.GRIDNUM),this.combineAddGrid(o,!0)):(this.newGrids(o),this.checkGuide())},e.prototype.updateScore=function(){var t=g.GameUtil.getStyleByType(this._grade),e=g.GameUtil.getStyleByType(this._bestGrade);this.lab_score.string=t.txt,this.lab_best.string=e.txt},e.prototype.initUI=function(){this.gridBgContainer.removeAllChildren();for(var t=0;t<u.config2.gridNum;t++){this._gridList[t]=[];for(var e=0;e<u.config2.gridNum;e++){var o=cc.instantiate(this.gridBgNode);o.x=t*u.config2.space+(t+.5)*u.config2.size,o.y=e*u.config2.space+(e+.5)*u.config2.size,o.scale=u.config2.size/u.config2.maxSize,this.gridBgContainer.addChild(o);var n=new S.GridData;n.i=t,n.j=e,n.level=-1,n.item=null,this._gridList[t][e]=n}}var i=(u.config2.size+u.config2.space)*u.config2.gridNum-u.config2.space;this.gridBgContainer.width=i,this.gridBgContainer.height=i,this.gridBgContainer.x=-i/2,this.gridBgContainer.y=-i/2,this.gridContainer.width=i,this.gridContainer.height=i,this.gridContainer.x=-i/2,this.gridContainer.y=-i/2,this.gridBg.width=i+20,this.gridBg.height=i+20},e.prototype.newGrids=function(t){void 0===t&&(t="");var e=t.split("|");this.gridContainer.removeAllChildren();for(var o=0;o<u.config2.gridNum;o++)for(var n=0;n<u.config2.gridNum;n++){var i=this._gridList[o][n],r=e[o*u.config2.gridNum+n];i.level=r?Number(r):-1,i.level>=0?i.item=this.createGrid(i.level,i.disX,i.disY):i.item=null}""==t&&this.addNewGrids(2)},e.prototype.combineAddGrid=function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),this.isInAdd=!0;for(var o=0,n=t.split("|"),i=0;i<u.config2.gridNum;i++){o=e?.2*i:0;for(var r=0;r<u.config2.gridNum;r++){var a=this._gridList[i][r];if(null==a.item){o+=.1;var c=n[i*u.config2.gridNum+r],s=this._grade>3?this._grade:3;a.level=c?Number(c):Math.floor(Math.random()*s),a.item=this.createGrid(a.level,a.disX,a.disY,o)}}}this.scheduleOnce(function(){this.isInCom=!1,this.isInAdd=!1,this.isOver(),this.checkGuide()},o+.5)},e.prototype.checkGuide=function(){u.config2.guideStep<=3&&(d.UIManager.getInstance().getUI(y.GuideUI)?f.ListenerManager.getInstance().trigger(s.ListenerType.GuideStep,u.config2.guideStep):d.UIManager.getInstance().openUI(y.GuideUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.GuideStep,u.config2.guideStep)}))},e.prototype.addNewGrids=function(t){for(var e=0;e<t;e++){var o=this.selectCell();if(!o)return;var n=Math.random()<.9?0:1;this._gridList[o.i][o.j].item=this.createGrid(n,o.disX,o.disY),this._gridList[o.i][o.j].level=n}this.isOver()},e.prototype.createGrid=function(t,e,o,n){void 0===n&&(n=0);var i=cc.instantiate(this.gridNode),r=i.getComponent(M.Grid),a=g.GameUtil.getStyleByType(t);return r.setData(a),i.x=e,i.y=o,i.scale=u.config2.size/u.config2.maxSize,this.gridContainer.addChild(i),u.config2.type==c.PATTERN.combine&&(i.y=1500,cc.tween(i).delay(n).to(.1,{y:o}).start()),i},e.prototype.selectCell=function(){var t=this.usefulCell();if(t.length)return t[Math.floor(Math.random()*t.length)]},e.prototype.usefulCell=function(){for(var t=[],e=0;e<u.config2.gridNum;e++)for(var o=0;o<u.config2.gridNum;o++)this._gridList[e][o]&&-1==this._gridList[e][o].level&&t.push(this._gridList[e][o]);return t},e.prototype.onTouchStart=function(t){this._startPoint=t.getLocation(),this.gridContainer.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchMove=function(t){this._endPoint=t.getLocation();var e=this._endPoint.x-this._startPoint.x,o=this._endPoint.y-this._startPoint.y;if(!(Math.abs(e-o)<=40)){var n=Math.abs(e)>Math.abs(o)?e>0?1:3:o>0?0:2;this.doMove(n),this.gridContainer.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)}},e.prototype.doMove=function(t){if(!(u.config2.type==c.PATTERN.combine||this.isOver()||u.config2.useItemType>0)){this.checkGuide();for(var e,o=this.formList(t),n=0;n<o.length;n++)for(var i=0;i<o[n].length;i++){e=-1;for(var r=i+1;r<o[n].length;r++)if(-1!=o[n][r].level){e=r;break}if(-1!==e){var a=o[n][i],s=o[n][e],l=60*Math.abs(i-e)/1e3;if(-1==a.level)this.running+=1,a.level=s.level,a.item=s.item,s.level=-1,s.item=null,i--,cc.tween(a.item).to(l,{x:a.disX,y:a.disY}).call(this.moveTweenComplete.bind(this)).start();else if(a.level==s.level){this.running+=1;var p=s.level+1;a.level=p;var h=s.item,f=a.item;s.level=-1,s.item=null;var d=h.scale;cc.tween(h).to(l,{x:a.disX,y:a.disY}).to(.05,{scale:d+.2}).to(.05,{scale:d-.2}).to(.05,{scale:d}).call(this.comTweenComplete.bind(this,p,f,h)).start()}}}}},e.prototype.moveTweenComplete=function(){this.running-=1,this.running<=0&&(this.addNewGrids(1),this.saveGridData())},e.prototype.comTweenComplete=function(t,e,o){var n=g.GameUtil.getStyleByType(t);if(e.getComponent(M.Grid).setData(n),g.GameUtil.removeFromParent(o),this.running-=1,t>=this._grade&&(this._grade=t,this.lab_score.string=n.txt,this.gameData.setDataByKey(l.StorageKey.grade+u.config2.type,this._grade)),t>this._bestGrade&&(this._bestGrade=t,this.lab_best.string=n.txt,this.gameData.setDataByKey(l.StorageKey.bestGrade+u.config2.type,this._bestGrade)),this.running<=0){this.addNewGrids(1),this.saveGridData();var i="combo"+Math.ceil(7*Math.random());p.AudioManager.getInstance().playSound(i)}},e.prototype.saveGridData=function(){for(var t="",e=0;e<u.config2.gridNum;e++)for(var o=0;o<u.config2.gridNum;o++){var n=this._gridList[e][o];e+o>0&&(t+="|"),t+=n?n.level:-1}var i=this.gameData.getDataByKey(l.StorageKey.listLv+u.config2.type,"");this.gameData.setDataByKey(l.StorageKey.befListLv+u.config2.type,i),this.gameData.setDataByKey(l.StorageKey.listLv+u.config2.type,t)},e.prototype.formList=function(t){for(var e=[],o=0;o<u.config2.gridNum;o++){e[o]=[];for(var n=0;n<u.config2.gridNum;n++)switch(t){case 0:e[o].push(this._gridList[o][u.config2.gridNum-1-n]);break;case 1:e[o].push(this._gridList[u.config2.gridNum-1-n][o]);break;case 2:e[o].push(this._gridList[o][n]);break;case 3:e[o].push(this._gridList[n][o])}}return e},e.prototype.onRestart=function(){var t=this;this.isInCom||this.isInAdd||(d.UIManager.getInstance().openUI(m.PromptUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.prompt,t.restartOk.bind(t),null,"\u786e\u5b9a\u8981\u91cd\u65b0\u5f00\u59cb\u5417\uff1f")}),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU))},e.prototype.restartOk=function(){this._grade=0,this.gameData.setDataByKey(l.StorageKey.grade+u.config2.type,this._grade),this.gameData.setDataByKey(l.StorageKey.befListLv+u.config2.type,""),this.gameData.setDataByKey(l.StorageKey.listLv+u.config2.type,""),this.updateScore(),u.config2.type==c.PATTERN.combine?(this.resetGrids(),this.combineAddGrid()):this.newGrids()},e.prototype.onReturn=function(){this.onClose(),d.UIManager.getInstance().showUI(b.StartUI),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU)},e.prototype.onChongPai=function(){var t=this;d.UIManager.getInstance().openUI(v.PropUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.prop,t.chongPaiVDBack.bind(t),1)}),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU)},e.prototype.chongPaiVDBack=function(){var t=this.gameData.getDataByKey(l.StorageKey.listLv+u.config2.type,""),e=t.split("|");e.sort(g.GameUtil.sortNum);for(var o="",n=0;n<e.length;n++)""!=o&&(o+="|"),o+=e[n];this.gameData.setDataByKey(l.StorageKey.befListLv+u.config2.type,t),this.gameData.setDataByKey(l.StorageKey.listLv+u.config2.type,o),u.config2.type==c.PATTERN.combine?(this.resetGrids(),this.combineAddGrid(o)):this.newGrids(o)},e.prototype.onBack=function(){var t=this;d.UIManager.getInstance().openUI(v.PropUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.prop,function(){var e=t.gameData.getDataByKey(l.StorageKey.befListLv+u.config2.type,"");t.gameData.setDataByKey(l.StorageKey.listLv+u.config2.type,e),u.config2.type==c.PATTERN.combine?(t.resetGrids(),t.combineAddGrid(e)):t.newGrids(e)},2)}),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU)},e.prototype.onChange=function(){var t=this;d.UIManager.getInstance().openUI(v.PropUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.prop,function(){u.config2.useItemType=3,t.useItemNode.active=!0,t.itemTipsLab.string="\u8bf7\u9009\u62e9\u8981\u66ff\u6362\u7684\u65b9\u5757"},3)}),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU)},e.prototype.onHammer=function(){var t=this;d.UIManager.getInstance().openUI(v.PropUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.prop,function(){u.config2.useItemType=4,t.useItemNode.active=!0,t.itemTipsLab.string="\u8bf7\u9009\u62e9\u8981\u6572\u788e\u7684\u65b9\u5757"},4)}),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU)},e.prototype.onClickItem=function(t,e){var o=this;if(!this.isInCom&&!this.isInAdd){var n=this._gridList[t][e];if(0==u.config2.useItemType){if(u.config2.type==c.PATTERN.combine){this.comlist.length=0,this.comlist[0]=[n];var i=!1;do{i=this.checkComGrid()}while(i);this.tweenVanish()}}else if(3==u.config2.useItemType){this.tipsNode.active=!1,this.replace.removeAllChildren();for(var r=0,a=0;a<6;a++)if(n.level!=a){var s=cc.instantiate(this.gridNode),l=s.getComponent(M.Grid),p=g.GameUtil.getStyleByType(a);l.setData(p),s.x=r,s.y=0,s.scale=.6,this.replace.addChild(s),r+=100,s.on(cc.Node.EventType.TOUCH_START,this.onClickChangeGrid.bind(this,a,n),this)}this.replace.x=-r/2+50}else 4==u.config2.useItemType&&(this.hammerSprite.node.x=this.gridContainer.x+n.disX+75,this.hammerSprite.node.y=this.gridContainer.y+n.disY-120,this.hammerSprite.node.active=!0,this.hammerSprite.node.angle=-15,cc.tween(this.hammerSprite.node).to(.2,{angle:15}).delay(.1).call(function(){u.config2.useItemType=0,o.useItemNode.active=!1,o.hammerSprite.node.active=!1,g.GameUtil.removeFromParent(n.item),n.item=null,n.level=-1,u.config2.type==c.PATTERN.combine&&o.combineAddGrid(),o.saveGridData()}).start())}},e.prototype.tweenVanish=function(){if(this.comlist.length<=1)return this.comlist.length=0,void this.isOver();this.isInCom=!0;for(var t=0,e=this.comlist.length-1;e>=0;e--){var o=this.comlist[e];t=.05*(this.comlist.length-1-e);for(var n=function(){var n=o[r];0==e&&n&&i.scheduleOnce(i.combineUp.bind(i,n),t+.1),n.dirNode&&n.item&&cc.tween(n.item).delay(t).to(.05,{x:n.dirNode.disX,y:n.dirNode.disY}).call(function(){n.clearItem()}).start()},i=this,r=0;r<o.length;r++)n()}},e.prototype.combineUp=function(t){var e=t.level+1;t.level=e;var o=g.GameUtil.getStyleByType(e);t.item.getComponent(M.Grid).setData(o),e>=this._grade&&(this._grade=e,this.lab_score.string=o.txt,this.gameData.setDataByKey(l.StorageKey.grade+u.config2.type,this._grade)),e>this._bestGrade&&(this._bestGrade=e,this.lab_best.string=o.txt,this.gameData.setDataByKey(l.StorageKey.bestGrade+u.config2.type,this._bestGrade)),this.combineAddGrid(),this.saveGridData();var n="combo"+Math.ceil(7*Math.random());p.AudioManager.getInstance().playSound(n)},e.prototype.checkComGrid=function(){for(var t=[],e=!1,o=this.comlist.length,n=this.comlist[o-1],i=0;i<n.length;i++){var r,a=n[i];a.i>0&&(r=this._gridList[a.i-1][a.j]).level==a.level&&0==this.checkEqualPos(r,t)&&(t.push(r),r.dirNode=a,e=!0),a.i<u.config2.gridNum-1&&(r=this._gridList[a.i+1][a.j]).level==a.level&&0==this.checkEqualPos(r,t)&&(t.push(r),r.dirNode=a,e=!0),a.j>0&&(r=this._gridList[a.i][a.j-1]).level==a.level&&0==this.checkEqualPos(r,t)&&(t.push(r),r.dirNode=a,e=!0),a.j<u.config2.gridNum-1&&(r=this._gridList[a.i][a.j+1]).level==a.level&&0==this.checkEqualPos(r,t)&&(t.push(r),r.dirNode=a,e=!0)}return t.length>0&&(this.comlist[o]=t),e},e.prototype.checkEqualPos=function(t,e){for(var o=0;o<this.comlist.length;o++)for(var n=this.comlist[o],i=0;i<n.length;i++){var r=n[i];if(t.i==r.i&&t.j==r.j)return!0}for(o=0;o<e.length;o++){var a=e[o];if(t.i==a.i&&t.j==a.j)return!0}return!1},e.prototype.onClickChangeGrid=function(t,e){u.config2.useItemType=0,this.tipsNode.active=!0,this.useItemNode.active=!1,this.replace.removeAllChildren();var o=g.GameUtil.getStyleByType(t);e.level=t,e.item.getComponent(M.Grid).setData(o),this.saveGridData()},e.prototype.onSoundSwitch=function(){u.config2.isSound=!u.config2.isSound,this.gameData.setDataByKey(l.StorageKey.SOUND,u.config2.isSound),this.updateSound(),p.AudioManager.getInstance().switchAudio(),p.AudioManager.getInstance().playSound(l.StorageKey.ANNIU)},e.prototype.updateSound=function(){var t=u.config2.isSound?"sound_1":"sound_2";a.SubResourceUtils.getInst().loadAsset("textures/main/"+t,cc.SpriteFrame,this.loadComplete.bind(this))},e.prototype.loadComplete=function(t,e){this.sound.spriteFrame=e},e.prototype.isOver=function(){var t=this;if(this.usefulCell().length>0)return!1;for(var e=0;e<u.config2.gridNum;e++)for(var o=1;o<u.config2.gridNum;o++)if(this._gridList[e][o].level==this._gridList[e][o-1].level)return!1;for(o=0;o<u.config2.gridNum;o++)for(e=1;e<u.config2.gridNum;e++)if(this._gridList[e][o].level==this._gridList[e-1][o].level)return!1;return d.UIManager.getInstance().openUI(m.PromptUI,10,function(){f.ListenerManager.getInstance().trigger(s.ListenerType.prompt,t.restartOk.bind(t),null,"\u6e38\u620f\u7ed3\u675f,\u672c\u8f6e\u6210\u7ee9"+t.lab_score.string+"\uff0c\u662f\u5426\u518d\u6b21\u6311\u6218\uff1f")}),!0},e.prototype.resetGrids=function(){for(var t=0;t<u.config2.gridNum;t++)for(var e=0;e<u.config2.gridNum;e++)this._gridList[t][e].clearItem()},e.className="MainUI",r([C(cc.Label)],e.prototype,"lab_type",void 0),r([C(cc.Label)],e.prototype,"lab_score",void 0),r([C(cc.Label)],e.prototype,"lab_best",void 0),r([C(cc.Sprite)],e.prototype,"sound",void 0),r([C(cc.Node)],e.prototype,"gridBg",void 0),r([C(cc.Node)],e.prototype,"gridBgContainer",void 0),r([C(cc.Node)],e.prototype,"gridContainer",void 0),r([C(cc.Prefab)],e.prototype,"gridNode",void 0),r([C(cc.Prefab)],e.prototype,"gridBgNode",void 0),r([C(cc.Node)],e.prototype,"useItemNode",void 0),r([C(cc.Label)],e.prototype,"itemTipsLab",void 0),r([C(cc.Sprite)],e.prototype,"hammerSprite",void 0),r([C(cc.Node)],e.prototype,"replace",void 0),r([C(cc.Node)],e.prototype,"tipsNode",void 0),o=r([P],e)}(_.BaseUI);o.MainUI=L,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0,"../data/g2048_ENUMStatus":"g2048_ENUMStatus","../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_StorageKey":"g2048_StorageKey","../data/g2048_config2":"g2048_config2","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_GameDataManager":"g2048_GameDataManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","../utils/g2048_GameUtil":"g2048_GameUtil","./g2048_BaseUI":"g2048_BaseUI","./g2048_GuideUI":"g2048_GuideUI","./g2048_PromptUI":"g2048_PromptUI","./g2048_PropUI":"g2048_PropUI","./g2048_StartUI":"g2048_StartUI","./objects/g2048_Grid":"g2048_Grid","./objects/g2048_GridData":"g2048_GridData"}],g2048_MathExtension:[function(t,e){"use strict";cc._RF.push(e,"172aeRVd4xEg7cfrpSl20RB","g2048_MathExtension"),Math.randomRangeInt=function(t,e){var o=Math.random();return 1===o&&(o-=Number.EPSILON),t+Math.floor(o*(e-t))},Math.randomRangeFloat=function(t,e){return t+Math.random()*(e-t)},Math.fmod=function(t,e){return t-Math.floor(t/e)*e},cc._RF.pop()},{}],g2048_MenuUI:[function(t,e,o){"use strict";cc._RF.push(e,"0d7cbyrdHhL1LufVkFkgOt6","g2048_MenuUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MenuUI=void 0;var a=t("../data/g2048_ENUMStatus"),c=t("../data/g2048_ListenerType"),s=t("../data/g2048_StorageKey"),l=t("../manager/g2048_AudioManager"),u=t("../manager/g2048_ListenerManager"),p=t("../manager/g2048_UIManager"),h=t("./g2048_BaseUI"),f=t("./g2048_MainUI"),d=t("./g2048_StartUI"),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onClick2048=function(){this.onClickClose(),this.changePattern(a.PATTERN.hot2048)},e.prototype.onClick4096=function(){this.onClickClose(),this.changePattern(a.PATTERN.hot4096)},e.prototype.onClickLianAi=function(){this.onClickClose(),this.changePattern(a.PATTERN.lianai)},e.prototype.onClickQiGai=function(){this.onClickClose(),this.changePattern(a.PATTERN.qigai)},e.prototype.onClickGongNv=function(){this.onClickClose(),this.changePattern(a.PATTERN.gongnv)},e.prototype.onClickClose=function(){p.UIManager.getInstance().closeUI(o),l.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.prototype.changePattern=function(t){p.UIManager.getInstance().closeUI(d.StartUI),p.UIManager.getInstance().openUI(f.MainUI,0,function(){u.ListenerManager.getInstance().trigger(c.ListenerType.changePattern,t)})},e.className="MenuUI",o=r([_],e)}(h.BaseUI));o.MenuUI=y,cc._RF.pop()},{"../data/g2048_ENUMStatus":"g2048_ENUMStatus","../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_StorageKey":"g2048_StorageKey","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","./g2048_BaseUI":"g2048_BaseUI","./g2048_MainUI":"g2048_MainUI","./g2048_StartUI":"g2048_StartUI"}],g2048_PlatformManager:[function(t,e,o){"use strict";cc._RF.push(e,"e6f204nRF9CzpZaeyHW8+FI","g2048_PlatformManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlatformManager=void 0;var n=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.login=function(){return new Promise(function(t){wx.login({success:function(e){t(e)},fail:function(){},complete:function(){}})})},t.prototype.getUserInfo=function(){var t=wx.getSystemInfoSync(),e=t.screenWidth,o=t.screenHeight;return new Promise(function(n){wx.getSetting({success:function(i){if(i.authSetting["scope.userInfo"])console.log("\u5df2\u7ecf\u6388\u6743"),wx.getUserInfo({success:function(t){n({userInfo:t.userInfo,first:!1})}});else{var r=t.SDKVersion,a=e/720,c=o/1280;if(r>="2.0.1"){var s=wx.createUserInfoButton({type:"image",image:"resource/assets/element/startBtn.png",style:{left:235*a,top:607.5*c,width:250*a,height:65*c,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}});s.onTap(function(t){t.userInfo?(console.log("\u7528\u6237\u6388\u6743:",t),s.hide(),s.destroy(),n({userInfo:t.userInfo,first:!0})):(console.log("\u62d2\u7edd\u6388\u6743"),wx.showModal({title:"\u53cb\u60c5\u63d0\u9192",content:"\u8bf7\u5141\u8bb8\u5fae\u4fe1\u83b7\u5f97\u6388\u6743!",confirmText:"\u6388\u6743",showCancel:!1,success:function(){s.hide(),s.destroy(),n(null)}}))})}else wx.getUserInfo({withCredentials:!0,success:function(t){n({userInfo:t.userInfo,first:!0})},fail:function(){wx.showModal({title:"\u53cb\u60c5\u63d0\u9192",content:"\u8bf7\u5141\u8bb8\u5fae\u4fe1\u83b7\u5f97\u6388\u6743!",confirmText:"\u6388\u6743",showCancel:!1,success:function(){n(null)}})}})}}})})},t.prototype.sendShareData=function(t){wx.getOpenDataContext().postMessage(t)},t.prototype.showShareMenu=function(){wx.showShareMenu({withShareTicket:!0,success:function(){},fail:function(){},complete:function(){}})},t.prototype.onShareAppMessage=function(){wx.onShareAppMessage(function(){return{title:"[\u6709\u4eba@\u4f60]\u636e\u8bf4\uff0c\u8fd9\u4e2a\u6e38\u620f\u80fd\u73a9\u4e0b\u53bb\u7684\u4eba\u667a\u5546\u90fd\u9ad8\u4e8e120\uff01",imageUrl:"share/share.jpg",success:function(t){console.log("\u8f6c\u53d1\u6210\u529f",t)},fail:function(t){console.log("\u8f6c\u53d1\u5931\u8d25",t)}}})},t.prototype.loadSubpackage=function(t){return new Promise(function(e){wx.loadSubpackage?console.log("\u65b0\u7248\u672c\u652f\u6301\u5206\u5305"):console.log("\u8001\u7248\u672c\u4e0d\u652f\u6301\u5206\u5305"),wx.loadSubpackage({name:t,success:function(){console.log(t+"\u5206\u5305\u52a0\u8f7d\u6210\u529f"),e(!0)},fail:function(){console.log(t+"\u5206\u5305\u52a0\u8f7d\u5931\u8d25"),e(!1)}}).onProgressUpdate(function(){})})},t.prototype.shareAppMessage=function(t,e,o){return new Promise(function(n){wx.shareAppMessage({title:t,imageUrl:e,query:o,success:function(){console.log("\u5206\u4eab\u6210\u529f"),n(!0)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25"),console.log(t),n(!1)}}),n(!0)})},t.prototype.onShow=function(t){wx.onShow(t)},t.prototype.offShow=function(t){wx.offShow(t)},t.prototype.updateShareMenu=function(t){return new Promise(function(){wx.updateShareMenu({withShareTicket:t,success:function(){},fail:function(){},complete:function(){}})})},t.prototype.shareApp=function(t,e,o){return this.updateShareMenu(!0).then(function(n){if(n)return new Promise(function(n){wx.shareAppMessage({title:t,imageUrl:e,query:o,success:function(t){n(t)},fail:function(t){console.log(t),n(!1)}})})})},t.prototype.createVideoAd=function(){return new Promise(function(t){var e=wx.createRewardedVideoAd({adUnitId:"adunit-e1913c7d3ccde4cb"});e.load().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t(e)}),e.onError(function(e){console.log("\u89c6\u9891\u62c9\u53d6\u5f02\u5e38"+e),t(null)})})},t.prototype.createBannerAd=function(){return new Promise(function(t){var e=wx.getSystemInfoSync(),o=.85*e.screenWidth,n=e.screenHeight/e.screenWidth>2?50:0;window.bannerAd=wx.createBannerAd({adUnitId:"adunit-93247adb3180f34b",style:{left:(e.screenWidth-o)/2,top:e.screenHeight-200+.1-n,width:o}}),window.bannerAd.onLoad(function(){console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),window.bannerAd.onError(function(t){console.log("banner\u5e7f\u544a\u62c9\u53d6\u5931\u8d25"+t)}),window.bannerAd.show().then(function(){return console.log("banner \u5e7f\u544a\u663e\u793a")}),window.bannerAd.onResize(function(){window.bannerAd.style.top=e.windowHeight-window.bannerAd.style.realHeight+.1-n}),t(1)})},t.prototype.createInterstitialAd=function(){return new Promise(function(t){var e=wx.createInterstitialAd({adUnitId:"adunit-e394fcb2008f7ca9"});e.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t(e)}),e.onError(function(e){console.log(e),t(null)}),e.show().catch(function(t){console.error(t)})})},t.prototype.createGridAd=function(){return new Promise(function(t){var e=wx.getSystemInfoSync(),o=.8*e.screenWidth,n=e.screenHeight/e.screenWidth>2?50:0,i=wx.createGridAd({adUnitId:"adunit-a5e6aba5865b5c4d",adTheme:"white",adIntervals:30,gridCount:5,style:{left:(e.screenWidth-o)/2,top:e.screenHeight-200-n,width:o,opacity:.8}});window.gridAd=i,i.onError(function(e){console.log("Grid \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",e),t(!1)}),i.onLoad(function(){console.log("Grid \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t(!0)}),i.show().then(function(){return console.log("Grid \u5e7f\u544a\u663e\u793a")}),i.onResize(function(){i.style.top=e.windowHeight-i.style.realHeight-n})})},t.prototype.showGridAd=function(){return new Promise(function(t){null!=window.gridAd&&window.gridAd.show().then(function(){return console.log("Grid \u5e7f\u544a\u663e\u793a")}),t(1)})},t.prototype.hideGridAd=function(){return new Promise(function(t){null!=window.gridAd&&window.gridAd.hide(),t(1)})},t.prototype.distoryGridAd=function(){return new Promise(function(t){null!=window.gridAd&&window.gridAd.destroy(),t(1)})},t.prototype.hideBannerAd=function(){return new Promise(function(t){null!=window.bannerAd&&window.bannerAd.hide(),t(1)})},t.prototype.showBannerAd=function(){return new Promise(function(t){null!=window.bannerAd&&window.bannerAd.show(),t(1)})},t.prototype.destroyBannerAd=function(){return new Promise(function(t){null!=window.bannerAd&&window.bannerAd.destroy(),t(1)})},t.prototype.navigateToMiniProgram=function(t){return new Promise(function(){wx.navigateToMiniProgram({appId:t,path:"",extraData:{},envVersion:"release",success:function(){console.log("\u8df3\u8f6c\u6210\u529f\u4e86\u3002\u3002\u3002")},fail:function(){},complete:function(){}})})},t.prototype.setUserCloudStorage=function(t){return new Promise(function(e){wx.setUserCloudStorage({KVDataList:t,success:function(t){console.log("success",t),e(t)},fail:function(t){console.log("fail",t)}})})},t.prototype.getLaunchOptionsSync=function(){return wx.getLaunchOptionsSync()},t.prototype.showModal=function(t,e,o){return new Promise(function(n){wx.showModal({title:t,content:e,showCancel:o,success:function(t){t.confirm?(console.log("\u7528\u6237\u70b9\u51fb\u786e\u5b9a"),n(!0)):t.cancel&&(console.log("\u7528\u6237\u70b9\u51fb\u53d6\u6d88"),n(!1))},fail:function(){console.log("\u63a5\u53e3\u8c03\u7528\u5931\u8d25"),n(!1)}})})},t.prototype.vibrateShort=function(){return new Promise(function(){wx.vibrateShort({success:function(){console.log("vibrateShort Success")},fail:function(){console.log("vibrateShort fail")}})})},t.prototype.vibrateLong=function(){return new Promise(function(){wx.vibrateLong({success:function(){console.log("vibrateShort Success")},fail:function(){console.log("vibrateShort fail")}})})},t.instance=null,t}();o.PlatformManager=n,cc._RF.pop()},{}],g2048_PromptUI:[function(t,e,o){"use strict";cc._RF.push(e,"ae4deyssMJKeKWivp3FeTck","g2048_PromptUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PromptUI=void 0;var a=t("../data/g2048_ListenerType"),c=t("../data/g2048_StorageKey"),s=t("../manager/g2048_AudioManager"),l=t("../manager/g2048_ListenerManager"),u=t("../manager/g2048_UIManager"),p=t("./g2048_BaseUI"),h=cc._decorator,f=h.ccclass,d=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e._callback=null,e._cancelBack=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.content.string="",l.ListenerManager.getInstance().add(a.ListenerType.prompt,this,this.initData)},e.prototype.start=function(){},e.prototype.initData=function(t,e,o){this._callback=t,this._cancelBack=e,this.content.string=o},e.prototype.onClickOk=function(){this._callback&&this._callback(),u.UIManager.getInstance().closeUI(o),s.AudioManager.getInstance().playSound(c.StorageKey.ANNIU)},e.prototype.onClickCancel=function(){this._cancelBack&&this._cancelBack(),u.UIManager.getInstance().closeUI(o),s.AudioManager.getInstance().playSound(c.StorageKey.ANNIU)},e.className="PromptUI",r([d(cc.Label)],e.prototype,"content",void 0),o=r([f],e)}(p.BaseUI);o.PromptUI=g,cc._RF.pop()},{"../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_StorageKey":"g2048_StorageKey","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","./g2048_BaseUI":"g2048_BaseUI"}],g2048_PropUI:[function(t,e,o){"use strict";cc._RF.push(e,"46cfeuL36hKbJVzkHQII0ID","g2048_PropUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PropUI=void 0;var a=t("../../../miniGamePackage/utils/SubResourceUtils"),c=t("../data/g2048_ListenerType"),s=t("../data/g2048_StorageKey"),l=t("../data/g2048_config2"),u=t("../manager/g2048_AudioManager"),p=t("../manager/g2048_GameDataManager"),h=t("../manager/g2048_ListenerManager"),f=t("../manager/g2048_UIManager"),d=t("../utils/g2048_UIHelp"),g=t("./g2048_BaseUI"),_=cc._decorator,y=_.ccclass,m=_.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.content=null,e.time=null,e.hammer=null,e._callback=null,e._type=1,e._time=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.title.string="",this.content.string="",this.time.string="",h.ListenerManager.getInstance().add(c.ListenerType.prop,this,this.initData)},e.prototype.start=function(){},e.prototype.initData=function(t,e){this._callback=t,this._type=e;var o="";1==e?(o="chongpai",this.title.string="\u91cd\u6392",this.content.string="\u91cd\u65b0\u6392\u5217\u65b9\u5757\u5e03\u5c40"):2==e?(o="back",this.title.string="\u6094\u6b65",this.content.string="\u56de\u5230\u4e0a\u4e00\u6b65\u72b6\u6001"):3==e?(o="change",this.title.string="\u66ff\u6362",this.content.string="\u66ff\u6362\u67d0\u4e00\u4e2a\u65b9\u5757"):4==e&&(o="hammer",this.title.string="\u9524\u5b50",this.content.string="\u6d88\u9664\u67d0\u4e00\u4e2a\u65b9\u5757"),this._time=p.GameDataManager.getInstance().getGameData().getDataByKey(s.StorageKey.item+e,0),this.time.string="\u6bcf\u5c40\u9650\u7528"+l.config2.itemMax+"\u6b21\uff08"+this._time+"/"+l.config2.itemMax+"\uff09",a.SubResourceUtils.getInst().loadAsset("textures/newImage/"+o,cc.SpriteFrame,this.loadComplete.bind(this))},e.prototype.loadComplete=function(t,e){this.hammer.spriteFrame=e},e.prototype.onClickOk=function(){this._time>=l.config2.itemMax?d.UIHelp.showTip("\u672c\u5c40"+this.title.string+"\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c"):this.playADComplete(),u.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.prototype.playADComplete=function(){this._callback&&this._callback(),this._time++,p.GameDataManager.getInstance().getGameData().setDataByKey(s.StorageKey.item+this._type,this._time),f.UIManager.getInstance().closeUI(o)},e.prototype.onClickCancel=function(){f.UIManager.getInstance().closeUI(o),u.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.className="PropUI",r([m(cc.Label)],e.prototype,"title",void 0),r([m(cc.Label)],e.prototype,"content",void 0),r([m(cc.Label)],e.prototype,"time",void 0),r([m(cc.Sprite)],e.prototype,"hammer",void 0),o=r([y],e)}(g.BaseUI);o.PropUI=v,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0,"../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_StorageKey":"g2048_StorageKey","../data/g2048_config2":"g2048_config2","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_GameDataManager":"g2048_GameDataManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","../utils/g2048_UIHelp":"g2048_UIHelp","./g2048_BaseUI":"g2048_BaseUI"}],g2048_RectUI:[function(t,e,o){"use strict";cc._RF.push(e,"036069u+NFHSriAitgX/rD8","g2048_RectUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RectUI=void 0;var a=t("../data/g2048_ListenerType"),c=t("../data/g2048_config2"),s=t("../manager/g2048_AudioManager"),l=t("../manager/g2048_ListenerManager"),u=t("../manager/g2048_UIManager"),p=t("./g2048_BaseUI"),h=t("./g2048_PromptUI"),f=t("./g2048_StartUI"),d=cc._decorator,g=d.ccclass,_=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpManager=null,e.showScoreLabel=null,e.hp=0,e.score=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.hp=5,this.score=0,l.ListenerManager.getInstance().add(a.ListenerType.openTouch,this,this.openTouch),l.ListenerManager.getInstance().add(a.ListenerType.updateScore,this,this.updateScoreLabel),l.ListenerManager.getInstance().add(a.ListenerType.updateHp,this,this.onUpdateHp)},e.prototype.start=function(){this.openTouch(),this.updateHpShow(this.hp)},e.prototype.cancel=function(){u.UIManager.getInstance().closeUI(o),u.UIManager.getInstance().openUI(f.StartUI)},e.prototype.touchEnd=function(t){var e=this;s.AudioManager.getInstance().playSound("hit");var o=this.node.convertToNodeSpaceAR(t.getLocation()),n=Math.floor((325+o.x)/130)+1,i=Math.floor((325-o.y)/130)+1;n<1||n>5||i<1||i>5?console.log("\u4e0d\u5728\u8303\u56f4\u5185"):8!==c.config2.xiaomap[n][i]?(l.ListenerManager.getInstance().trigger(a.ListenerType.blockAddOne,n,i),this.hp-=1,this.hp<0&&(console.log("\u6e38\u620f\u7ed3\u675f"),u.UIManager.getInstance().openUI(h.PromptUI,10,function(){l.ListenerManager.getInstance().trigger(a.ListenerType.prompt,e.restartOk.bind(e),e.cancel.bind(e),"\u6e38\u620f\u7ed3\u675f,\u672c\u8f6e\u6210\u7ee9"+e.showScoreLabel.string+"\uff0c\u662f\u5426\u518d\u6b21\u6311\u6218\uff1f")}),s.AudioManager.getInstance().playSound("over")),this.updateHpShow(this.hp),this.closeTouch(),l.ListenerManager.getInstance().trigger(a.ListenerType.updatebook,n,i)):console.log("\u52309\u4e86")},e.prototype.restartOk=function(){this.hp=5,this.score=0,this.showScoreLabel.string=this.score+"",this.openTouch(),this.updateHpShow(this.hp),l.ListenerManager.getInstance().trigger(a.ListenerType.reStart)},e.prototype.updateHpShow=function(t){t<0&&(t=0),t>5&&(t=5);for(var e=0;e<5;e++)this.hpManager.children[e].opacity=0;for(e=0;e<t;e++)this.hpManager.children[e].opacity=255},e.prototype.updateScoreLabel=function(t,e){var o=this;this.showScoreLabel.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.callFunc(function(){o.score+=(e+1)*t,o.showScoreLabel.string=o.score+""},this),cc.scaleTo(.1,1)))},e.prototype.openTouch=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.closeTouch=function(){this.node.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.onUpdateHp=function(){this.hp+=1,this.updateHpShow(this.hp)},e.className="RectUI",r([_(cc.Node)],e.prototype,"hpManager",void 0),r([_(cc.Label)],e.prototype,"showScoreLabel",void 0),o=r([g],e)}(p.BaseUI);o.RectUI=y,cc._RF.pop()},{"../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_config2":"g2048_config2","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","./g2048_BaseUI":"g2048_BaseUI","./g2048_PromptUI":"g2048_PromptUI","./g2048_StartUI":"g2048_StartUI"}],g2048_StartUI:[function(t,e,o){"use strict";cc._RF.push(e,"6075dYKhitClKDebztJyn4u","g2048_StartUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.StartUI=void 0;var a=t("../data/g2048_ENUMStatus"),c=t("../data/g2048_ListenerType"),s=t("../data/g2048_StorageKey"),l=t("../manager/g2048_AudioManager"),u=t("../manager/g2048_ListenerManager"),p=t("../manager/g2048_UIManager"),h=t("../utils/g2048_AwardUtils"),f=t("./g2048_BaseUI"),d=t("./g2048_MainUI"),g=t("./g2048_MenuUI"),_=t("./g2048_RectUI"),y=cc._decorator,m=y.ccclass,v=(y.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var o;return i(e,t),o=e,e.prototype.onLoad=function(){},e.prototype.start=function(){l.AudioManager.getInstance().playBGM(s.StorageKey.BGM)},e.prototype.onClickJingDian=function(){p.UIManager.getInstance().openUI(g.MenuUI),l.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.prototype.onClickCombine=function(){var t=this;p.UIManager.getInstance().openUI(d.MainUI,0,function(){u.ListenerManager.getInstance().trigger(c.ListenerType.changePattern,a.PATTERN.combine),t.onClose()}),l.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.prototype.onClickPinXiao=function(){var t=this;p.UIManager.getInstance().openUI(_.RectUI,0,function(){t.onClose()}),l.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.prototype.onProgress=function(t,e){var o=t/e;u.ListenerManager.getInstance().trigger(c.ListenerType.loading,o)},e.prototype.onClickShare=function(){h.AwardUtils.share(),l.AudioManager.getInstance().playSound(s.StorageKey.ANNIU)},e.prototype.onClose=function(){p.UIManager.getInstance().closeUI(o)},e.className="StartUI",o=r([m],e)}(f.BaseUI));o.StartUI=v,cc._RF.pop()},{"../data/g2048_ENUMStatus":"g2048_ENUMStatus","../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_StorageKey":"g2048_StorageKey","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","../manager/g2048_UIManager":"g2048_UIManager","../utils/g2048_AwardUtils":"g2048_AwardUtils","./g2048_BaseUI":"g2048_BaseUI","./g2048_MainUI":"g2048_MainUI","./g2048_MenuUI":"g2048_MenuUI","./g2048_RectUI":"g2048_RectUI"}],g2048_StorageKey:[function(t,e,o){"use strict";cc._RF.push(e,"89edayO7kpBwqovM21ah8BD","g2048_StorageKey"),Object.defineProperty(o,"__esModule",{value:!0}),o.StorageKey=void 0;var n=function(){function t(){}return t.BGM="bgMain",t.SOUND="sound",t.ANNIU="anniu",t.max_num="max_num",t.bestGrade="bestGrade",t.grade="grade",t.listLv="listLv",t.befListLv="befListLv",t.item="item",t.guideStep="guideStep",t}();o.StorageKey=n,cc._RF.pop()},{}],g2048_StorageUtil:[function(t,e,o){"use strict";cc._RF.push(e,"ec64cNxulJHRrIJU6/oefe3","g2048_StorageUtil"),Object.defineProperty(o,"__esModule",{value:!0}),o.StorageUtil=void 0;var n=function(){function t(){}return t.register=function(){cc.game.on(cc.game.EVENT_HIDE,function(){cc.log("game onPause - StorageUtil")}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.log("game onResume - StorageUtil")})},t.setLocalData=function(t,e){"object"==typeof e&&(e=JSON.stringify(e)),cc.sys.localStorage.setItem(t,e)},t.getLocalData=function(t,e){var o=this._getData(t,e);return"boolean"==typeof e?o=this._toBoolean(o,e):"number"==typeof e?o=this._toNumber(o,e):"object"==typeof e&&(o=this._toJSON(o,e)),o},t._getData=function(t,e){var o=cc.sys.localStorage.getItem(t);return null!=o&&"null"!=o||null==e||(o=e),o},t._toBoolean=function(t,e){return"boolean"==typeof t?t:null==t||""==t?e:"false"!=t&&("true"==t||void 0)},t._toNumber=function(t,e){var o=Number(t);return isNaN(o)?e:o},t._toJSON=function(t,e){try{var o=JSON.parse(t);return"object"==typeof o&&o?o:e}catch(n){return e}},t}();o.StorageUtil=n,cc._RF.pop()},{}],g2048_StringExtension:[function(t,e){"use strict";cc._RF.push(e,"47e95RbtelAwKMtIfI7oFak","g2048_StringExtension"),String.prototype.format=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=Array.prototype.slice.call(arguments),n=0;return this.replace(/%s/g,function(){return o[n++]})},cc._RF.pop()},{}],g2048_TimeManager:[function(t,e,o){"use strict";cc._RF.push(e,"6a93cVTR3pJrpapom9vowVf","g2048_TimeManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.TimeManager=void 0;var n=function(){function t(){}return t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getCurrentTime=function(){return(new Date).getTime()},t.instance=null,t}();o.TimeManager=n,cc._RF.pop()},{}],g2048_TipUI:[function(t,e,o){"use strict";cc._RF.push(e,"85cc89PPx5ImLoQOE96jgQw","g2048_TipUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TipUI=void 0;var a=t("./g2048_BaseUI"),c=t("./objects/g2048_Tip"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipPrefab=null,e.tipPool=[],e}return i(e,t),e.prototype.showTip=function(t){for(var e=0;e<this.tipPool.length;++e)if(null!=this.tipPool[e]&&this.tipPool[e].isReady())return void this.tipPool[e].playTip(t);var o=cc.instantiate(this.tipPrefab);o.parent=this.node;var n=o.getComponent(c.Tip);this.tipPool.push(n),n.playTip(t)},e.className="TipUI",r([u(cc.Prefab)],e.prototype,"tipPrefab",void 0),r([l],e)}(a.BaseUI);o.TipUI=p,cc._RF.pop()},{"./g2048_BaseUI":"g2048_BaseUI","./objects/g2048_Tip":"g2048_Tip"}],g2048_Tip:[function(t,e,o){"use strict";cc._RF.push(e,"04fcapljOpFmIn/EkN+KqEE","g2048_Tip");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Tip=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipLabel=null,e.ready=!0,e}return i(e,t),e.prototype.playTip=function(t){this.node.stopAllActions(),this.ready=!1,this.tipLabel.string=t,this.reset();var e=cc.moveTo(.5,0,128),o=cc.fadeIn(.5),n=cc.spawn(e,o),i=cc.delayTime(1),r=cc.fadeOut(.5),a=cc.callFunc(function(){this.ready=!0},this),c=cc.sequence(n,i,r,a);this.node.runAction(c)},e.prototype.isReady=function(){return this.ready},e.prototype.reset=function(){this.node.setPosition(0,0),this.node.opacity=255},r([s(cc.Label)],e.prototype,"tipLabel",void 0),r([c],e)}(cc.Component);o.Tip=l,cc._RF.pop()},{}],g2048_UIHelp:[function(t,e,o){"use strict";cc._RF.push(e,"f17c3LMiZRKII3gkA2wpsK5","g2048_UIHelp"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIHelp=void 0;var n=t("../UI/g2048_TipUI"),i=t("../manager/g2048_UIManager"),r=function(){function t(){}return t.showTip=function(e){var o=i.UIManager.getInstance().getUI(n.TipUI);o?o.showTip(e):i.UIManager.getInstance().openUI(n.TipUI,200,function(){t.showTip(e)})},t}();o.UIHelp=r,cc._RF.pop()},{"../UI/g2048_TipUI":"g2048_TipUI","../manager/g2048_UIManager":"g2048_UIManager"}],g2048_UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"fcb706mngZPXIeAjofYaIuT","g2048_UIManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIManager=void 0;var n=t("../../../miniGamePackage/utils/SubResourceUtils"),i=function(){function t(){this.uiList=[],this.uiRoot=null,this.uiList=[]}return t.prototype.setRoot=function(t){this.uiRoot=t},t.getInstance=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.clear=function(){this.uiList=[]},t.prototype.openUI=function(t,e,o,i){for(var r=this,a=[],c=4;c<arguments.length;c++)a[c-4]=arguments[c];this.getUI(t)||n.SubResourceUtils.getInst().loadAsset(t.getUrl(),cc.Prefab,function(n){if(!r.getUI(t)){var i=cc.instantiate(n);i.parent=r.uiRoot,e&&(i.zIndex=e);var c=i.getComponent(t);c.tag=t,r.uiList.push(c),o&&o(c,a)}})},t.prototype.closeUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e].node.destroy(),void this.uiList.splice(e,1)},t.prototype.showUI=function(t,e){var o=this,n=this.getUI(t);n?(n.node.active=!0,n.onShow(),e&&e(n)):this.openUI(t,0,function(){var n=o.getUI(t);n.onShow(),e&&e(n)})},t.prototype.hideUI=function(t){var e=this.getUI(t);e&&(e.node.active=!1)},t.prototype.getUI=function(t){for(var e=0;e<this.uiList.length;++e)if(this.uiList[e].tag===t)return this.uiList[e];return null},t}();o.UIManager=i,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0}],g2048_XiaoBlock:[function(t,e,o){"use strict";cc._RF.push(e,"ad061nwUNxIGafQbp6yTCLV","g2048_XiaoBlock");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.XiaoBlock=void 0;var a=t("../data/g2048_ListenerType"),c=t("../data/g2048_config2"),s=t("../manager/g2048_AudioManager"),l=t("../manager/g2048_ListenerManager"),u=t("./g2048_BaseUI"),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockPrefab=null,e.blockSpriteFrames=[],e.pool=null,e.count=0,e.hits=0,e.book=[],e.mapNode=[],e}return i(e,t),e.prototype.onLoad=function(){this.init(),this.pool=new cc.NodePool;for(var t=0;t<30;t++)this.pool.put(cc.instantiate(this.blockPrefab));this.count=0,this.hits=0,l.ListenerManager.getInstance().add(a.ListenerType.updatebook,this,this.onUpdateBook),l.ListenerManager.getInstance().add(a.ListenerType.blockAddOne,this,this.blockAddOne),l.ListenerManager.getInstance().add(a.ListenerType.reStart,this,this.reStart)},e.prototype.reStart=function(){this.node.removeAllChildren(),this.count=0,this.hits=0,this.init(),this.gameStart()},e.prototype.start=function(){this.gameStart()},e.prototype.init=function(){c.config2.xiaomap=[],this.mapNode=[],this.book=[];for(var t=0;t<7;t++){c.config2.xiaomap[t]=[],this.mapNode[t]=[],this.book[t]=[];for(var e=0;e<7;e++)c.config2.xiaomap[t][e]=null,this.mapNode[t][e]=null,this.book[t][e]=0}},e.prototype.onUpdateBook=function(t,e){this.count=0,this.setZeroBook();var o=c.config2.xiaomap[t][e];this.mapForCount(t,e,o),this.count<3?l.ListenerManager.getInstance().trigger(a.ListenerType.openTouch):(this.hits=0,this.doActionForBook(t,e))},e.prototype.mapForCount=function(t,e,o){for(var n=[[0,1],[1,0],[0,-1],[-1,0]],i=0;i<4;i++){var r=t+n[i][0],a=e+n[i][1];r<1||r>5||a<1||a>5||c.config2.xiaomap[r][a]===o&&0===this.book[r][a]&&(this.book[r][a]=1,this.count+=1,this.mapForCount(r,a,o))}},e.prototype.doActionForBook=function(t,e){var o=this;l.ListenerManager.getInstance().trigger(a.ListenerType.updateScore,this.count,c.config2.xiaomap[t][e]);for(var n=function(n){for(var r=function(r){if(n===t&&r===e)return"continue";1===i.book[n][r]&&i.mapNode[n][r].runAction(cc.sequence(cc.scaleTo(.15,0),cc.callFunc(function(){o.pool.put(o.mapNode[n][r]),c.config2.xiaomap[n][r]=null,o.mapNode[n][r]=null},i)))},a=1;a<6;a++)r(a)},i=this,r=1;r<6;r++)n(r);this.mapNode[t][e].runAction(cc.sequence(cc.scaleTo(.15,1.2),cc.callFunc(function(){o.blockAddOne(t,e)},this),cc.scaleTo(.15,1),cc.callFunc(function(){o.blockDown()},this))),l.ListenerManager.getInstance().trigger(a.ListenerType.updateHp),this.playCombo(this.hits),this.hits+=1},e.prototype.playCombo=function(t){t<0||(t>5&&(t=5),s.AudioManager.getInstance().playSound("combo"+(t+1)))},e.prototype.blockDown=function(){for(var t=!0;t;){t=!1;for(var e=1;e<6;e++)for(var o=1;o<5;o++)null!==this.mapNode[e][o]&&null===this.mapNode[e][o+1]&&(this.mapNode[e][o].runAction(cc.moveBy(.1,0,-130)),this.mapNode[e][o+1]=this.mapNode[e][o],c.config2.xiaomap[e][o+1]=c.config2.xiaomap[e][o],this.mapNode[e][o]=null,c.config2.xiaomap[e][o]=null,t=!0)}this.scheduleOnce(this.checkNullBlock,.3)},e.prototype.checkNullBlock=function(){for(var t=1;t<6;t++)for(var e=1;e<6;e++)if(null===this.mapNode[t][e]){var o=this.randNum(0,4),n=130*(t-1)-260,i=260-130*(e-1);c.config2.xiaomap[t][e]=o,this.mapNode[t][e]=this.createBlock(n,i,o),this.mapNode[t][e].scale=0,this.mapNode[t][e].runAction(cc.scaleTo(.1,1))}this.scheduleOnce(this.checkCount,.3)},e.prototype.checkCount=function(){for(var t=!0,e=1;e<6;e++)for(var o=1;o<6&&!1!==t;o++)this.count=0,this.setZeroBook(),this.mapForCount(e,o,c.config2.xiaomap[e][o]),this.count>=3&&(this.doActionForBook(e,o),t=!1);!0===t&&l.ListenerManager.getInstance().trigger(a.ListenerType.openTouch)},e.prototype.blockAddOne=function(t,e){if(8===c.config2.xiaomap[t][e])return console.log("\u52309\u4e86"),!1;c.config2.xiaomap[t][e]+=1;var o=c.config2.xiaomap[t][e];return this.mapNode[t][e].getComponent(cc.Sprite).spriteFrame=this.blockSpriteFrames[o],!0},e.prototype.gameStart=function(){for(var t=1;t<6;t++)for(var e=1;e<6;e++){var o=130*(t-1)-260,n=260-130*(e-1),i=this.randNum(0,4);for(c.config2.xiaomap[t][e]=i;c.config2.xiaomap[t][e]===c.config2.xiaomap[t-1][e]||c.config2.xiaomap[t][e]===c.config2.xiaomap[t][e-1]||c.config2.xiaomap[t][e]===c.config2.xiaomap[t+1][e]||c.config2.xiaomap[t][e]===c.config2.xiaomap[t][e+1];)i=this.randNum(0,4),c.config2.xiaomap[t][e]=i;this.mapNode[t][e]=this.createBlock(o,n,i)}},e.prototype.createBlock=function(t,e,o){var n=null;return(n=this.pool.size()>0?this.pool.get():cc.instantiate(this.blockPrefab)).parent=this.node,n.x=t,n.y=e,n.getComponent(cc.Sprite).spriteFrame=this.blockSpriteFrames[o],n},e.prototype.setZeroBook=function(){for(var t=0;t<7;t++)for(var e=0;e<7;e++)this.book[t][e]=0},e.prototype.randNum=function(t,e){var o=t+(e-t+1)*Math.random();return Math.floor(o)},e.className="XiaoBlock",r([f(cc.Prefab)],e.prototype,"blockPrefab",void 0),r([f([cc.SpriteFrame])],e.prototype,"blockSpriteFrames",void 0),r([h],e)}(u.BaseUI);o.XiaoBlock=d,cc._RF.pop()},{"../data/g2048_ListenerType":"g2048_ListenerType","../data/g2048_config2":"g2048_config2","../manager/g2048_AudioManager":"g2048_AudioManager","../manager/g2048_ListenerManager":"g2048_ListenerManager","./g2048_BaseUI":"g2048_BaseUI"}],g2048_config2:[function(t,e,o){"use strict";cc._RF.push(e,"cf8d9nGhttFRYzIf3kwPZj2","g2048_config2"),Object.defineProperty(o,"__esModule",{value:!0}),o.config2=void 0;var n=function(){function t(){}return t.isDebug=!1,t.isX=!1,t.guideStep=1,t.type=0,t.space=10,t.size=150,t.maxSize=150,t.gridNum=4,t.isSound=!0,t.itemMax=30,t.useItemType=0,t.xiaomap=[],t.hutuiArray=null,t.dockArray=null,t.GRIDNUM="0|1|2|1|2|1|2|1|2|1|2|2|0|0|0|1|2|1|1|2|1|2|1|2|1",t.numStyle=[{txt:"2",txtColor:"#7c736a",bgColor:"#eee4da",size:65},{txt:"4",txtColor:"#7c736a",bgColor:"#ede0c8",size:65},{txt:"8",txtColor:"#fff7eb",bgColor:"#f2b179",size:65},{txt:"16",txtColor:"#7c736a",bgColor:"#f59563",size:62},{txt:"32",txtColor:"#fff7eb",bgColor:"#f57c5f",size:62},{txt:"64",txtColor:"#7c736a",bgColor:"#f65d3b",size:62},{txt:"128",txtColor:"#fff7eb",bgColor:"#edce71",size:60},{txt:"256",txtColor:"#7c736a",bgColor:"#EAC24B",size:60},{txt:"512",txtColor:"#fff7eb",bgColor:"#E8B92C",size:60},{txt:"1024",txtColor:"#fff7eb",bgColor:"#FFBF00",size:50},{txt:"2048",txtColor:"#7c736a",bgColor:"#E1E59B",size:50},{txt:"4096",txtColor:"#fff7eb",bgColor:"#D9E059",size:50},{txt:"8192",txtColor:"#7c736a",bgColor:"#F2FF00",size:50},{txt:"16384",txtColor:"#fff7eb",bgColor:"#73BEBA",size:40},{txt:"32768",txtColor:"#7c736a",bgColor:"#36BCB3",size:40},{txt:"65536",txtColor:"#fff7eb",bgColor:"#00FFE9",size:40}],t.num2Style=[{txt:"1",txtColor:"#7c736a",bgColor:"#eee4da",size:65},{txt:"2",txtColor:"#7c736a",bgColor:"#ede0c8",size:65},{txt:"3",txtColor:"#fff7eb",bgColor:"#f2b179",size:65},{txt:"4",txtColor:"#7c736a",bgColor:"#f59563",size:65},{txt:"5",txtColor:"#fff7eb",bgColor:"#f57c5f",size:65},{txt:"6",txtColor:"#7c736a",bgColor:"#f65d3b",size:65},{txt:"7",txtColor:"#fff7eb",bgColor:"#edce71",size:65},{txt:"8",txtColor:"#7c736a",bgColor:"#EAC24B",size:65},{txt:"9",txtColor:"#fff7eb",bgColor:"#E8B92C",size:65},{txt:"10",txtColor:"#fff7eb",bgColor:"#FFBF00",size:62},{txt:"11",txtColor:"#7c736a",bgColor:"#E1E59B",size:62},{txt:"12",txtColor:"#fff7eb",bgColor:"#D9E059",size:62},{txt:"13",txtColor:"#7c736a",bgColor:"#F2FF00",size:62},{txt:"14",txtColor:"#fff7eb",bgColor:"#73BEBA",size:62},{txt:"15",txtColor:"#7c736a",bgColor:"#36BCB3",size:62},{txt:"16",txtColor:"#fff7eb",bgColor:"#00FFE9",size:62},{txt:"17",txtColor:"#7c736a",bgColor:"#eee4da",size:62},{txt:"18",txtColor:"#7c736a",bgColor:"#ede0c8",size:62},{txt:"19",txtColor:"#fff7eb",bgColor:"#f2b179",size:62},{txt:"20",txtColor:"#7c736a",bgColor:"#f59563",size:62},{txt:"21",txtColor:"#fff7eb",bgColor:"#f57c5f",size:62},{txt:"22",txtColor:"#7c736a",bgColor:"#f65d3b",size:62},{txt:"23",txtColor:"#fff7eb",bgColor:"#edce71",size:62},{txt:"24",txtColor:"#7c736a",bgColor:"#EAC24B",size:62},{txt:"25",txtColor:"#fff7eb",bgColor:"#E8B92C",size:62}],t.loveStyle=[{txt:"\u5e7c\u513f\u56ed",txtColor:"#7c736a",bgColor:"#eee4da",size:40},{txt:"\u5c0f\u5b66",txtColor:"#fff7eb",bgColor:"#ede0c8",size:50},{txt:"\u521d\u4e2d",txtColor:"#7c736a",bgColor:"#f2b179",size:50},{txt:"\u9ad8\u4e2d",txtColor:"#fff7eb",bgColor:"#f59563",size:50},{txt:"\u4e13\u79d1",txtColor:"#7c736a",bgColor:"#f57c5f",size:50},{txt:"\u672c\u79d1",txtColor:"#fff7eb",bgColor:"#f65d3b",size:50},{txt:"\u7814\u7a76\u751f",txtColor:"#7c736a",bgColor:"#edce71",size:40},{txt:"\u535a\u58eb",txtColor:"#fff7eb",bgColor:"#EAC24B",size:50},{txt:"\u535a\u58eb\u540e",txtColor:"#7c736a",bgColor:"#E8B92C",size:40},{txt:"\u5b66\u8005",txtColor:"#fff7eb",bgColor:"#FFBF00",size:50},{txt:"\u6587\u8c6a",txtColor:"#fff7eb",bgColor:"#E1E59B",size:50},{txt:"\u8bd7\u4eba",txtColor:"#7c736a",bgColor:"#D9E059",size:50},{txt:"\u624d\u5b50",txtColor:"#fff7eb",bgColor:"#F2FF00",size:50},{txt:"\u54f2\u5b66\u5bb6",txtColor:"#7c736a",bgColor:"#73BEBA",size:40},{txt:"\u6587\u5b66\u5bb6",txtColor:"#fff7eb",bgColor:"#36BCB3",size:40},{txt:"\u53f2\u5b66\u5bb6",txtColor:"#7c736a",bgColor:"#00FFE9",size:40},{txt:"\u5927\u5bb6",txtColor:"#fff7eb",bgColor:"#A748E2",size:50}],t.maidStyle=[{txt:"\u79c0\u5973",txtColor:"#7c736a",bgColor:"#eee4da",size:50},{txt:"\u66f4\u8863",txtColor:"#fff7eb",bgColor:"#ede0c8",size:50},{txt:"\u7b54\u5e94",txtColor:"#7c736a",bgColor:"#f2b179",size:50},{txt:"\u5e38\u5728",txtColor:"#fff7eb",bgColor:"#f59563",size:50},{txt:"\u7f8e\u4eba",txtColor:"#7c736a",bgColor:"#f57c5f",size:50},{txt:"\u8d35\u4eba",txtColor:"#fff7eb",bgColor:"#f65d3b",size:50},{txt:"\u5c0f\u4eea",txtColor:"#7c736a",bgColor:"#edce71",size:50},{txt:"\u5ad4\u5983",txtColor:"#fff7eb",bgColor:"#EAC24B",size:50},{txt:"\u5a49\u4eea",txtColor:"#7c736a",bgColor:"#E8B92C",size:50},{txt:"\u8363\u534e",txtColor:"#fff7eb",bgColor:"#FFBF00",size:50},{txt:"\u5a55\u59a4",txtColor:"#fff7eb",bgColor:"#E1E59B",size:50},{txt:"\u8d35\u5ad4",txtColor:"#7c736a",bgColor:"#D9E059",size:50},{txt:"\u6dd1\u4eea",txtColor:"#fff7eb",bgColor:"#F2FF00",size:50},{txt:"\u662d\u4eea",txtColor:"#7c736a",bgColor:"#73BEBA",size:50},{txt:"\u5fb7\u5983",txtColor:"#fff7eb",bgColor:"#36BCB3",size:50},{txt:"\u6dd1\u5983",txtColor:"#7c736a",bgColor:"#00FFE9",size:50},{txt:"\u8d35\u5983",txtColor:"#fff7eb",bgColor:"#A748E2",size:50},{txt:"\u7687\u540e",txtColor:"#fff7eb",bgColor:"#9D00FF",size:50}],t.beggarStyle=[{txt:"\u4e5e\u4e10",txtColor:"#7c736a",bgColor:"#eee4da",size:50},{txt:"\u519c\u6c11",txtColor:"#7c736a",bgColor:"#ede0c8",size:50},{txt:"\u5175\u5352",txtColor:"#7c736a",bgColor:"#f2b179",size:50},{txt:"\u4f0d\u957f",txtColor:"#fff7eb",bgColor:"#f59563",size:50},{txt:"\u8859\u5185",txtColor:"#7c736a",bgColor:"#f57c5f",size:50},{txt:"\u6355\u5feb",txtColor:"#fff7eb",bgColor:"#f65d3b",size:50},{txt:"\u6355\u5934",txtColor:"#7c736a",bgColor:"#edce71",size:50},{txt:"\u6b65\u519b",txtColor:"#fff7eb",bgColor:"#EAC24B",size:50},{txt:"\u526f\u5c09",txtColor:"#7c736a",bgColor:"#E8B92C",size:50},{txt:"\u77e5\u53bf",txtColor:"#fff7eb",bgColor:"#FFBF00",size:50},{txt:"\u77e5\u5e9c",txtColor:"#fff7eb",bgColor:"#E1E59B",size:50},{txt:"\u5de1\u629a",txtColor:"#7c736a",bgColor:"#D9E059",size:50},{txt:"\u53c2\u9886",txtColor:"#7c736a",bgColor:"#F2FF00",size:50},{txt:"\u526f\u5c06",txtColor:"#7c736a",bgColor:"#73BEBA",size:50},{txt:"\u5c06\u519b",txtColor:"#fff7eb",bgColor:"#36BCB3",size:50},{txt:"\u4eb2\u738b",txtColor:"#7c736a",bgColor:"#00FFE9",size:50},{txt:"\u7687\u4e0a",txtColor:"#fff7eb",bgColor:"#A748E2",size:50}],t}();o.config2=n,cc._RF.pop()},{}],mine_Block:[function(t,e,o){"use strict";cc._RF.push(e,"3285a5qin1O7pYhwLmHLElE","mine_Block");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./mine_GameData")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg_sprite=null,e.number_sprite=null,e.block_bg_frame=null,e.number_frame_array=[],e.number_err_frame_array=[],e.index_x=0,e.index_y=0,e.value=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){0==c.default.Instance().game_status&&(c.default.Instance().game_status=1,c.default.Instance().game.selectBlock(t.index_x,t.index_y))}),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(1==c.default.Instance().game_status){var o=e.getStartLocation(),n=e.getLocation(),i=new cc.Vec2(0);i.x=n.x-o.x,i.y=n.y-o.y,t.number_sprite.node.setPosition(i)}})},e.prototype.start=function(){},e.prototype.open=function(){this.bg_sprite.enabled=!1,this.number_sprite.node.active=!0},e.prototype.setValue=function(t){this.value=t,this.number_sprite.spriteFrame=this.number_frame_array[t]},e.prototype.reset=function(){cc.tween(this.number_sprite.node).to(.2,{position:new cc.Vec3(0)}).start()},e.prototype.check=function(){var t=this.number_sprite.node.getPosition(),e=-99,o=-99;return t.x>=-120&&t.x<=-40?e=-1:t.x>=-40&&t.x<=40?e=0:t.x>=40&&t.x<=120&&(e=1),t.y>=-120&&t.y<=-40?o=-1:t.y>=-40&&t.y<=40?o=0:t.y>=40&&t.y<=120&&(o=1),new cc.Vec2(e,o)},e.prototype.showErr=function(){this.number_sprite.spriteFrame=this.number_err_frame_array[this.value]},e.prototype.showNormal=function(){this.number_sprite.spriteFrame=this.number_frame_array[this.value]},r([u(cc.Sprite)],e.prototype,"bg_sprite",void 0),r([u(cc.Sprite)],e.prototype,"number_sprite",void 0),r([u(cc.SpriteFrame)],e.prototype,"block_bg_frame",void 0),r([u([cc.SpriteFrame])],e.prototype,"number_frame_array",void 0),r([u([cc.SpriteFrame])],e.prototype,"number_err_frame_array",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./mine_GameData":"mine_GameData"}],mine_GameData:[function(t,e,o){"use strict";cc._RF.push(e,"0f173Gb2PxLsa3QTUyrj5KG","mine_GameData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=r(t("../Common/Singleton")),c=t("./mine_Stage"),s=cc._decorator,l=(s.ccclass,s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._stage_index=0,e.stage=null,e.game_status=0,e.game=null,e}return i(e,t),Object.defineProperty(e.prototype,"stage_index",{get:function(){return this._stage_index},set:function(t){this._stage_index=t%2},enumerable:!1,configurable:!0}),e.prototype.nextStage=function(){this.stage_index=this.stage_index+1},e.prototype.init=function(){this.game_status=0,0==this.stage_index?this.stage=new c.Stage1:this.stage=new c.Stage2},e}(a.default));o.default=l,cc._RF.pop()},{"../Common/Singleton":"Singleton","./mine_Stage":"mine_Stage"}],mine_Game:[function(t,e,o){"use strict";cc._RF.push(e,"86f78w5UYRBr6+oqfBUcTwG","mine_Game");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("../Common/GameEvent")),s=a(t("../Common/Utils")),l=a(t("./GameCommon")),u=a(t("./mine_Block")),p=a(t("./mine_GameData")),h=a(t("./mine_Timer1")),f=cc._decorator,d=f.ccclass,g=f.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.block_fab=null,e.block_bg_fab=null,e.explosion_animation=null,e.container_node=null,e.err_node=null,e.err_mumber_spite=null,e.number_err_frame_array=[],e.timer=null,e.size=80,e.start_pos=new cc.Vec2(-280,-560),e.block_map=new Array,e.cell_map=new Array,e.cur_move_block=null,e.match_block=null,e.err_count=0,e.match_type=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;p.default.Instance().game=this,p.default.Instance().init(),this.node.on(cc.Node.EventType.TOUCH_END,function(){1==p.default.Instance().game_status&&(p.default.Instance().game_status=0,t.cur_move_block.reset())}),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(){if(1==p.default.Instance().game_status){var e=t.cur_move_block.check();if(-99==e.x||-99==e.y||0==e.x&&0==e.y)p.default.Instance().game_status=0,t.cur_move_block.reset();else{var o=new cc.Vec2(t.cur_move_block.index_x+e.x,t.cur_move_block.index_y+e.y),n=t.getBlock(o);if(null!=n){t.match_block=n;var i=t.checkNumber(t.cur_move_block,n);if(i>0)return t.match_type=i,void t.explosion();t.matchErr()}else p.default.Instance().game_status=0,t.cur_move_block.reset()}}}),this.explosion_animation.on(cc.Animation.EventType.FINISHED,this.explosion_finish,this),c.default.Instance().register(this,"timer_over",function(){p.default.Instance().game_status=3,t.gameOver(!1)})},e.prototype.start=function(){for(var t=0;t<8;t++){this.cell_map[t]=new Array;for(var e=0;e<12;e++)(o=cc.instantiate(this.block_bg_fab)).setPosition(new cc.Vec2(this.start_pos.x+this.size*t,this.start_pos.y+this.size*e)),this.container_node.addChild(o),this.cell_map[t][e]=o}for(t=0;t<8;t++)for(this.block_map[t]=new Array,e=0;e<12;e++){var o;(o=cc.instantiate(this.block_fab)).setPosition(new cc.Vec2(this.start_pos.x+this.size*t,this.start_pos.y+this.size*e)),this.container_node.addChild(o),this.block_map[t][e]=o.getComponent(u.default),this.block_map[t][e].index_x=t,this.block_map[t][e].index_y=e,this.block_map[t][e].setValue(s.default.getRandomInt(0,9))}this.block_map[3][7].setValue(1),this.block_map[4][7].setValue(9),this.block_map[3][7].open(),this.block_map[4][7].open()},e.prototype.selectBlock=function(t,e){this.cur_move_block=this.block_map[t][e]},e.prototype.checkNumber=function(t,e){return t.value+e.value==10?1:t.value==e.value?2:0},e.prototype.explosion=function(){this.explosion_animation.node.active=!0,this.explosion_animation.node.setPosition(this.cur_move_block.node.getPosition()),this.explosion_animation.play("explosion")},e.prototype.getBlock=function(t){return t.x>=0&&t.x<8&&t.y>=0&&t.y<12?this.block_map[t.x][t.y]:null},e.prototype.explosion_finish=function(){if(this.explosion_animation.node.active=!1,1==this.match_type?(this.openAround1(this.cur_move_block),this.openAround1(this.match_block)):2==this.match_type&&(this.openAround2(this.cur_move_block),this.openAround2(this.match_block)),this.container_node.removeChild(this.cur_move_block.node),this.container_node.removeChild(this.match_block.node),this.block_map[this.cur_move_block.index_x][this.cur_move_block.index_y]=null,this.block_map[this.match_block.index_x][this.match_block.index_y]=null,this.cur_move_block.index_x!=this.match_block.index_x){for(var t=0,e=function(e){if(null==o.block_map[o.cur_move_block.index_x][e+1])return"break";o.block_map[o.cur_move_block.index_x][e]=o.block_map[o.cur_move_block.index_x][e+1],o.block_map[o.cur_move_block.index_x][e+1]=null;var n=o.block_map[o.cur_move_block.index_x][e];n.index_y=e,o.scheduleOnce(function(){console.log(n.index_y+1),console.log(n.node.getPosition().y),cc.tween(n.node).by(.2,{position:new cc.Vec3(0,-80,0)}).start()},.1*t),t++},o=this,n=this.cur_move_block.index_y;n<11&&"break"!==e(n);n++);var i=0,r=function(t){if(null==a.block_map[a.match_block.index_x][t+1])return"break";a.block_map[a.match_block.index_x][t]=a.block_map[a.match_block.index_x][t+1];var e=a.block_map[a.match_block.index_x][t];a.block_map[a.match_block.index_x][t+1]=null,e.index_y=t,a.scheduleOnce(function(){cc.tween(e.node).by(.2,{position:new cc.Vec3(0,-80,0)}).start()},.1*i),i++},a=this;for(n=this.match_block.index_y;n<11&&"break"!==r(n);n++);}else{var c,s=0;c=this.cur_move_block.index_y>this.match_block.index_y?this.match_block:this.cur_move_block;var l=function(t){if(null==u.block_map[c.index_x][t+2])return"break";u.block_map[c.index_x][t]=u.block_map[c.index_x][t+2];var e=u.block_map[c.index_x][t];u.block_map[c.index_x][t+2]=null,e.index_y=t,u.scheduleOnce(function(){cc.tween(e.node).by(.4,{position:new cc.Vec3(0,-160,0)}).start()},.1*s),s++},u=this;for(n=c.index_y;n<10&&"break"!==l(n);n++);}this.cur_move_block=null,this.match_block=null,p.default.Instance().game_status=0,this.cleanCell()},e.prototype.openAround1=function(t){var e=new cc.Vec2(t.index_x-1,t.index_y),o=new cc.Vec2(t.index_x+1,t.index_y),n=new cc.Vec2(t.index_x,t.index_y-1),i=new cc.Vec2(t.index_x,t.index_y+1),r=this.getBlock(e),a=this.getBlock(o),c=this.getBlock(n),s=this.getBlock(i);null!=r&&r.open(),null!=a&&a.open(),null!=c&&c.open(),null!=s&&s.open()},e.prototype.openAround2=function(t){var e=new cc.Vec2(t.index_x-1,t.index_y),o=new cc.Vec2(t.index_x+1,t.index_y),n=new cc.Vec2(t.index_x,t.index_y-1),i=new cc.Vec2(t.index_x,t.index_y+1),r=new cc.Vec2(t.index_x-1,t.index_y-1),a=new cc.Vec2(t.index_x+1,t.index_y-1),c=new cc.Vec2(t.index_x+1,t.index_y+1),s=new cc.Vec2(t.index_x-1,t.index_y+1),l=this.getBlock(e),u=this.getBlock(o),p=this.getBlock(n),h=this.getBlock(i),f=this.getBlock(r),d=this.getBlock(a),g=this.getBlock(c),_=this.getBlock(s);null!=l&&l.open(),null!=u&&u.open(),null!=p&&p.open(),null!=h&&h.open(),null!=f&&f.open(),null!=d&&d.open(),null!=g&&g.open(),null!=_&&_.open()},e.prototype.cleanCell=function(){for(var t=0;t<8;t++)for(var e=0;e<12;e++)if(null==this.block_map[t][e]){var o=this.cell_map[t][e];this.container_node.removeChild(o),this.cell_map[t][e]=null}},e.prototype.onDestroy=function(){console.log("\u9500\u6bc1"),c.default.Instance().unregister(this,"timer_over")},e.prototype.matchErr=function(){var t=this;this.cur_move_block.reset(),this.cur_move_block.showErr(),this.match_block.showErr();var e=new cc.Vec2((this.cur_move_block.node.getPosition().x+this.match_block.node.getPosition().x)/2,(this.cur_move_block.node.getPosition().y+this.match_block.node.getPosition().y)/2);this.err_node.setPosition(e),this.err_node.active=!0,this.err_count++,this.err_mumber_spite.spriteFrame=this.number_err_frame_array[this.err_count],this.err_count>=p.default.Instance().stage.err_count&&(p.default.Instance().game_status=2,this.timer.timerStop()),this.scheduleOnce(function(){1==p.default.Instance().game_status?p.default.Instance().game_status=0:t.gameOver(!1),t.cur_move_block.showNormal(),t.match_block.showNormal(),t.err_node.active=!1},.5)},r([g(cc.Prefab)],e.prototype,"block_fab",void 0),r([g(cc.Prefab)],e.prototype,"block_bg_fab",void 0),r([g(cc.Animation)],e.prototype,"explosion_animation",void 0),r([g(cc.Node)],e.prototype,"container_node",void 0),r([g(cc.Node)],e.prototype,"err_node",void 0),r([g(cc.Sprite)],e.prototype,"err_mumber_spite",void 0),r([g([cc.SpriteFrame])],e.prototype,"number_err_frame_array",void 0),r([g(h.default)],e.prototype,"timer",void 0),r([d],e)}(l.default);o.default=_,cc._RF.pop()},{"../Common/GameEvent":"GameEvent","../Common/Utils":"Utils","./GameCommon":"GameCommon","./mine_Block":"mine_Block","./mine_GameData":"mine_GameData","./mine_Timer1":"mine_Timer1"}],mine_Select:[function(t,e,o){"use strict";cc._RF.push(e,"9a5bbXopdZGtaIdvtx6IblJ","mine_Select");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("./mine_GameData")),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.mission_click=function(t,e){c.default.Instance().stage_index=Number.parseInt(e),cc.director.loadScene("Game")},r([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"./mine_GameData":"mine_GameData"}],mine_Stage:[function(t,e,o){"use strict";cc._RF.push(e,"72d9bW5V8FFIotW8xyoEyZF","mine_Stage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Stage2=o.Stage1=o.Stage=void 0;var r=cc._decorator,a=(r.ccclass,r.property,function(){this.err_count=3,this.init()});o.Stage=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e}(a);o.Stage1=c;var s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},e}(a);o.Stage2=s,cc._RF.pop()},{}],mine_Timer1:[function(t,e,o){"use strict";cc._RF.push(e,"d076d3tJVpIZJZnhjJHjEYU","mine_Timer1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=a(t("../Common/GameEvent")),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbl=null,e.txt="",e.count_number=0,e.max_number=0,e.t1=null,e.t2=null,e.t3=null,e.number_err_frame_array=[],e.stop=!1,e}return i(e,t),e.prototype.start=function(){this.timer()},e.prototype.timer=function(){var t=this;this.scheduleOnce(function(){if(!t.stop){t.count_number++;var e=Math.floor(t.count_number/60);t.t1.spriteFrame=t.number_err_frame_array[e];var o=Math.floor(t.count_number%60/10),n=t.count_number%10;t.t2.spriteFrame=t.number_err_frame_array[o],t.t3.spriteFrame=t.number_err_frame_array[n],t.count_number<t.max_number?t.timer():c.default.Instance().dispatch("timer_over")}},1)},e.prototype.timerStop=function(){this.stop=!0},r([u(cc.Label)],e.prototype,"lbl",void 0),r([u(cc.String)],e.prototype,"txt",void 0),r([u(cc.Integer)],e.prototype,"count_number",void 0),r([u(cc.Integer)],e.prototype,"max_number",void 0),r([u(cc.Sprite)],e.prototype,"t1",void 0),r([u(cc.Sprite)],e.prototype,"t2",void 0),r([u(cc.Sprite)],e.prototype,"t3",void 0),r([u([cc.SpriteFrame])],e.prototype,"number_err_frame_array",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../Common/GameEvent":"GameEvent"}],paipaizuo_AudioManager:[function(t,e,o){"use strict";cc._RF.push(e,"ec837HPHdhNmbkWqoAlSNAg","paipaizuo_AudioManager");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../paipaizuo_Enum"),c=r(t("./paipaizuo_DataManager")),s=r(t("./paipaizuo_ResourceManager")),l=function(){function t(){this.audioSource=null}return t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.init=function(){this.audioSource=new cc.AudioSource,this.audioSource.loop=!0,this.audioSource.volume=.3},t.prototype.playMusic=function(){return n(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return c.default.instance.isMusicOn?this.audioSource.clip?(this.audioSource.play(),[2]):[4,s.default.instance.getClip(a.ENUM_AUDIO_CLIP.BGM)]:[2];case 1:return t=e.sent(),this.audioSource.clip=t,this.audioSource.play(),[2]}})})},t.prototype.stopMusic=function(){this.audioSource.stop()},t.prototype.playSound=function(t,e){return void 0===e&&(e=!1),n(this,void 0,void 0,function(){var o;return i(this,function(n){switch(n.label){case 0:return c.default.instance.isSoundOn?[4,s.default.instance.getClip(t)]:[2];case 1:return o=n.sent(),[2,cc.audioEngine.playEffect(o,e)]}})})},t.prototype.stopSound=function(t){cc.audioEngine.stopEffect(t)},t._instance=null,t}();o.default=l,cc._RF.pop()},{"../paipaizuo_Enum":"paipaizuo_Enum","./paipaizuo_DataManager":"paipaizuo_DataManager","./paipaizuo_ResourceManager":"paipaizuo_ResourceManager"}],paipaizuo_Baselayer:[function(t,e,o){"use strict";cc._RF.push(e,"c4c6124ymhJQ586mKqT8BIT","paipaizuo_Baselayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.zoomIn=function(t,e,o){void 0===e&&(e=1.5),void 0===o&&(o=.3),t.setScale(e);var n=cc.scaleTo(o,1);cc.tween(t).then(n).start()},e.prototype.zoomOut=function(t,e,o){void 0===e&&(e=.5),void 0===o&&(o=.3),t.setScale(e);var n=cc.scaleTo(o,1);cc.tween(t).then(n).start()},e.prototype.flip=function(t){var e=cc.scaleTo(.1,0,1),o=cc.scaleTo(.1,1,1),n=cc.sequence(e,o);cc.tween(t).then(n).start()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],paipaizuo_DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"730a3DszhpGB4lxakYD51PT","paipaizuo_DataManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.LEVEL_DATA=o.GAME_DATA=void 0;var n=t("../paipaizuo_Enum");o.GAME_DATA={player_pos_start:120,player_pos_offset:80},o.LEVEL_DATA=[{prefab:"Level1",combine:4,locked:0,level:[{type:3,total:12}]},{prefab:"Level2",combine:4,locked:0,level:[{type:12,total:48},{type:11,total:44},{type:10,total:40},{type:9,total:36},{type:8,total:32},{type:7,total:28},{type:6,total:24},{type:5,total:40}]}];var i=function(){function t(){this.status=n.ENUM_GAME_STATUS.UNRUNING,this.loadingRate=0,this._isMusicOn=!0,this._isSoundOn=!0,this.games=[{title:"\u8fdb\u5382\u62e7\u87ba\u4e1d",icon:"logo_screw",appid:"wx506cc34bd98bdc7e",url:"https://store.cocos.com/app/search?name=carolsail"},{title:"\u8d27\u67dc\u559c\u6d88\u9664",icon:"logo_huogui",appid:"wx04385cb9a01bec04",url:"https://store.cocos.com/app/search?name=carolsail"},{title:"\u632a\u8f66\u51b2\u51b2\u51b2\u6e38\u620f",icon:"logo_car",appid:"wx0d61e0041ca571cc",url:"https://store.cocos.com/app/search?name=carolsail"},{title:"\u722c\u4e86\u4e2a\u722c",icon:"stairway",appid:"wx025bcf3a316bfa27",url:"https://store.cocos.com/app/search?name=carolsail"},{title:"\u6d88\u4e86\u4e2a\u6d88",icon:"xiao2d",appid:"wxefd5a4ddd8e31b44",url:"https://store.cocos.com/app/search?name=carolsail"}],this.level=1,this.levelMax=1,this.isSkillClearOne=!1,this.score=0}return t.getInstance=function(){return null===this._instance&&(this._instance=new t),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMusicOn",{get:function(){return this._isMusicOn},set:function(t){this._isMusicOn=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSoundOn",{get:function(){return this._isSoundOn},set:function(t){this._isSoundOn=t},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.status=n.ENUM_GAME_STATUS.UNRUNING,this.level=1,this.isSkillClearOne=!1},t.prototype.save=function(){cc.sys.localStorage.setItem("CC_BIRD_CLEAR",JSON.stringify({isSoundOn:this.isSoundOn,isMusicOn:this.isMusicOn,score:this.score}))},t.prototype.restore=function(){var t=cc.sys.localStorage.getItem("CC_BIRD_CLEAR");try{var e=JSON.parse(t);this.isMusicOn=!1!==(null==e?void 0:e.isMusicOn),this.isSoundOn=!1!==(null==e?void 0:e.isSoundOn),this.score="number"==typeof e.score?e.score:0}catch(o){this.isMusicOn=!0,this.isSoundOn=!0,this.score=0}},t._instance=null,t}();o.default=i,cc._RF.pop()},{"../paipaizuo_Enum":"paipaizuo_Enum"}],paipaizuo_EffectManager:[function(t,e,o){"use strict";cc._RF.push(e,"def54s79C1DBq7aJq3x4CWS","paipaizuo_EffectManager");var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var i=n(t("./paipaizuo_PoolManager")),r=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e,o){var n=i.default.instance.getNode(""+t,e);if(o&&o.pos&&n.setPosition(o.pos),n.getComponent(cc.Animation)){var r=n.getComponent(cc.Animation);r.on("finished",function(){n.removeFromParent()}),r.play()}else n.getComponent(cc.ParticleSystem)&&n.getComponent(cc.ParticleSystem).resetSystem()},t._instance=null,t}();o.default=r,cc._RF.pop()},{"./paipaizuo_PoolManager":"paipaizuo_PoolManager"}],paipaizuo_Enum:[function(t,e,o){"use strict";cc._RF.push(e,"ba51b7Eo7tMEZpBCFMe8ZyS","paipaizuo_Enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.ENUM_RESOURCE_TYPE=o.ENUM_PLAYER_STATUS=o.ENUM_UI_TYPE=o.ENUM_AUDIO_CLIP=o.ENUM_GAME_STATUS=void 0,function(t){t.UNRUNING="UNRUNING",t.RUNING="RUNING"}(o.ENUM_GAME_STATUS||(o.ENUM_GAME_STATUS={})),function(t){t.BGM="bgm",t.CLICK="click",t.LOSE="lose",t.WIN="win",t.WOO="woo",t.BROKEN="broken",t.SHUFFLE="shuffle",t.PLAYER_ACTIVE="player_active",t.PLAYER_UNACTIVE="player_unactive",t.PLAYER_JUMP="player_jump",t.PLAYER_MOVE="player_move"}(o.ENUM_AUDIO_CLIP||(o.ENUM_AUDIO_CLIP={})),function(t){t.MENU="MenuLayer",t.MAIN="MainLayer",t.SETTING="SettingLayer",t.EXIT="ExitLayer",t.LOSE="LoseLayer",t.WIN="WinLayer",t.MORE="MoreLayer",t.RANK="RankLayer"}(o.ENUM_UI_TYPE||(o.ENUM_UI_TYPE={})),function(t){t.SLEEP="player_sleep",t.IDLE="player_idle",t.ACTIVE="player_notice",t.JUMP="player_jump",t.FLY="player_fly"}(o.ENUM_PLAYER_STATUS||(o.ENUM_PLAYER_STATUS={})),o.ENUM_RESOURCE_TYPE=[{content:cc.AudioClip,path:"paipaizuo/audio",type:"audio",ratio:.4},{content:cc.Prefab,path:"paipaizuo/prefab",type:"prefab",ratio:.3},{content:cc.SpriteFrame,path:"paipaizuo/sprite",type:"sprite",ratio:.3}],cc._RF.pop()},{}],paipaizuo_EventManager:[function(t,e,o){"use strict";cc._RF.push(e,"bcae8q0UKhLAL4D4SoN+gEr","paipaizuo_EventManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.eventMap=new Map}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,o){this.eventMap.has(t)?this.eventMap.get(t).push({event:e,context:o}):this.eventMap.set(t,[{event:e,context:o}])},t.prototype.off=function(t,e){if(this.eventMap.has(t)){var o=this.eventMap.get(t),n=o.findIndex(function(t){return t.event==e});n>-1&&o.splice(n,1)}},t.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(this.eventMap.has(t)){var n=this.eventMap.get(t);n.forEach(function(t){var o=t.event,n=t.context;n?o.apply(n,e):o(e)})}},t.prototype.clear=function(){this.eventMap.clear()},t._instance=null,t}();o.default=n,cc._RF.pop()},{}],paipaizuo_ExitLayer:[function(t,e,o){"use strict";cc._RF.push(e,"f59aaMO+aRCaKxrXDrZSliI","paipaizuo_ExitLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=t("../paipaizuo_StaticInstance"),l=a(t("../manager/paipaizuo_AudioManager")),u=a(t("../manager/paipaizuo_DataManager")),p=a(t("../manager/paipaizuo_SdkManager")),h=a(t("./paipaizuo_Baselayer")),f=cc._decorator,d=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnSubmit=null,e.btnCancel=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnSubmit=cc.find("buttons/btn_submit",this.panel),this.btnCancel=cc.find("buttons/btn_cancel",this.panel),this.btnSubmit.on("click",this.onSubmitClick,this),this.btnCancel.on("click",this.onCancelClick,this)},e.prototype.onDestroy=function(){this.btnSubmit.off("click",this.onSubmitClick,this),this.btnCancel.off("click",this.onCancelClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),p.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onCancelClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT,!1)},e.prototype.onSubmitClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.status=c.ENUM_GAME_STATUS.UNRUNING,s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MAIN,!1),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT,!1),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},r([d("ExitLayer")],e)}(h.default));o.default=g,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_DataManager":"paipaizuo_DataManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_FadeManager:[function(t,e,o){"use strict";cc._RF.push(e,"00872TxwjFFprih9XF/Yufu","paipaizuo_FadeManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../paipaizuo_StaticInstance"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.active=!1,a.StaticInstance.setFadeManager(this)},e.prototype.fadeIn=function(t){var e=this;return void 0===t&&(t=.2),new Promise(function(o){e.node.active=!0,e.node.opacity=0,cc.tween(e.node).to(t,{opacity:255}).call(function(){o(null)}).start()})},e.prototype.fadeOut=function(t){var e=this;return void 0===t&&(t=.2),new Promise(function(o){e.node.active=!0,e.node.opacity=255,cc.tween(e.node).to(t,{opacity:0}).call(function(){e.node.active=!1,o(null)}).start()})},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../paipaizuo_StaticInstance":"paipaizuo_StaticInstance"}],paipaizuo_GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"8d970VZoPFL/L9/Lg/KHxlp","paipaizuo_GameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&r(e,t,o);return a(e,t),e},l=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var h=cc._decorator,f=h.ccclass,d=(h.property,t("../paipaizuo_Enum")),g=t("../paipaizuo_StaticInstance"),_=p(t("../bird/paipaizuo_Level")),y=p(t("./paipaizuo_AudioManager")),m=s(t("./paipaizuo_DataManager")),v=p(t("./paipaizuo_PoolManager")),b=p(t("./paipaizuo_SdkManager")),M=p(t("./paipaizuo_ToastManager")),S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stage=null,e.levelComponent=null,e}return i(e,t),e.prototype.onLoad=function(){g.StaticInstance.setGameManager(this),this.stage=cc.find("Stage",this.node)},e.prototype.onDestroy=function(){},e.prototype.onGameStart=function(){m.default.instance.reset(),this.initGame()},e.prototype.onGameOver=function(t){var e=this;m.default.instance.status=d.ENUM_GAME_STATUS.UNRUNING,g.StaticInstance.uiManager.setMainTimer(!1),t==d.ENUM_UI_TYPE.WIN?(2==m.default.instance.level&&y.default.instance.playSound(d.ENUM_AUDIO_CLIP.WIN),this.scheduleOnce(function(){2==m.default.instance.level?(m.default.instance.score+=5,m.default.instance.save(),b.default.instance.setRank(m.default.instance.score),m.default.instance.level=1,g.StaticInstance.uiManager.toggle(t)):(m.default.instance.level=2,e.initGame())},.5)):this.scheduleOnce(function(){g.StaticInstance.uiManager.toggle(t)},.5)},e.prototype.onGameSkill=function(t){var e=this;g.StaticInstance.uiManager.setMainTimer(!1),b.default.instance.showVideoAd(function(){return l(e,void 0,void 0,function(){return u(this,function(){return 0==t?(g.StaticInstance.uiManager.setMainSkillTip(!0),m.default.instance.isSkillClearOne=!0):this.levelComponent.onShuffle(),g.StaticInstance.uiManager.setMainTimer(!0),[2]})})},function(t){g.StaticInstance.uiManager.setMainTimer(!0),M.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})})},e.prototype.onGameRevive=function(){var t=this;g.StaticInstance.uiManager.setMainTimer(!1),b.default.instance.showVideoAd(function(){return l(t,void 0,void 0,function(){return u(this,function(){return this.levelComponent.onShuffle(),g.StaticInstance.uiManager.setMainTimer(!0),[2]})})},function(t){g.StaticInstance.uiManager.setMainTimer(!0),M.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})})},e.prototype.initGame=function(){return l(this,void 0,void 0,function(){var t,e;return u(this,function(o){switch(o.label){case 0:return m.default.instance.status=d.ENUM_GAME_STATUS.UNRUNING,this.stage.removeAllChildren(),t=m.LEVEL_DATA[m.default.instance.level-1].prefab,e=v.default.instance.getNode(""+t,this.stage),this.levelComponent=e.getComponent(_.default),this.levelComponent.init(),m.default.instance.status=d.ENUM_GAME_STATUS.RUNING,g.StaticInstance.uiManager.initMainLayer(),[4,g.StaticInstance.fadeManager.fadeOut()];case 1:return o.sent(),[2]}})})},c([f],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../bird/paipaizuo_Level":"paipaizuo_Level","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_AudioManager":"paipaizuo_AudioManager","./paipaizuo_DataManager":"paipaizuo_DataManager","./paipaizuo_PoolManager":"paipaizuo_PoolManager","./paipaizuo_SdkManager":"paipaizuo_SdkManager","./paipaizuo_ToastManager":"paipaizuo_ToastManager"}],paipaizuo_Index:[function(t,e,o){"use strict";cc._RF.push(e,"2ad7aJG+RlHhIhKQdH7f3o+","paipaizuo_Index");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("./paipaizuo_StaticInstance"),u=s(t("./manager/paipaizuo_AudioManager")),p=s(t("./manager/paipaizuo_DataManager")),h=s(t("./manager/paipaizuo_ResourceManager")),f=s(t("./manager/paipaizuo_SdkManager")),d=t("./paipaizuo_Enum"),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=this;this.node.getChildByName("UI").opacity=255,cc.view.setResizeCallback(function(){return t.responsive()}),this.responsive(),p.default.instance.loadingRate=0,cc.macro.ENABLE_MULTI_TOUCH=!1},e.prototype.onEnable=function(){return a(this,void 0,void 0,function(){var t,e,o,n,i;return c(this,function(r){switch(r.label){case 0:for(e in t=[],d.ENUM_RESOURCE_TYPE)t.push(e);o=0,r.label=1;case 1:return o<t.length?(n=t[o],i=d.ENUM_RESOURCE_TYPE[n],[4,h.default.instance.loadRes(i)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:return l.StaticInstance.uiManager.init(),p.default.instance.restore(),u.default.instance.playMusic(),f.default.instance.initAudioEndListener(),f.default.instance.passiveShare(),f.default.instance.getRank(),f.default.instance.initBannerAd(),f.default.instance.initInterstitialAd(),f.default.instance.initVideoAd(),f.default.instance.initCustomRowAd(),f.default.instance.initCustomColAd(),l.StaticInstance.uiManager.toggle(d.ENUM_UI_TYPE.MENU,!0,function(){p.default.instance.loadingRate=1}),[2]}})})},e.prototype.responsive=function(){},r([_],e)}(cc.Component));o.default=y,cc._RF.pop()},{"./manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","./manager/paipaizuo_DataManager":"paipaizuo_DataManager","./manager/paipaizuo_ResourceManager":"paipaizuo_ResourceManager","./manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","./paipaizuo_Enum":"paipaizuo_Enum","./paipaizuo_StaticInstance":"paipaizuo_StaticInstance"}],paipaizuo_Level:[function(t,e,o){"use strict";cc._RF.push(e,"0b80dL72iNPO7nJ0geFGUAn","paipaizuo_Level");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),a=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&r(e,t,o);return a(e,t),e},l=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},u=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var h=p(t("../manager/paipaizuo_AudioManager")),f=s(t("../manager/paipaizuo_DataManager")),d=p(t("../manager/paipaizuo_PoolManager")),g=p(t("../manager/paipaizuo_SdkManager")),_=p(t("../manager/paipaizuo_ToastManager")),y=t("../paipaizuo_Enum"),m=t("../paipaizuo_StaticInstance"),v=t("../paipaizuo_Utils"),b=p(t("./paipaizuo_Player")),M=cc._decorator,S=M.ccclass,O=(M.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.platforms=[],e.skinArr=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],e.typeArr=[],e.activePlayers=[],e.playerOutSpeed=2e3,e.currentCheckTime=0,e.isFlying=!1,e.isShuffling=!1,e.platformExtra=null,e.playerExtraRoot=null,e.isPlayerExtraActive=!1,e}return i(e,t),e.prototype.init=function(){this.isFlying=!1,this.isShuffling=!1,this.typeArr=[],this.activePlayers=[],this.platforms=this.node.getChildByName("platforms").children,this.initData();for(var t=0;t<this.platforms.length;t++){var e=this.platforms[t];e.hasEventListener("touchstart")||e.on("touchstart",this.onTouchStart,this)}if(this.platformExtra=this.node.getChildByName("platform_etra"),this.platformExtra){this.playerExtraRoot=this.platformExtra.getChildByName("player_root");var o=this.platformExtra.getChildByName("locked");o&&(o.hasEventListener("click")||o.on("click",this.onLockClick,this))}},e.prototype.initData=function(){for(var t,e=f.LEVEL_DATA[f.default.instance.level-1],o=e.combine,n=e.level,i=0;i<n.length;i++){for(var r=n[i],a=r.type,c=r.total,s=[],l=c%(o*a),u=0;u<c-l;u++)s.push(u%a);for(var p=0;p<Math.floor(l/o);p++)for(var h=v.random(1,a),d=0;d<o;d++)s.push(h);v.shuffle(s),(t=this.typeArr).push.apply(t,s)}this.initPlayer()},e.prototype.initPlayer=function(){for(var t=f.LEVEL_DATA[f.default.instance.level-1],e=t.combine,o=t.locked,n=v.random(0,this.platforms.length-o),i=0;i<this.platforms.length;i++)if((l=(s=this.platforms[i]).getChildByName("players")).removeAllChildren(),i!==n&&!s.getChildByName("locked"))for(var r=s.name.indexOf("Left")>=0?1:-1,a=0;a<e-1;a++)if((u=this.typeArr.pop())>=0){var c=-r*f.GAME_DATA.player_pos_start+r*f.GAME_DATA.player_pos_offset*a;d.default.instance.getNode("Player"+this.skinArr[u],l,cc.v3(c,0,0)).getComponent(b.default).init({type:u,status:y.ENUM_PLAYER_STATUS.IDLE})}for(i=0;i<this.platforms.length;i++){var s,l=(s=this.platforms[i]).getChildByName("players");if(r=s.name.indexOf("Left")>=0?1:-1,!s.getChildByName("locked"))for(a=0;a<e;a++){var u;(u=this.typeArr.pop())>=0&&(c=-r*(f.GAME_DATA.player_pos_start+f.GAME_DATA.player_pos_offset)+-r*f.GAME_DATA.player_pos_offset*a,d.default.instance.getNode("Player"+this.skinArr[u],l,cc.v3(c,0,0)).getComponent(b.default).init({type:u,status:y.ENUM_PLAYER_STATUS.SLEEP}))}}},e.prototype.rendorPlayer=function(t){var e=this;void 0===t&&(t=-1);var o=f.LEVEL_DATA[f.default.instance.level-1].combine;if(t>=0){var n=this.platforms[t],i=n.getChildByName("players"),r=i.children.filter(function(t){return t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.SLEEP}),a=1;if(n.name.indexOf("Left")>=0?(a=1,v.sort(r,"x",!1)):(a=-1,v.sort(r,"x",!0)),r.length)for(var c=r[0],s=c.x,l=c.y,u=0;u<r.length;u++){var p=r[u],h=p.getComponent(b.default),g=s+(r.length-u)*f.GAME_DATA.player_pos_offset*a;h.setStatus(y.ENUM_PLAYER_STATUS.IDLE),cc.tween(p).delay(.3).to(.5,{position:cc.v3(g,l,0)}).start()}this.typeArr.length&&this.scheduleOnce(function(){if(!(e.typeArr.length<=0))for(var t=0;t<o;t++){var n=e.typeArr.pop();if(n>=0){var r=-a*(f.GAME_DATA.player_pos_start+f.GAME_DATA.player_pos_offset)+-a*f.GAME_DATA.player_pos_offset*t;d.default.instance.getNode("Player"+e.skinArr[n],i,cc.v3(r,0,0)).getComponent(b.default).init({type:n,status:y.ENUM_PLAYER_STATUS.SLEEP})}}},.8)}},e.prototype.onTouchStart=function(t){var e=this;if(!this.isFlying){var o=t.currentTarget,n=o.getChildByName("players");if(this.isPlayerExtraActive&&this.playerExtraRoot&&this.playerExtraRoot.children.length){var i=this.playerExtraRoot.children[0],r=n.children.filter(function(t){return t.getComponent(b.default).status!==y.ENUM_PLAYER_STATUS.SLEEP});v.sort(r,"x",o.name.indexOf("Left")<0);var a=!1;return r.length?r.length<f.LEVEL_DATA[f.default.instance.level-1].combine&&r[0].getComponent(b.default).type==i.getComponent(b.default).type&&(a=!0):a=!0,void(a?(this.activePlayers.push(i),this.setMove(o,r),this.isPlayerExtraActive=!1):(i.getComponent(b.default).setStatus(y.ENUM_PLAYER_STATUS.IDLE),this.isPlayerExtraActive=!1))}if(f.default.instance.isSkillClearOne){for(var c=n.children.filter(function(t){return t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.IDLE||t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.ACTIVE}),s=t.getLocation(),p=n.convertToNodeSpaceAR(s),d=0;d<c.length;d++)if(c[d].getBoundingBox().contains(p)){this.onClear(c[d]);break}}else{if(o.getChildByName("locked"))return m.StaticInstance.uiManager.setMainTimer(!1),void g.default.instance.showVideoAd(function(){return l(e,void 0,void 0,function(){return u(this,function(){return h.default.instance.playSound(y.ENUM_AUDIO_CLIP.BROKEN),o.getChildByName("locked").destroy(),m.StaticInstance.uiManager.setMainTimer(!0),[2]})})},function(t){m.StaticInstance.uiManager.setMainTimer(!0),_.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})});var M=n.children;if(M=M.filter(function(t){return t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.IDLE}),v.sort(M,"x",o.name.indexOf("Left")>=0),this.activePlayers.length)if(this.activePlayers[0].parent.parent==o)h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_UNACTIVE),this.setActive();else if(0==M.length)this.setMove(o,M);else if(M[M.length-1].getComponent(b.default).type==this.activePlayers[0].getComponent(b.default).type)if(this.activePlayers.length>4-M.length)if(M.length>=f.LEVEL_DATA[f.default.instance.level-1].combine)h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_UNACTIVE),this.setActive();else{for(var S=this.activePlayers.length-(4-M.length),O=0;O<S;O++)(d=this.activePlayers.pop()).getComponent(b.default).setStatus(y.ENUM_PLAYER_STATUS.IDLE);this.setMove(o,M)}else this.setMove(o,M);else h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_UNACTIVE),this.setActive();else M.length&&(h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_ACTIVE),this.setActive(M))}}},e.prototype.setActive=function(t){if(void 0===t&&(t=[]),t.length)for(var e=t[t.length-1].getComponent(b.default).type,o=t.length-1;o>=0&&(i=(n=t[o]).getComponent(b.default)).type==e;o--)i.setStatus(y.ENUM_PLAYER_STATUS.ACTIVE),this.activePlayers.push(n);else{for(o=0;o<this.activePlayers.length;o++){var n,i;(i=(n=this.activePlayers[o]).getComponent(b.default)).setStatus(y.ENUM_PLAYER_STATUS.IDLE)}this.activePlayers=[]}},e.prototype.setMove=function(t,e){var o=this;h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_JUMP),this.isFlying=!0;var n=this.activePlayers.length,i=e.length,r=[];if(t.name.indexOf("Left")>=0)for(var a=0;a<n;a++){var c=cc.v3(-f.GAME_DATA.player_pos_start+f.GAME_DATA.player_pos_offset*i+f.GAME_DATA.player_pos_offset*a,0,0);r.push(c)}else for(a=0;a<n;a++)c=cc.v3(f.GAME_DATA.player_pos_start-f.GAME_DATA.player_pos_offset*i-f.GAME_DATA.player_pos_offset*a,0,0),r.push(c);var s=t.getChildByName("players");for(a=0;a<n;a++){var l=this.activePlayers[a];this.playerMoveTarget(l,s,r[a])}this.scheduleOnce(function(){var e=s.children.filter(function(t){return t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.IDLE&&t.getComponent(b.default).type==o.activePlayers[0].getComponent(b.default).type});if(e.length>=f.LEVEL_DATA[f.default.instance.level-1].combine){h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_MOVE);for(var n=0;n<e.length;n++){var i=e[n];o.playerMoveOut(i)}var r=o.platforms.findIndex(function(e){return e==t});o.rendorPlayer(r)}o.activePlayers=[],o.isFlying=!1},.3),this.checkClear()},e.prototype.isClear=function(){for(var t=!1,e=[],o=[],n=0;n<this.platforms.length;n++){var i=this.platforms[n];if((l=(l=i.getChildByName("players").children).filter(function(t){return t.getComponent(b.default).status!==y.ENUM_PLAYER_STATUS.SLEEP})).length){v.sort(l,"x",i.name.indexOf("Left")>=0),e.push(l);for(var r=[],a=l[l.length-1].getComponent(b.default).type,c=l.length-1;c>=0&&(h=(p=l[c]).getComponent(b.default).type)==a;c--)r.push(p);o.push(r)}}var s=new Map;for(n=0;n<e.length;n++)for(var l=e[n],u=0;u<l.length;u++){var p,h=(p=l[u]).getComponent(b.default).type;if(s.has(h)){var d=s.get(h);s.set(h,d+1)}else s.set(h,1)}if(this.playerExtraRoot&&this.playerExtraRoot.children.length){var g=this.playerExtraRoot.children[0].getComponent(b.default).type;s.has(g)&&(d=s.get(g),s.set(g,d+1))}var _=Array.from(s.values()),m=0;return _.length&&(m=v.getMax(_)),m>=f.LEVEL_DATA[f.default.instance.level-1].combine&&(t=!0),t},e.prototype.checkClear=function(t){void 0===t&&(t=!1);var e=(new Date).getTime();this.currentCheckTime=e,this.scheduleOnce(function(){if(e>=this.currentCheckTime){for(var o=0,n=0;n<this.platforms.length;n++)o+=this.platforms[n].getChildByName("players").children.length;if(this.playerExtraRoot&&(o+=this.playerExtraRoot.children.length),0==o)return void m.StaticInstance.gameManager.onGameOver(y.ENUM_UI_TYPE.WIN);this.isClear()||(t?this.onShuffle():m.StaticInstance.gameManager.onGameOver(y.ENUM_UI_TYPE.LOSE))}},.8)},e.prototype.playerMoveTarget=function(t,e,o){var n=t.getComponent(b.default),i=t.convertToWorldSpaceAR(cc.v2(0,0)),r=e.convertToNodeSpaceAR(i);t.setParent(e),t.setPosition(r),n.setStatus(y.ENUM_PLAYER_STATUS.FLY),cc.tween(t).to(.3,{position:o}).call(function(){t.getComponent(b.default).setStatus(y.ENUM_PLAYER_STATUS.IDLE)}).start()},e.prototype.playerMoveOut=function(t){var e=cc.winSize.width/2,o=(cc.winSize.height+100)/2,n=t.getComponent(b.default),i=t.convertToWorldSpaceAR(cc.v2(0,0)),r=m.StaticInstance.gameManager.stage.convertToNodeSpaceAR(i),a=cc.v3(v.random(-e,e),o,0),c=v.getDistance(r,a)/this.playerOutSpeed;t.setParent(m.StaticInstance.gameManager.stage),t.setPosition(r),n.setStatus(y.ENUM_PLAYER_STATUS.JUMP),cc.tween(t).delay(.3).to(c,{position:a}).call(function(){t.destroy()}).start()},e.prototype.playerMoveNest=function(){if(this.typeArr.length){var t=this.typeArr.pop(),e=this.playerExtraRoot.convertToNodeSpaceAR(cc.v2(0,cc.winSize.height+50)),o=d.default.instance.getNode("Player"+this.skinArr[t],this.playerExtraRoot,cc.v3(e.x,e.y,0)),n=o.getComponent(b.default);n.init({type:t,status:y.ENUM_PLAYER_STATUS.FLY}),cc.tween(o).to(.3,{position:cc.v3(0,0,0)}).call(function(){n.setStatus(y.ENUM_PLAYER_STATUS.IDLE)}).start()}else _.default.instance.show("\u5019\u8865\u52a8\u7269\u5df2\u7528\u5b8c",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},e.prototype.onShuffle=function(){var t,e=this;if(!this.isShuffling){this.isShuffling=!0,h.default.instance.playSound(y.ENUM_AUDIO_CLIP.SHUFFLE),this.setActive();for(var o=[],n=[],i=0;i<this.platforms.length;i++)for(var r=this.platforms[i].getChildByName("players").children,a=0;a<r.length;a++){var c=r[a],s=c.getComponent(b.default);n.push(c),o.push(s.type)}(t=this.typeArr).push.apply(t,o),v.shuffle(this.typeArr);for(var l=function(t){var o=n[t],i=cc.scaleTo(.1,0,.55),r=cc.callFunc(function(){0==t&&e.initPlayer()}),a=cc.sequence(i,r);cc.tween(o).then(a).call(function(){return[e.isShuffling=!1]}).start()},u=0;u<n.length;u++)l(u)}},e.prototype.onClear=function(t){h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_MOVE),this.setActive();var e=t.getComponent(b.default).type,o=0;if(this.typeArr.length)for(var n=0;n<this.typeArr.length;n++)this.typeArr[n]==e&&o<3&&(o+=1,this.typeArr.splice(n,1),n-=1);var i=[],r=f.LEVEL_DATA[f.default.instance.level-1].combine-1-o;if(r>0)for(n=0;n<this.platforms.length;n++)for(var a=(p=this.platforms[n]).getChildByName("players").children,c=0;c<a.length;c++){var s=(u=a[c]).getComponent(b.default);u!==t&&i.length<r&&s.type==e&&i.push(u)}if(i.length<r&&this.playerExtraRoot&&this.playerExtraRoot.children.length){var l=this.playerExtraRoot.children[0];this.playerMoveOut(l)}for(i.push(t),n=0;n<i.length;n++){var u=i[n];this.playerMoveOut(u)}for(n=0;n<this.platforms.length;n++){var p,d=(a=(p=this.platforms[n]).getChildByName("players").children).filter(function(t){return t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.IDLE}),g=a.filter(function(t){return t.getComponent(b.default).status==y.ENUM_PLAYER_STATUS.SLEEP});if(p.name.indexOf("Left")>=0){for(v.sort(d,"x",!0),c=0;c<d.length;c++){var _=d[c],M=_.y,S=_.z;cc.tween(d[c]).delay(.3).to(.3,{position:cc.v3(f.GAME_DATA.player_pos_offset*c-120,M,S)}).start()}for(v.sort(g,"x",!1),c=0;c<g.length;c++){var O=g[c];M=O.y,S=O.z,cc.tween(g[c]).delay(.3).to(.3,{position:cc.v3(-200-f.GAME_DATA.player_pos_offset*c,M,S)}).start()}}else{for(v.sort(d,"x",!1),c=0;c<d.length;c++){var P=d[c];M=P.y,S=P.z,cc.tween(d[c]).delay(.3).to(.3,{position:cc.v3(120-f.GAME_DATA.player_pos_offset*c,M,S)}).start()}for(v.sort(g,"x",!0),c=0;c<g.length;c++){var C=g[c];M=C.y,S=C.z,cc.tween(g[c]).delay(.3).to(.3,{position:cc.v3(200+f.GAME_DATA.player_pos_offset*c,M,S)}).start()}}}f.default.instance.isSkillClearOne=!1,m.StaticInstance.uiManager.setMainSkillTip(!1),this.checkClear(!0)},e.prototype.onLockClick=function(t){var e=this;this.setActive(),t.node.opacity>0?(m.StaticInstance.uiManager.setMainTimer(!1),g.default.instance.showVideoAd(function(){return l(e,void 0,void 0,function(){return u(this,function(){return h.default.instance.playSound(y.ENUM_AUDIO_CLIP.BROKEN),t.node.opacity=0,this.playerMoveNest(),m.StaticInstance.uiManager.setMainTimer(!0),[2]})})},function(t){m.StaticInstance.uiManager.setMainTimer(!0),_.default.instance.show(t,{gravity:"TOP",bg_color:cc.color(226,69,109,255)})})):this.playerExtraRoot.children.length?this.isPlayerExtraActive||(this.playerExtraRoot.children[0].getComponent(b.default).setStatus(y.ENUM_PLAYER_STATUS.ACTIVE),this.isPlayerExtraActive=!0):(h.default.instance.playSound(y.ENUM_AUDIO_CLIP.PLAYER_JUMP),this.playerMoveNest())},c([S],e)}(cc.Component));o.default=O,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_DataManager":"paipaizuo_DataManager","../manager/paipaizuo_PoolManager":"paipaizuo_PoolManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../manager/paipaizuo_ToastManager":"paipaizuo_ToastManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","../paipaizuo_Utils":"paipaizuo_Utils","./paipaizuo_Player":"paipaizuo_Player"}],paipaizuo_LoadingLayer:[function(t,e,o){"use strict";cc._RF.push(e,"b7d33NTIg1I64wjeethME6E","paipaizuo_LoadingLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=a(t("./paipaizuo_Baselayer")),l=t("../paipaizuo_StaticInstance"),u=a(t("../manager/paipaizuo_DataManager")),p=cc._decorator,h=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadfill=null,e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.update=function(){this.loadfill&&this.node.active&&(this.loadfill.fillRange=u.default.instance.loadingRate,u.default.instance.loadingRate>=1&&l.StaticInstance.uiManager.isActive(c.ENUM_UI_TYPE.MENU)&&this.hide())},r([f(cc.Sprite)],e.prototype,"loadfill",void 0),r([h],e)}(s.default);o.default=d,cc._RF.pop()},{"../manager/paipaizuo_DataManager":"paipaizuo_DataManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_LoseLayer:[function(t,e,o){"use strict";cc._RF.push(e,"e883bJ5DOZPloE6nblod31s","paipaizuo_LoseLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../paipaizuo_Enum"),u=t("../paipaizuo_StaticInstance"),p=s(t("../manager/paipaizuo_AudioManager")),h=s(t("../manager/paipaizuo_SdkManager")),f=s(t("./paipaizuo_Baselayer")),d=cc._decorator,g=d.ccclass,_=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnRestart=null,e.btnRevive=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnRevive=cc.find("buttons/btn_revive",this.panel),this.btnRestart.on("click",this.onRestartClick,this),this.btnRevive.on("click",this.onReviveClick,this)},e.prototype.onDestroy=function(){this.btnRestart.off("click",this.onRestartClick,this),this.btnRevive.off("click",this.onReviveClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),h.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onRestartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),[4,u.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.LOSE,!1),u.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onReviveClick=function(){p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),u.StaticInstance.gameManager.onGameRevive(),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.LOSE,!1)},r([g("LoseLayer")],e)}(f.default));o.default=_,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_MainLayer:[function(t,e,o){"use strict";cc._RF.push(e,"b8a38CmJ0lL+Kfn1N+Rc5ts","paipaizuo_MainLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=t("../paipaizuo_StaticInstance"),l=t("../paipaizuo_Utils"),u=a(t("../manager/paipaizuo_AudioManager")),p=a(t("../manager/paipaizuo_DataManager")),h=a(t("./paipaizuo_Baselayer")),f=cc._decorator,d=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e.tipNotice=null,e.skills=null,e.skillTip=null,e.timerLabel=null,e.timer=0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.btnPause=this.node.getChildByName("btn_pause"),this.btnPause.on("click",this.onPauseClick,this),this.tipNotice=this.node.getChildByName("tip_notice"),this.skills=this.node.getChildByName("skills"),this.skillTip=this.node.getChildByName("skill_tip");var e=this.node.getChildByName("timer");this.timerLabel=e.getComponent(cc.Label);for(var o=function(e){var o=n.skills.children[e];o.hasEventListener("click")||o.on("click",function(){t.onSkillClick(e)})},n=this,i=0;i<this.skills.children.length;i++)o(i)},e.prototype.onDestroy=function(){this.btnPause.off("click",this.onPauseClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.initLayer=function(){1==p.default.instance.level?(this.timer=0,this.skills.active=!0):(this.skills.active=!0,u.default.instance.playSound(c.ENUM_AUDIO_CLIP.WOO),this.setLevelTip()),this.setSkillTip(!1),this.timerLabel.string=""+l.formatSeconds(this.timer,"i:s"),this.setTimerStart()},e.prototype.onPauseClick=function(){u.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.EXIT)},e.prototype.setLevelTip=function(){this.tipNotice.stopAllActions(),this.tipNotice.x=600;var t=cc.moveTo(.3,0,this.tipNotice.y),e=cc.delayTime(.8),o=cc.moveTo(.3,-600,this.tipNotice.y),n=cc.sequence(t,e,o);cc.tween(this.tipNotice).then(n).start()},e.prototype.setTimerStart=function(){var t=this;this.setTimerStop(),this.timerLabel.schedule(function(){t.timer+=1,t.timerLabel.string=""+l.formatSeconds(t.timer,"i:s")},1)},e.prototype.setTimerStop=function(){this.timerLabel.unscheduleAllCallbacks()},e.prototype.setSkillTip=function(t){this.skillTip.active=t},e.prototype.onSkillClick=function(t){u.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.gameManager.onGameSkill(t)},r([d("MainLayer")],e)}(h.default));o.default=g,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_DataManager":"paipaizuo_DataManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","../paipaizuo_Utils":"paipaizuo_Utils","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_MenuLayer:[function(t,e,o){"use strict";cc._RF.push(e,"97d58YYPfRAyr1KeCTZ228a","paipaizuo_MenuLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../paipaizuo_Enum"),u=t("../paipaizuo_StaticInstance"),p=s(t("../manager/paipaizuo_AudioManager")),h=s(t("../manager/paipaizuo_SdkManager")),f=s(t("../manager/paipaizuo_ToastManager")),d=s(t("./paipaizuo_Baselayer")),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStart=null,e.btnSetting=null,e.btnGames=null,e.btnShare=null,e.btnRank=null,e}return i(e,t),e.prototype.onLoad=function(){this.btnStart=cc.find("main/btn_start",this.node),this.btnRank=cc.find("main/btn_rank",this.node),this.btnSetting=cc.find("bottom/btn_setting",this.node),this.btnGames=cc.find("bottom/btn_games",this.node),this.btnShare=cc.find("bottom/btn_share",this.node),this.btnStart.on("click",this.onStartClick,this),this.btnRank.on("click",this.onRankClick,this),this.btnSetting.on("click",this.onSettingClick,this),this.btnGames.on("click",this.onGamesClick,this),this.btnShare.on("click",this.onShareClick,this)},e.prototype.onDestroy=function(){this.btnStart.off("click",this.onStartClick,this),this.btnRank.off("click",this.onRankClick,this),this.btnSetting.off("click",this.onSettingClick,this),this.btnGames.off("click",this.onGamesClick,this),this.btnShare.off("click",this.onShareClick,this)},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.onStartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),[4,u.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!1),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MAIN),u.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onSettingClick=function(){p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!1),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.SETTING)},e.prototype.onGamesClick=function(){p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!1),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MORE)},e.prototype.onShareClick=function(){p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),h.default.instance.getPlatform()?h.default.instance.activeShare():f.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},e.prototype.onRankClick=function(){p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.MENU,!1),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.RANK)},r([_("MenuLayer")],e)}(d.default));o.default=y,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../manager/paipaizuo_ToastManager":"paipaizuo_ToastManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_MoreLayer:[function(t,e,o){"use strict";cc._RF.push(e,"54749/V8DdPzLNyEC6H7hK5","paipaizuo_MoreLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=t("../paipaizuo_StaticInstance"),l=a(t("../manager/paipaizuo_AudioManager")),u=a(t("../manager/paipaizuo_DataManager")),p=a(t("../manager/paipaizuo_PoolManager")),h=a(t("../manager/paipaizuo_ResourceManager")),f=a(t("../manager/paipaizuo_SdkManager")),d=a(t("../plugins/paipaizuo_UIScrollControl")),g=a(t("./paipaizuo_Baselayer")),_=cc._decorator,y=_.ccclass,m=(_.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.scrollNode=null,e.scrollItem=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.scrollNode=cc.find("scroll",this.panel),this.scrollItem=p.default.instance.getNode("MoreItem"),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendor(),f.default.instance.toggleCustomRowAd(!0)},e.prototype.onDisable=function(){f.default.instance.toggleCustomRowAd(!1)},e.prototype.rendor=function(){var t=this,e=u.default.instance.games,o=!1;this.scrollNode.getComponent(d.default).init(this.scrollItem,e.length,cc.size(500,110),0,function(n,i){o||(o=!0,t.scrollNode.getComponent(cc.ScrollView).scrollToTop());var r=e[i];n.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=h.default.instance.getSprite(""+r.icon),n.getChildByName("title").getComponent(cc.Label).string=""+r.title,n.hasEventListener("click")?(n.off("click"),n.on("click",function(){t.onItemClick(r)},t)):n.on("click",function(){t.onItemClick(r)},t)},function(t){t.scrollToTop()})},e.prototype.onItemClick=function(t){var e="";void 0===window.wx?e=t.url:(l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),e=t.appid),e&&f.default.instance.turnToApp(e)},e.prototype.onCloseClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MORE,!1),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},r([y("MoreLayer")],e)}(g.default));o.default=m,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_DataManager":"paipaizuo_DataManager","../manager/paipaizuo_PoolManager":"paipaizuo_PoolManager","../manager/paipaizuo_ResourceManager":"paipaizuo_ResourceManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","../plugins/paipaizuo_UIScrollControl":"paipaizuo_UIScrollControl","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_Player:[function(t,e,o){"use strict";cc._RF.push(e,"70f05lO5u9HVqY9aeeewPyg","paipaizuo_Player");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../paipaizuo_Enum"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.type=-1,e.status=a.ENUM_PLAYER_STATUS.IDLE,e}return i(e,t),e.prototype.init=function(t){Object.assign(this,t),this.anim=this.node.getComponent(cc.Animation),this.setStatus(this.status)},e.prototype.setStatus=function(t){this.status=t,this.setAnim()},e.prototype.setAnim=function(){this.anim.play(this.status)},r([s],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../paipaizuo_Enum":"paipaizuo_Enum"}],paipaizuo_PoolManager:[function(t,e,o){"use strict";cc._RF.push(e,"a46f4A6CpBE04BZI8Amk1vE","paipaizuo_PoolManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._dictPool={},this._dictPrefab={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.copyNode=function(t,e){var o=t.name;this._dictPrefab[o]=t;var n=null;if(this._dictPool.hasOwnProperty(o))n=(i=this._dictPool[o]).size()>0?i.get():cc.instantiate(t);else{var i=new cc.NodePool;this._dictPool[o]=i,n=cc.instantiate(t)}return e&&(n.parent=e,n.active=!0),n},t.prototype.getNode=function(t,e,o){var n,i;if("string"==typeof t){if(i=t,!(n=this._dictPrefab[t]))return console.log("Pool invalid prefab name = ",i),null}else n=t,i=t.data.name;var r=null;if(this._dictPool.hasOwnProperty(i))r=(a=this._dictPool[i]).size()>0?a.get():cc.instantiate(n);else{var a=new cc.NodePool;this._dictPool[i]=a,r=cc.instantiate(n)}return e&&(r.parent=e,r.active=!0,o&&(r.position=o)),r},t.prototype.putNode=function(t,e){if(void 0===e&&(e=!1),t){var o=t.name,n=null;this._dictPool.hasOwnProperty(o)?n=this._dictPool[o]:(n=new cc.NodePool,this._dictPool[o]=n),n.put(t)}},t.prototype.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},t.prototype.setPrefab=function(t,e){this._dictPrefab[t]=e},t.prototype.getPrefab=function(t){return this._dictPrefab[t]},t._instance=null,t}();o.default=n,cc._RF.pop()},{}],paipaizuo_RankLayer:[function(t,e,o){"use strict";cc._RF.push(e,"18c6d0zCiZMtb7IVWHF9kvW","paipaizuo_RankLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=t("../paipaizuo_StaticInstance"),l=a(t("../manager/paipaizuo_AudioManager")),u=a(t("../manager/paipaizuo_SdkManager")),p=a(t("../manager/paipaizuo_ToastManager")),h=a(t("./paipaizuo_Baselayer")),f=cc._decorator,d=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnClose=null,e.btnShare=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnClose=cc.find("btn_close",this.panel),this.btnShare=cc.find("btn_share",this.panel),this.btnClose.on("click",this.onCloseClick,this),this.btnShare.on("click",this.onShareClick,this)},e.prototype.onDestroy=function(){this.btnClose.off("click",this.onCloseClick,this),this.btnShare.off("click",this.onShareClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),u.default.instance.getRank(),u.default.instance.showInterstitialAd(),u.default.instance.toggleBannerAd(!0)},e.prototype.onDisable=function(){u.default.instance.toggleBannerAd(!1)},e.prototype.onItemClick=function(t){var e="";void 0===window.wx?e=t.url:(l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),e=t.appid),e&&u.default.instance.turnToApp(e)},e.prototype.onCloseClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.RANK,!1),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},e.prototype.onShareClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.getPlatform()?u.default.instance.activeShare():p.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},r([d("RankLayer")],e)}(h.default));o.default=g,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../manager/paipaizuo_ToastManager":"paipaizuo_ToastManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_ResourceManager:[function(t,e,o){"use strict";cc._RF.push(e,"ab2a6CEvxhMQ77c3CMn4zMe","paipaizuo_ResourceManager");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../../miniGamePackage/utils/SubResourceUtils"),c=r(t("./paipaizuo_DataManager")),s=r(t("./paipaizuo_PoolManager")),l=function(){function t(){this.clipMap={},this.spriteMap={},this.jsonMap={}}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.loadRes=function(t,e){return void 0===e&&(e=0),n(this,void 0,void 0,function(){var e=this;return i(this,function(){return[2,new Promise(function(o){c.default.instance.loadingRate,a.SubResourceUtils.getInst().loadDir(t.path,t.content,function(n){var i;if(console.log(n),c.default.instance.loadingRate=1,"audio"==t.type)for(var r=0;r<n.length;r++)i=n[r],e.clipMap[i.name]||(e.clipMap[i.name]=i);if("prefab"==t.type)for(r=0;r<n.length;r++)i=n[r],s.default.instance.setPrefab(i.data.name,i);if("sprite"==t.type)for(r=0;r<n.length;r++)i=n[r],e.spriteMap[i.name]||(e.spriteMap[i.name]=i);if("json"==t.type)for(r=0;r<n.length;r++)i=n[r],e.jsonMap[i.name]||(e.jsonMap[i.name]=i.json);o&&o()})})]})})},t.prototype.getClip=function(t){return this.clipMap[t]},t.prototype.getSprite=function(t){return this.spriteMap[t]},t.prototype.getJson=function(t){return this.jsonMap[t]},t._instance=null,t}();o.default=l,cc._RF.pop()},{"../../../miniGamePackage/utils/SubResourceUtils":void 0,"./paipaizuo_DataManager":"paipaizuo_DataManager","./paipaizuo_PoolManager":"paipaizuo_PoolManager"}],paipaizuo_SdkManager:[function(t,e,o){"use strict";cc._RF.push(e,"63001T9hINHxKQXF9QDpdaI","paipaizuo_SdkManager");var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var i=n(t("./paipaizuo_AudioManager")),r=function(){function t(){this.shareTitle="\u597d\u73a9\u4e0a\u5934\u7684\u6e38\u620f\uff0c\u4f60\u6562\u63a5\u53d7\u6311\u6218\u5417\uff1f",this.shareImg="",this.videoId="",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="",this.bannerAd=null,this.customRowId="",this.customRowAd=null,this.customColId="",this.customColAd=null,this.videoRecorder=null,this.videoRecordState=0,this.videoStartTime=null,this.videoRecordTime=120,this.videoPath=null,this.videoIsExist=0,this.videoTopics=[]}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.getPlatform=function(){var t=null;return cc.sys.platform==cc.sys.WECHAT_GAME?t=window.wx:cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(t=window.tt),t},t.prototype.activeShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.shareAppMessage(t)):console.log("\u3010\u4e3b\u52a8\u5206\u4eab\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.passiveShare=function(t){void 0===t&&(t={title:"",imageUrl:"",query:""});var e=this.getPlatform();e?(e.showShareMenu({success:function(){},fail:function(){}}),t.title=t.title||this.shareTitle,t.imageUrl=t.imageUrl||this.shareImg,e.onShareAppMessage(function(){return t})):console.log("\u3010\u88ab\u52a8\u5206\u4eab\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getShareQuery=function(t){var e=this.getPlatform();if(e){var o=e.getLaunchOptionsSync().query,n=null;return o&&o[t]&&(n=o[t]),n}console.log("\u3010\u5206\u4eab\u53c2\u6570\u83b7\u53d6\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.turnToApp=function(t){if(""!=t){var e=this.getPlatform();e?e.navigateToMiniProgram({appId:t}):this.turnToBrowser(t)}},t.prototype.turnToBrowser=function(t){window.open(t)},t.prototype.initAudioEndListener=function(){void 0!==window.wx?window.wx.onAudioInterruptionEnd(function(){console.log("\u97f3\u9891\u4e2d\u65ad\uff0c\u6062\u590d\u64ad\u653e"),i.default.instance.playMusic()}):console.log("\u3010\u97f3\u9891\u4e2d\u65ad\u76d1\u542c\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.initBannerAd=function(){var t=this,e=this.getPlatform();if(e)if(""!=this.bannerId){var o=e.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=e.createBannerAd({adUnitId:this.bannerId,adIntervals:30,style:{height:o.windowHeight-80,left:0,top:500,width:o.windowWidth}}),this.bannerAd.onResize(function(){t.bannerAd.style.top=o.windowHeight-t.bannerAd.style.realHeight,t.bannerAd.style.left=o.windowWidth/2-t.bannerAd.style.realWidth/2}),this.bannerAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5e45\u5e7f\u544aID");else console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleBannerAd=function(t){this.getPlatform()?this.bannerAd&&(t?this.bannerAd.show():this.bannerAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5e45:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initInterstitialAd=function(){var t=this.getPlatform();t?""!=this.interstitialId?null==this.interstitialAd&&(this.interstitialAd=t.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u521d\u59cb\u5316\u6709\u8bef")})):console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u63d2\u5c4f\u5e7f\u544aID"):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.showInterstitialAd=function(){this.getPlatform()?this.interstitialAd&&this.interstitialAd.show().catch(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u52a0\u8f7d\u5931\u8d25")}):console.log("\u3010\u6d41\u91cf\u4e3b\u63d2\u5c4f\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initVideoAd=function(){var t=this.getPlatform();t?""!=this.videoId?null==this.videoAd&&(this.videoAd=t.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u3011\u521d\u59cb\u5316\u6709\u8bef")})):console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6fc0\u52b1\u89c6\u9891\u5e7f\u544aID"):console.log("\u3010\u6d41\u91cf\u4e3b\u6fc0\u52b1\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.showVideoAd=function(t,e){var o=this;return this.getPlatform()?this.videoAd?(this.videoAd.offClose(),this.videoAd.onClose(function(n){return o.videoAd.offClose(),n&&n.isEnded||void 0===n?t&&t("\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e"):e&&e("\u89c6\u9891\u64ad\u653e\u4e2d\u65ad")}),void this.videoAd.show().catch(function(){o.videoAd.load().then(function(){return o.videoAd.show()}).catch(function(){console.log("\u5e7f\u544a\u5c55\u793a\u5931\u8d25")})})):e&&e("\u8be5\u529f\u80fd\u5c1a\u672a\u5f00\u653e"):t&&t("\u6a21\u62df\u6210\u529f\uff0c\u6fc0\u52b1\u5956\u52b1\u5df2\u53d1\u653e")},t.prototype.initCustomRowAd=function(){var t=this.getPlatform();if(t)if(""!=this.customRowId){var e=t.getSystemInfoSync();null==this.customRowAd&&(this.customRowAd=t.createCustomAd({adUnitId:this.customRowId,adIntervals:30,style:{width:320,left:(e.screenWidth-320)/2,top:e.screenHeight-100,fixed:0}}),this.customRowAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u6a2a\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u6a2a\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleCustomRowAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customRowAd&&(t?this.customRowAd.show():this.customRowAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u6a2a\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.initCustomColAd=function(){var t=this.getPlatform();if(t)if(""!=this.customColId){var e=t.getSystemInfoSync();null==this.customColAd&&(this.customColAd=t.createCustomAd({adUnitId:this.customColId,adIntervals:30,style:{width:e.screenWidth-20,left:10,top:(e.screenHeight-350)/2,fixed:0}}),this.customColAd.onError(function(){console.error("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50\u3011\u521d\u59cb\u5316\u6709\u8bef")}))}else console.log("\u3010\u6d41\u91cf\u4e3b\u3011\u8bf7\u914d\u7f6e\u7eb5\u5411\u683c\u5b50\u5e7f\u544aID");else console.log("\u3010\u7eb5\u5411\u683c\u5b50\u521d\u59cb\u5316\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.toggleCustomColAd=function(t){void 0===t&&(t=!0),this.getPlatform()?this.customColAd&&(t?this.customColAd.show():this.customColAd.hide()):console.log("\u3010\u6d41\u91cf\u4e3b\u7eb5\u5411\u683c\u5b50:"+t+"\u3011\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0!")},t.prototype.getRank=function(){void 0!==window.wx?window.wx.postMessage({event:"getRank"}):console.log("\u3010\u83b7\u53d6\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!")},t.prototype.setRank=function(t){void 0!==window.wx?window.wx.postMessage({event:"setRank",data:t}):console.log("\u3010\u8bbe\u7f6e\u6392\u540d\u3011\u4ec5\u652f\u6301\u5fae\u4fe1\u5e73\u53f0!",t)},t.prototype.recordingVideoStart=function(){var t=this;void 0!==window.tt?(this.videoRecorder=window.tt.getGameRecorderManager(),this.videoRecordState=1,this.videoIsExist=0,this.videoStartTime=Date.parse((new Date).toString()),this.videoRecorder.onStart(function(){}),this.videoRecorder.start({duration:this.videoRecordTime}),this.videoRecorder.onStop(function(e){t.videoRecordState=2,t.videoPath=e.videoPath}),this.videoRecorder.onError(function(){})):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.recordingVideoEnd=function(){void 0!==window.tt?this.videoRecorder&&((Date.parse((new Date).toString())-this.videoStartTime)/1e3<=5?this.videoIsExist=1:this.videoIsExist=0,this.videoRecorder.stop()):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.recordingVideoShare=function(t,e){void 0!==window.tt?1!=this.videoIsExist?(this.videoRecordState=3,window.tt.shareAppMessage({channel:"video",title:"",imageUrl:"",query:"",extra:{videoPath:this.videoPath,videoTopics:this.videoTopics,createChallenge:!0},success:function(){t&&t()},fail:function(){e&&e()}})):console.log("\u5f55\u5236\u65f6\u95f4\u8fc7\u77ed"):console.log("\u3010\u5f55\u5c4f\u529f\u80fd\u3011\u4ec5\u652f\u6301\u6296\u97f3\u5e73\u53f0!")},t.prototype.isVideoExist=function(){return this.videoIsExist},t._instance=null,t}();o.default=r,cc._RF.pop()},{"./paipaizuo_AudioManager":"paipaizuo_AudioManager"}],paipaizuo_SettingLayer:[function(t,e,o){"use strict";cc._RF.push(e,"6a411jRBVtEtqqh//hwPevV","paipaizuo_SettingLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=t("../paipaizuo_StaticInstance"),l=a(t("../manager/paipaizuo_AudioManager")),u=a(t("../manager/paipaizuo_DataManager")),p=a(t("../manager/paipaizuo_SdkManager")),h=a(t("./paipaizuo_Baselayer")),f=cc._decorator,d=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnMusic=null,e.btnSound=null,e.btnClose=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnMusic=cc.find("buttons/btn_music",this.panel),this.btnSound=cc.find("buttons/btn_sound",this.panel),this.btnClose=cc.find("btn_close",this.panel),this.btnMusic.on("click",this.onMusicClick,this),this.btnSound.on("click",this.onSoundClick,this),this.btnClose.on("click",this.onCloseClick,this)},e.prototype.onDestroy=function(){this.btnMusic.off("click",this.onMusicClick,this),this.btnSound.off("click",this.onSoundClick,this),this.btnClose.off("click",this.onCloseClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),this.rendorMusic(),this.rendorSound(),p.default.instance.toggleBannerAd(!0)},e.prototype.onDisable=function(){p.default.instance.toggleBannerAd(!1)},e.prototype.onCloseClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.SETTING,!1),s.StaticInstance.uiManager.toggle(c.ENUM_UI_TYPE.MENU)},e.prototype.onSoundClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isSoundOn=!u.default.instance.isSoundOn,u.default.instance.save(),this.rendorSound()},e.prototype.onMusicClick=function(){l.default.instance.playSound(c.ENUM_AUDIO_CLIP.CLICK),u.default.instance.isMusicOn=!u.default.instance.isMusicOn,u.default.instance.save(),u.default.instance.isMusicOn?l.default.instance.playMusic():l.default.instance.stopMusic(),this.rendorMusic()},e.prototype.rendorMusic=function(){this.btnMusic.getChildByName("on").active=u.default.instance.isMusicOn,this.btnMusic.getChildByName("off").active=!u.default.instance.isMusicOn},e.prototype.rendorSound=function(){this.btnSound.getChildByName("on").active=u.default.instance.isSoundOn,this.btnSound.getChildByName("off").active=!u.default.instance.isSoundOn},r([d("SettingLayer")],e)}(h.default));o.default=g,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_DataManager":"paipaizuo_DataManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],paipaizuo_StaticInstance:[function(t,e,o){"use strict";cc._RF.push(e,"31748QuQytEOq/oPsfl5606","paipaizuo_StaticInstance"),Object.defineProperty(o,"__esModule",{value:!0}),o.StaticInstance=void 0;var n=function(){function t(){}return t.setUIManager=function(e){t.uiManager=e},t.setGameManager=function(e){t.gameManager=e},t.setFadeManager=function(e){t.fadeManager=e},t.uiManager=void 0,t.gameManager=void 0,t.fadeManager=void 0,t}();o.StaticInstance=n,cc._RF.pop()},{}],paipaizuo_ToastManager:[function(t,e,o){"use strict";cc._RF.push(e,"65526wGEY1OtL0HXs6ylAE2","paipaizuo_ToastManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},Object.defineProperty(t,"instance",{get:function(){return this.getInstance()},enumerable:!1,configurable:!0}),t.prototype.show=function(t,e){void 0===t&&(t="");var o=void 0===e?{}:e,n=o.gravity,i=void 0===n?"CENTER":n,r=o.duration,a=void 0===r?1:r,c=o.bg_color,s=void 0===c?cc.color(102,102,102,200):c,l=cc.director.getScene().getComponentInChildren(cc.Canvas),u=l.node.width,p=l.node.height,h=new cc.Node;h.group="ui";var f=new cc.Node,d=f.addComponent(cc.Label);d.horizontalAlign=cc.Label.HorizontalAlign.CENTER,d.verticalAlign=cc.Label.VerticalAlign.CENTER,d.fontSize=30,d.string=t,t.length*d.fontSize>3*u/5?(f.width=3*u/5,d.overflow=cc.Label.Overflow.RESIZE_HEIGHT):f.width=t.length*d.fontSize;var g=1+~~(t.length*d.fontSize/(3*u/5));f.height=d.fontSize*g;var _=h.addComponent(cc.Graphics);_.arc(-f.width/2,0,f.height/2+20,.5*Math.PI,1.5*Math.PI,!0),_.lineTo(f.width/2,-(f.height/2+20)),_.arc(f.width/2,0,f.height/2+20,1.5*Math.PI,.5*Math.PI,!0),_.lineTo(-f.width/2,f.height/2+20),_.fillColor=s,_.fill(),h.addChild(f),"CENTER"===i?(h.y=0,h.x=0):"TOP"===i?h.y=h.y+p/5*2:"BOTTOM"===i&&(h.y=h.y-p/5*2),l.node.addChild(h);var y=cc.callFunc(function(){h.destroy()}),m=cc.sequence(cc.moveBy(a,cc.v2(0,0)),cc.fadeOut(.3),y);cc.tween(h).then(m).start()},t._instance=null,t}();o.default=n,cc._RF.pop()},{}],paipaizuo_UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"d8b44067ShG7IzfSj2CqGMD","paipaizuo_UIManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../paipaizuo_Enum"),s=t("../paipaizuo_StaticInstance"),l=a(t("./paipaizuo_PoolManager")),u=cc._decorator,p=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiMap=new Map,e}return i(e,t),e.prototype.onLoad=function(){s.StaticInstance.setUIManager(this)},e.prototype.init=function(){for(var t in c.ENUM_UI_TYPE){var e=l.default.instance.getNode(c.ENUM_UI_TYPE[t],this.node);e&&!this.uiMap.has(c.ENUM_UI_TYPE[t])&&(e.active=!1,e.addComponent(c.ENUM_UI_TYPE[t]),this.uiMap.set(c.ENUM_UI_TYPE[t],e.getComponent(c.ENUM_UI_TYPE[t])))}},e.prototype.toggle=function(t,e,o){if(void 0===e&&(e=!0),this.uiMap.has(t)){var n=this.uiMap.get(t);e?n.show():n.hide(),o&&o()}},e.prototype.isActive=function(t){return!!this.uiMap.has(t)&&this.uiMap.get(t).node.active},e.prototype.getActiveTypes=function(){var t=this,e=[];return this.uiMap.forEach(function(o,n){t.isActive(n)&&e.push(n)}),e},e.prototype.initMainLayer=function(){var t=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);null==t||t.initLayer()},e.prototype.setMainTimer=function(t){var e=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);t?null==e||e.setTimerStart():null==e||e.setTimerStop()},e.prototype.setMainSkillTip=function(t){var e=this.uiMap.get(c.ENUM_UI_TYPE.MAIN);null==e||e.setSkillTip(t)},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_PoolManager":"paipaizuo_PoolManager"}],paipaizuo_UIScrollControl:[function(t,e,o){"use strict";cc._RF.push(e,"1fcb2WvHxRC155F55xivO4E","paipaizuo_UIScrollControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ENUM_SCROLL_DIR=void 0;var a,c=cc._decorator,s=c.ccclass;c.property,function(t){t[t.V=0]="V",t[t.H=1]="H"}(a=o.ENUM_SCROLL_DIR||(o.ENUM_SCROLL_DIR={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollView=null,e.contentSize=null,e.scrollDirection=a.V,e.totalCount=0,e.itemCount=0,e.childrenList=[],e.itemDistance=0,e.contentSizeStart=null,e.isStartFlag=!1,e.theMaxID=0,e.refreshCB=null,e}return i(e,t),e.prototype.init=function(t,e,o,n,i,r){if(i&&(this.refreshCB=i),0==this.isStartFlag){if(this.scrollView=this.node.getComponent(cc.ScrollView),null==this.scrollView||null==this.scrollView.content)return;this.scrollView.content.parent.setAnchorPoint(cc.v2(.5,.5));var c=this.scrollView.content.parent.getComponent(cc.Widget);null==c&&(c=this.scrollView.content.parent.addComponent(cc.Widget)),c.isAlignLeft=!0,c.left=0,c.isAlignRight=!0,c.right=0,c.isAlignTop=!0,c.top=0,c.isAlignBottom=!0,c.bottom=0,this.contentSize=new cc.Size(this.scrollView.node.getContentSize()),this.scrollView.content.setContentSize(this.contentSize),this.contentSizeStart=this.scrollView.content.getContentSize()}if(null!=t){if(this.scrollView.content.setContentSize(this.contentSizeStart),this.clear(),this.totalCount=e,this.scrollDirection=n,n==a.V){this.scrollView.content.setAnchorPoint(cc.v2(.5,1)),this.scrollView.content.setContentSize(cc.size(this.contentSizeStart.width,this.totalCount*o.height)),this.scrollView.content.setPosition(cc.v2(0,-this.totalCount*o.height/2));var s=Math.floor(this.contentSizeStart.height/o.height);this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=o.height}else n==a.H&&(this.scrollView.content.setAnchorPoint(cc.v2(0,.5)),this.scrollView.content.setContentSize(cc.size(this.totalCount*o.width,this.contentSizeStart.height)),this.scrollView.content.setPosition(cc.v2(this.totalCount*o.width/2,0)),s=Math.floor(this.contentSizeStart.width/o.width),this.itemCount=s+2,this.totalCount<=this.itemCount&&(this.itemCount=this.totalCount),this.itemDistance=o.width);if(this.scrollView.scrollEvents.length<=0){var l=new cc.Component.EventHandler;l.target=this.node,l.component="UIScrollControl",l.handler="OnScroll",this.scrollView.scrollEvents.push(l)}this.isStartFlag,this.theMaxID=0,this.initShowAreaItems(t,r)}},e.prototype.clear=function(){this.scrollView.content.removeAllChildren(),this.childrenList=[]},e.prototype.initShowAreaItems=function(t,e){for(var o=0;o<this.itemCount;o++){var n=cc.v2(0,0),i=cc.instantiate(t);this.scrollView.content.addChild(i),i.active=!0,i.opacity=255,this.scrollDirection==a.V?n.y=-this.itemDistance/2-this.itemDistance*o:this.scrollDirection==a.H&&(n.x=this.itemDistance/2+this.itemDistance*o),i.name="cell_"+o,i.setAnchorPoint(cc.v2(.5,.5)),i.setPosition(n),this.onRefresh(i,o,o),this.childrenList.push(i)}e&&e(this.scrollView)},e.prototype.OnScroll=function(){var t=this.scrollView.getScrollOffset(),e=0;this.scrollDirection==a.V?e=t.y:this.scrollDirection==a.H&&(e=-t.x),this.refreshLayout(e)},e.prototype.refreshLayout=function(t){var e=t,o=this.totalCount*this.itemDistance;if(!(e<0||e+this.contentSize.height>=o)){for(var n=0,i=Math.floor(e/this.itemDistance),r=0;r<this.itemCount;r++){var a=this.childrenList[r];n=i+r,this.refreshItem(n,r,a)}this.theMaxID=i+this.itemCount}},e.prototype.refreshItem=function(t,e,o){if(!(t<0||t>=this.totalCount)&&null!=o){var n=cc.Vec2.ZERO;this.scrollDirection==a.H?n.x=this.itemDistance/2+this.itemDistance*t:this.scrollDirection==a.V&&(n.y=-this.itemDistance/2-this.itemDistance*t),o.setPosition(n),this.onRefresh(o,t,e)}},e.prototype.onRefresh=function(t,e,o){null!=this.refreshCB&&this.refreshCB(t,e,o)},r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],paipaizuo_Utils:[function(t,e,o){"use strict";cc._RF.push(e,"322b4EMkcBG4acKxYz5WLJO","paipaizuo_Utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.toXY=o.getSum=o.getMax=o.getAngle=o.getDistance=o.formatSeconds=o.sortSpriteNameByNum=o.sort=o.shuffle=o.random=void 0,o.random=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},o.shuffle=function(t){for(var e,o,n=t.length;n;)o=t[e=Math.floor(Math.random()*n--)],t[e]=t[n],t[n]=o;return t},o.sort=function(t,e,o){if(void 0===o&&(o=!0),t instanceof Array)return t.sort(function(t,n){return t[e]>n[e]?o?1:-1:t[e]<n[e]?o?-1:1:0})},o.sortSpriteNameByNum=function(t){var e=function(t){return parseInt(t.match(/\d+/g)[0]||"0")};return t.sort(function(t,o){return e(t.name)-e(o.name)})},o.formatSeconds=function(t,e){void 0===e&&(e="h:i:s"),t=Number(t);var o={};return o.h=Number.parseInt(String(t/3600)),o.i=Number.parseInt(String((t-3600*o.h)/60)),o.s=Number.parseInt(String(t-3600*o.h-60*o.i)),o.h<10&&(o.h="0"+o.h),o.i<10&&(o.i="0"+o.i),o.s<10&&(o.s="0"+o.s),e.replace("h",o.h).replace("i",o.i).replace("s",o.s)},o.getDistance=function(t,e){var o=cc.v2(t.x-e.x,t.y-e.y);return Math.sqrt(o.x*o.x+o.y*o.y)},o.getAngle=function(t,e){var o=e.x-t.x,n=e.y-t.y;return-cc.v2(o,n).signAngle(cc.v2(1,0))/Math.PI*180},o.getMax=function(t){return t.reduce(function(t,e){return t>e?t:e})},o.getSum=function(t){return t.reduce(function(t,e){return t+e})},o.toXY=function(t,e){var o=t.convertToWorldSpaceAR(cc.v2(0,0));return e.convertToNodeSpaceAR(o)},cc._RF.pop()},{}],paipaizuo_WinLayer:[function(t,e,o){"use strict";cc._RF.push(e,"8fb27dg+CZE5b7NHp1rIFH1","paipaizuo_WinLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0});var l=t("../paipaizuo_Enum"),u=t("../paipaizuo_StaticInstance"),p=s(t("../manager/paipaizuo_AudioManager")),h=s(t("../manager/paipaizuo_SdkManager")),f=s(t("../manager/paipaizuo_ToastManager")),d=s(t("./paipaizuo_Baselayer")),g=cc._decorator,_=g.ccclass,y=(g.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.panel=null,e.btnRestart=null,e.btnShare=null,e}return i(e,t),e.prototype.onLoad=function(){this.panel=cc.find("style/panel",this.node),this.btnRestart=cc.find("buttons/btn_restart",this.panel),this.btnShare=cc.find("buttons/btn_share",this.panel),this.btnRestart.on("click",this.onRestartClick,this),this.btnShare.on("click",this.onShareClick,this)},e.prototype.onDestroy=function(){this.btnRestart.off("click",this.onRestartClick,this),this.btnShare.off("click",this.onShareClick,this)},e.prototype.onEnable=function(){this.zoomIn(this.panel),h.default.instance.showInterstitialAd()},e.prototype.onDisable=function(){},e.prototype.onRestartClick=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),[4,u.StaticInstance.fadeManager.fadeIn()];case 1:return t.sent(),u.StaticInstance.uiManager.toggle(l.ENUM_UI_TYPE.WIN,!1),u.StaticInstance.gameManager.onGameStart(),[2]}})})},e.prototype.onShareClick=function(){p.default.instance.playSound(l.ENUM_AUDIO_CLIP.CLICK),h.default.instance.getPlatform()?h.default.instance.activeShare():f.default.instance.show("\u4ec5\u652f\u6301\u5c0f\u6e38\u620f\u5e73\u53f0",{gravity:"TOP",bg_color:cc.color(226,69,109,255)})},r([_("WinLayer")],e)}(d.default));o.default=y,cc._RF.pop()},{"../manager/paipaizuo_AudioManager":"paipaizuo_AudioManager","../manager/paipaizuo_SdkManager":"paipaizuo_SdkManager","../manager/paipaizuo_ToastManager":"paipaizuo_ToastManager","../paipaizuo_Enum":"paipaizuo_Enum","../paipaizuo_StaticInstance":"paipaizuo_StaticInstance","./paipaizuo_Baselayer":"paipaizuo_Baselayer"}],ring_ErrorItem:[function(t,e,o){"use strict";cc._RF.push(e,"b148eztFL1FBZhuRLEohaTq","ring_ErrorItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDestroy=function(){cc.Tween.stopAllByTarget(this.node)},e.prototype.init=function(){var t=this;cc.tween(this.node).set({scale:.5}).to(.5,{scale:1.5},{easing:"sineOut"}).delay(.3).call(function(){t.node.destroy()}).start()},e.prototype.start=function(){this.init()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ring_EventMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e3334NaDnJOQKuwKLkwyg8W","ring_EventMgr"),Object.defineProperty(o,"__esModule",{value:!0}),o.EventMgr=o.eventMsg=void 0;var n=cc._decorator;n.ccclass,n.property,o.eventMsg={hasLogin:"hasLogin",updateTl:"updateTl",onProgress:"onProgress",loadComplete:"loadComplete",loadConfig:"loadConfig"};var i=function(){function t(){}return Object.defineProperty(t,"instance",{get:function(){return this._instance?this._instance:(this._instance=new cc.EventTarget,this._instance)},enumerable:!1,configurable:!0}),t}();o.EventMgr=i,cc._RF.pop()},{}],ring_GameMgr:[function(t,e,o){"use strict";cc._RF.push(e,"2fe9apvtk5Eh7h9vyIP4tqu","ring_GameMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameMgr=o.State=void 0;var a=t("./ring_EventMgr"),c=cc._decorator,s=c.ccclass,l=c.property;(function(t){t[t.GAME=0]="GAME",t[t.MOVE=1]="MOVE",t[t.CHECK=2]="CHECK",t[t.PAUSE=3]="PAUSE",t[t.SUCCESS=4]="SUCCESS",t[t.FAIL=5]="FAIL"})(o.State||(o.State={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.preRightItem=null,e.preErrorItem=null,e.preLayerLevel1=null,e.preLayerLevel2=null,e.preLayerLevel3=null,e.canvas=null,e.unLockDis=67,e.rotateAngle=6,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.sc=this,cc.game.setFrameRate(59),cc.debug.setDisplayStats(!1),this.canvas=this.node;var t=this.getComponent(cc.Canvas);cc.view.getVisibleSize().width/cc.view.getVisibleSize().height>t.designResolution.width/t.designResolution.height?(t.fitHeight=!0,t.fitWidth=!1,console.log("fitHeight")):(t.fitHeight=!1,t.fitWidth=!0,console.log("fitWidth"))},e.prototype.showLayer=function(t){var e=cc.instantiate(t);return e.setPosition(cc.v2()),this.canvas.addChild(e),e},e.prototype.start=function(){var t=cc.sys.localStorage.getItem("unLockDis");this.unLockDis=t?parseInt(t):67;var e=cc.sys.localStorage.getItem("rotateAngle");this.rotateAngle=e?parseInt(e):6,a.EventMgr.instance.emit(a.eventMsg.loadConfig,this)},e.sc=null,r([l(cc.Prefab)],e.prototype,"preRightItem",void 0),r([l(cc.Prefab)],e.prototype,"preErrorItem",void 0),r([l(cc.Prefab)],e.prototype,"preLayerLevel1",void 0),r([l(cc.Prefab)],e.prototype,"preLayerLevel2",void 0),r([l(cc.Prefab)],e.prototype,"preLayerLevel3",void 0),o=r([s],e)}(cc.Component);o.GameMgr=u,cc._RF.pop()},{"./ring_EventMgr":"ring_EventMgr"}],ring_Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"32857jCJFVDs7n1jVfI67An","ring_Helloworld");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){this.label.string=this.text},r([s(cc.Label)],e.prototype,"label",void 0),r([s],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],ring_LayerLevel1:[function(t,e,o){"use strict";cc._RF.push(e,"1f4b99S1EBE+IKPdPhduSxM","ring_LayerLevel1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.LayerLevel1=void 0;var c=t("./ring_GameMgr"),s=a(t("./ring_LayerMenu")),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flag1=!1,e.flag1_2=!1,e.flag1_3=!1,e.flag2=!1,e.flag3=!1,e.flag4=!1,e.flag4_1=!1,e.flag4_2=!1,e.flag4_3=!1,e.flag5=!1,e.flag6=!1,e.flag6_1=!1,e.flag6_2=!1,e.flag6_3=!1,e.flag7=!1,e.flag8=!1,e.flag9=!1,e.flag9_1=!1,e.flag9_2=!1,e.flag9_3=!1,e.flag10=!1,e.unLockDis=67,e.tempPre=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){for(var t=1;t<=10;t++)this["circle"+t]=this.node.getChildByName("circle"+t),this["circle"+t].on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this["circle"+t].on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this["circle"+t].on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this["circle"+t].on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this);this.out1=this.circle1.getChildByName("out"),this.key1_1=this.circle1.getChildByName("key1"),this.key1_2=this.circle1.getChildByName("key2"),this.key1_3=this.circle1.getChildByName("key3"),this.out2=this.circle2.getChildByName("out"),this.out3=this.circle3.getChildByName("out"),this.out4=this.circle4.getChildByName("out"),this.key4_1=this.circle4.getChildByName("key1"),this.key4_2=this.circle4.getChildByName("key2"),this.key4_3=this.circle4.getChildByName("key3"),this.out5=this.circle5.getChildByName("out"),this.out6=this.circle6.getChildByName("out"),this.key6_1=this.circle6.getChildByName("key1"),this.key6_2=this.circle6.getChildByName("key2"),this.key6_3=this.circle6.getChildByName("key3"),this.out7=this.circle7.getChildByName("out"),this.out8=this.circle8.getChildByName("out"),this.out9=this.circle9.getChildByName("out"),this.key9_1=this.circle9.getChildByName("key1"),this.key9_2=this.circle9.getChildByName("key2"),this.key9_3=this.circle9.getChildByName("key3"),this.out10=this.circle10.getChildByName("out")},e.prototype.init=function(){},e.prototype.start=function(){c.GameMgr.sc._state=c.State.GAME,this.unLockDis=c.GameMgr.sc.unLockDis},e.prototype.reset=function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel3),this.node.destroy()},e.prototype.onTouchStart=function(t){c.GameMgr.sc._state==c.State.GAME&&(this.tempStart=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onTouchMove=function(t){if(c.GameMgr.sc._state==c.State.GAME){this.tempPre=this.node.convertToNodeSpaceAR(t.getPreviousLocation()),this.tempEnd=this.node.convertToNodeSpaceAR(t.getLocation());var e=this.tempEnd.sub(this.tempPre).normalize();if(0!=e.x||0!=e.y){if("circle1"==t.target.name){if(this.flag1_2&&this.flag1_3)return;if(!this.flag5)return void this.shake(1)}if(!("circle2"==t.target.name&&this.flag2||"circle3"==t.target.name&&this.flag3)){if("circle4"==t.target.name){if(this.flag4_1&&this.flag4_2&&this.flag4_3)return;if(!this.flag5||!this.flag7||!this.flag8)return void this.shake(4)}if("circle5"!=t.target.name||!this.flag5){if("circle6"==t.target.name){if(this.flag6_1&&this.flag6_2&&this.flag6_3)return;if(!this.flag2||!this.flag3||!this.flag5)return void this.shake(6)}if(!("circle7"==t.target.name&&this.flag7||"circle8"==t.target.name&&this.flag8)){if("circle9"==t.target.name){if(this.flag9_1&&this.flag9_2&&this.flag9_3)return;if(!this.flag5||!this.flag8||!this.flag10)return void this.shake(9)}"circle10"==t.target.name&&this.flag10||this.rotate(t,e)}}}}}},e.prototype.onTouchEnd=function(t){if(c.GameMgr.sc._state==c.State.GAME){if("circle2"==t.target.name){var e=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_2.convertToWorldSpaceAR(cc.Vec2.ZERO));e<this.unLockDis?this.circle2.angle=-72:o<this.unLockDis&&(this.circle2.angle=66)}if("circle3"==t.target.name&&this.distance(this.out3.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_1.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis&&(this.circle3.angle=0),"circle5"==t.target.name){var n=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_3.convertToWorldSpaceAR(cc.Vec2.ZERO)),i=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),r=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_3.convertToWorldSpaceAR(cc.Vec2.ZERO)),a=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_1.convertToWorldSpaceAR(cc.Vec2.ZERO));n<this.unLockDis?this.circle5.angle=65:i<this.unLockDis?this.circle5.angle=115:r<this.unLockDis?this.circle5.angle=-63:a<this.unLockDis&&(this.circle5.angle=-115)}if("circle7"==t.target.name&&this.distance(this.out7.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_3.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis&&(this.circle7.angle=175),"circle8"==t.target.name){var s=this.distance(this.out8.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),l=this.distance(this.out8.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_2.convertToWorldSpaceAR(cc.Vec2.ZERO));s<this.unLockDis?this.circle8.angle=-125:l<this.unLockDis&&(this.circle8.angle=130)}"circle10"==t.target.name&&this.distance(this.out10.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_3.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis&&(this.circle10.angle=187),this.scheduleOnce(function(){this.check(),this.checkSuccess()},.1)}},e.prototype.check=function(){this.check1(),this.check2(),this.check3(),this.check4(),this.check5(),this.check6(),this.check7(),this.check8(),this.check9(),this.check10()},e.prototype.check1=function(){if(!this.flag1){var t=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_3.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag1_2=!0:this.flag1_2=!1,e<this.unLockDis?this.flag1_3=!0:this.flag1_3=!1,(this.flag1_2||this.flag2)&&(this.flag1_3||this.flag5)&&(this.flag1=!0,cc.tween(this.circle1).to(.5,{opacity:0}).start(),cc.tween(this.circle1).by(.5,{position:new cc.Vec3(-100,100,0)}).start())}},e.prototype.check2=function(){if(!this.flag2){var t=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_2.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag1_2=!0:this.flag1_2=!1,e<this.unLockDis?this.flag6_2=!0:this.flag6_2=!1,(this.flag1||this.flag1_2)&&(this.flag6||this.flag6_2)&&(this.flag2=!0,cc.tween(this.circle2).to(.5,{opacity:0}).start(),cc.tween(this.circle2).by(.5,{position:new cc.Vec3(0,100,0)}).start())}},e.prototype.check3=function(){this.flag3||(this.distance(this.out3.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_1.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis?this.flag6_1=!0:this.flag6_1=!1,(this.flag6_1||this.flag6)&&(this.flag3=!0,cc.tween(this.circle3).to(.5,{opacity:0}).start(),cc.tween(this.circle3).by(.5,{position:new cc.Vec3(0,100,0)}).start()))},e.prototype.check4=function(){if(!this.flag4){var t=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out7.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_3.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out8.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_2.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag4_1=!0:this.flag4_1=!1,e<this.unLockDis?this.flag4_3=!0:this.flag4_3=!1,o<this.unLockDis?this.flag4_2=!0:this.flag4_2=!1,(this.flag4_1||this.flag5)&&(this.flag4_2||this.flag8)&&(this.flag4_3||this.flag7)&&(this.flag4=!0,cc.tween(this.circle4).to(.5,{opacity:0}).start(),cc.tween(this.circle4).by(.5,{position:new cc.Vec3(-100,0,0)}).start())}},e.prototype.check5=function(){if(!this.flag5){var t=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_3.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_3.convertToWorldSpaceAR(cc.Vec2.ZERO)),n=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_1.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag1_3=!0:this.flag1_3=!1,e<this.unLockDis?this.flag4_1=!0:this.flag4_1=!1,o<this.unLockDis?this.flag6_3=!0:this.flag6_3=!1,n<this.unLockDis?this.flag9_1=!0:this.flag9_1=!1,(this.flag1_3||this.flag1)&&(this.flag4_1||this.flag4)&&(this.flag6_3||this.flag6)&&(this.flag9_1||this.flag9)&&(this.flag5=!0,cc.tween(this.circle5).to(.5,{opacity:0}).start(),cc.tween(this.circle5).by(.5,{position:new cc.Vec3(0,-100,0)}).start())}},e.prototype.check6=function(){if(!this.flag6){var t=this.distance(this.out3.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key6_3.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag6_1=!0:this.flag6_1=!1,e<this.unLockDis?this.flag6_2=!0:this.flag6_2=!1,o<this.unLockDis?this.flag6_3=!0:this.flag6_3=!1,(this.flag6_1||this.flag3)&&(this.flag6_2||this.flag2)&&(this.flag6_3||this.flag5)&&(this.flag6=!0,cc.tween(this.circle6).to(.5,{opacity:0}).start(),cc.tween(this.circle6).by(.5,{position:new cc.Vec3(100,0,0)}).start())}},e.prototype.check7=function(){this.flag7||(this.distance(this.out7.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_3.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis?this.flag4_3=!0:this.flag4_3=!1,(this.flag4_3||this.flag4)&&(this.flag7=!0,cc.tween(this.circle7).to(.5,{opacity:0}).start(),cc.tween(this.circle7).by(.5,{position:new cc.Vec3(0,-100,0)}).start()))},e.prototype.check8=function(){if(!this.flag8){var t=this.distance(this.out8.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out8.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_2.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag4_2=!0:this.flag4_2=!1,e<this.unLockDis?this.flag9_2=!0:this.flag9_2=!1,(this.flag4_2||this.flag4)&&(this.flag9_2||this.flag9)&&(this.flag8=!0,cc.tween(this.circle8).to(.5,{opacity:0}).start(),cc.tween(this.circle8).by(.5,{position:new cc.Vec3(0,-100,0)}).start())}},e.prototype.check9=function(){if(!this.flag9){var t=this.distance(this.out5.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out8.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out10.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_3.convertToWorldSpaceAR(cc.Vec2.ZERO));t<this.unLockDis?this.flag9_1=!0:this.flag9_1=!1,e<this.unLockDis?this.flag9_2=!0:this.flag9_2=!1,o<this.unLockDis?this.flag9_3=!0:this.flag9_3=!1,(this.flag9_1||this.flag5)&&(this.flag9_2||this.flag8)&&(this.flag9_3||this.flag10)&&(this.flag9=!0,cc.tween(this.circle9).to(.5,{opacity:0}).start(),cc.tween(this.circle9).by(.5,{position:new cc.Vec3(100,0,0)}).start())}},e.prototype.check10=function(){this.flag10||(this.distance(this.out10.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key9_3.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis?this.flag9_3=!0:this.flag9_3=!1,(this.flag9_3||this.flag9)&&(this.flag10=!0,cc.tween(this.circle10).to(.5,{opacity:0}).start(),cc.tween(this.circle10).by(.5,{position:new cc.Vec3(0,-100,0)}).start()))},e.prototype.shake=function(t){var e=this;this["flagShake"+t]||(this["flagShake"+t]=!0,cc.tween(this["circle"+t]).by(.1,{angle:5}).by(.1,{angle:-10}).by(.1,{angle:10}).by(.1,{angle:-10}).by(.1,{angle:5}).call(function(){e["flagShake"+t]=!1}).start())},e.prototype.rotate=function(t){this.tempEnd=t.target.convertToNodeSpaceAR(t.getLocation()),this.tempPre=t.target.convertToNodeSpaceAR(t.getPreviousLocation());var e=180*this.tempPre.signAngle(cc.Vec2.UP)/Math.PI,o=180*this.tempEnd.signAngle(cc.Vec2.UP)/Math.PI;o>e?t.target.angle-=c.GameMgr.sc.rotateAngle:o<e&&(t.target.angle+=c.GameMgr.sc.rotateAngle)},e.prototype.checkSuccess=function(){this.flag1&&this.flag2&&this.flag3&&this.flag4&&this.flag5&&this.flag6&&this.flag7&&this.flag8&&this.flag9&&this.flag10&&(c.GameMgr.sc._state=c.State.SUCCESS,this.scheduleOnce(function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preRightItem).setPosition(new cc.Vec3(0,0))},.5),this.scheduleOnce(function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel2),this.node.destroy()},2))},e.prototype.distance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},e.prototype.bindBack=function(){this.node.destroy(),s.default.sc.node.active=!0},e.prototype.update=function(){},r([u],e)}(cc.Component));o.LayerLevel1=p,cc._RF.pop()},{"./ring_GameMgr":"ring_GameMgr","./ring_LayerMenu":"ring_LayerMenu"}],ring_LayerLevel2:[function(t,e,o){"use strict";cc._RF.push(e,"258c0KV5ClBsLuf+0FBfkBR","ring_LayerLevel2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.LayerLevel2=void 0;var c=t("./ring_GameMgr"),s=a(t("./ring_LayerMenu")),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flag1=!1,e.flag2=!1,e.flag2_1=!1,e.flag3=!1,e.flag3_1=!1,e.flag4=!1,e.flag4_1=!1,e.unLockDis=67,e.tempPre=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){for(var t=1;t<=4;t++)this["circle"+t]=this.node.getChildByName("circle"+t),this["circle"+t].on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this["circle"+t].on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this["circle"+t].on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this["circle"+t].on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this);this.out1=this.circle1.getChildByName("out"),this.key2_1=this.circle2.getChildByName("key1"),this.out2=this.circle2.getChildByName("out"),this.key3_1=this.circle3.getChildByName("key1"),this.out3=this.circle3.getChildByName("out"),this.key4_1=this.circle4.getChildByName("key1"),this.out4=this.circle4.getChildByName("out")},e.prototype.init=function(){},e.prototype.start=function(){c.GameMgr.sc._state=c.State.GAME,this.unLockDis=c.GameMgr.sc.unLockDis},e.prototype.reset=function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel2),this.node.destroy()},e.prototype.onTouchStart=function(t){c.GameMgr.sc._state==c.State.GAME&&(this.tempStart=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onTouchMove=function(t){if(c.GameMgr.sc._state==c.State.GAME){this.tempPre=this.node.convertToNodeSpaceAR(t.getPreviousLocation()),this.tempEnd=this.node.convertToNodeSpaceAR(t.getLocation());var e=this.tempEnd.sub(this.tempPre).normalize();if(!(0==e.x&&0==e.y||"circle1"==t.target.name&&this.flag1)){if("circle2"==t.target.name){if(this.flag2)return;if(!this.flag1)return void this.shake(2);if(!this.flag2&&((o=this.circle2.angle)<0?o=360+o:o>360&&(o-=360),o>55&&o<125))return void(o<90?t.target.angle-=5:t.target.angle+=5)}if("circle3"==t.target.name){if(this.flag3)return;if(!this.flag2)return void this.shake(3);var o;if(!this.flag3&&((o=this.circle3.angle)<0?o=360+o:o>360&&(o-=360),o>230&&o<310))return void(o<270?t.target.angle-=5:t.target.angle+=5)}if("circle4"==t.target.name){if(this.flag4)return;if(!this.flag3)return void this.shake(4)}this.rotate(t,e)}}},e.prototype.shake=function(t){var e=this;this["flagShake"+t]||(this["flagShake"+t]=!0,cc.tween(this["circle"+t]).by(.1,{angle:5}).by(.1,{angle:-10}).by(.1,{angle:10}).by(.1,{angle:-10}).by(.1,{angle:5}).call(function(){e["flagShake"+t]=!1}).start())},e.prototype.rotate=function(t){this.tempEnd=t.target.convertToNodeSpaceAR(t.getLocation()),this.tempPre=t.target.convertToNodeSpaceAR(t.getPreviousLocation());var e=180*this.tempPre.signAngle(cc.Vec2.UP)/Math.PI,o=180*this.tempEnd.signAngle(cc.Vec2.UP)/Math.PI;o>e?t.target.angle-=c.GameMgr.sc.rotateAngle:o<e&&(t.target.angle+=c.GameMgr.sc.rotateAngle)},e.prototype.onTouchEnd=function(t){c.GameMgr.sc._state==c.State.GAME&&("circle1"==t.target.name&&this.distance(this.out1.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_1.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis&&(this.circle1.angle=-92),"circle2"==t.target.name&&this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key3_1.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis&&(this.circle2.angle=178),"circle3"==t.target.name&&this.distance(this.out3.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_1.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis&&(this.circle3.angle=92),this.scheduleOnce(function(){this.check(),this.checkSuccess()},.1))},e.prototype.check=function(){this.check1(),this.check2(),this.check3(),this.check4()},e.prototype.check1=function(){this.flag1||(this.distance(this.out1.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_1.convertToWorldSpaceAR(cc.Vec2.ZERO))<this.unLockDis?this.flag2_1=!0:this.flag2_1=!1,(this.flag2_1||this.flag2)&&(this.flag1=!0,cc.tween(this.circle1).to(.5,{opacity:0}).start(),cc.tween(this.circle1).by(.5,{position:new cc.Vec3(-100,0,0)}).start()))},e.prototype.check2=function(){if(!this.flag2){var t=this.distance(this.out1.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key3_1.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir1_2_1: "+t),console.log("dir2_3_1: "+e),t<this.unLockDis?this.flag2_1=!0:this.flag2_1=!1,e<this.unLockDis?this.flag3_1=!0:this.flag3_1=!1,(this.flag2_1||this.flag1)&&(this.flag3_1||this.flag3)&&(this.flag2=!0,cc.tween(this.circle2).to(.5,{opacity:0}).start(),cc.tween(this.circle2).by(.5,{position:new cc.Vec3(0,100,0)}).start())}},e.prototype.check3=function(){if(!this.flag3){var t=this.distance(this.out2.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key3_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out3.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_1.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir2_3_1: "+t),console.log("dir3_4_1: "+e),t<this.unLockDis?this.flag3_1=!0:this.flag3_1=!1,e<this.unLockDis?this.flag4_1=!0:this.flag4_1=!1,(this.flag3_1||this.flag2)&&(this.flag4_1||this.flag4)&&(this.flag3=!0,cc.tween(this.circle3).to(.5,{opacity:0}).start(),cc.tween(this.circle3).by(.5,{position:new cc.Vec3(-100,0,0)}).start())}},e.prototype.check4=function(){if(!this.flag4){var t=this.distance(this.out3.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key4_1.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir3_4_1: "+t),t<this.unLockDis?this.flag4_1=!0:this.flag4_1=!1,(this.flag4_1||this.flag3)&&(this.flag4=!0,cc.tween(this.circle4).to(.5,{opacity:0}).start(),cc.tween(this.circle4).by(.5,{position:new cc.Vec3(100,0,0)}).start())}},e.prototype.checkSuccess=function(){this.flag1&&this.flag2&&this.flag3&&this.flag4&&(c.GameMgr.sc._state=c.State.SUCCESS,this.scheduleOnce(function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preRightItem).setPosition(new cc.Vec3(0,0))},.5),this.scheduleOnce(function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel3),this.node.destroy()},2))},e.prototype.distance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},e.prototype.bindBack=function(){this.node.destroy(),s.default.sc.node.active=!0},e.prototype.update=function(){},r([u],e)}(cc.Component));o.LayerLevel2=p,cc._RF.pop()},{"./ring_GameMgr":"ring_GameMgr","./ring_LayerMenu":"ring_LayerMenu"}],ring_LayerLevel3:[function(t,e,o){"use strict";cc._RF.push(e,"46cbcWuuzJJpJ88KcnF/EDQ","ring_LayerLevel3");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(o,"__esModule",{value:!0}),o.LayerLevel3=void 0;var c=t("./ring_GameMgr"),s=a(t("./ring_LayerMenu")),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.flag1=!1,e.flag1_1=!1,e.flag2=!1,e.flag2_1=!1,e.flag2_2=!1,e.flag3=!1,e.flag3_1=!1,e.flag4=!1,e.flag5=!1,e.flag5_1=!1,e.flag5_2=!1,e.flag6=!1,e.unLockDis=67,e.tempPre=cc.v2(0,0),e}return i(e,t),e.prototype.onLoad=function(){for(var t=1;t<=6;t++)this["circle"+t]=this.node.getChildByName("circle"+t),this["circle"+t].on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this["circle"+t].on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this["circle"+t].on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this["circle"+t].on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this);this.out1=this.circle1.getChildByName("out"),this.key1_1=this.circle1.getChildByName("key1"),this.out2=this.circle2.getChildByName("out"),this.key2_1=this.circle2.getChildByName("key1"),this.key2_2=this.circle2.getChildByName("key2"),this.out3=this.circle3.getChildByName("out"),this.key3_1=this.circle3.getChildByName("key1"),this.out4=this.circle4.getChildByName("out"),this.out5=this.circle5.getChildByName("out"),this.key5_1=this.circle5.getChildByName("key1"),this.key5_2=this.circle5.getChildByName("key2"),this.out6=this.circle6.getChildByName("out")},e.prototype.init=function(){},e.prototype.start=function(){c.GameMgr.sc._state=c.State.GAME,this.unLockDis=c.GameMgr.sc.unLockDis},e.prototype.reset=function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel3),this.node.destroy()},e.prototype.onTouchStart=function(t){c.GameMgr.sc._state==c.State.GAME&&(this.tempStart=this.node.convertToNodeSpaceAR(t.getLocation()))},e.prototype.onTouchMove=function(t){if(c.GameMgr.sc._state==c.State.GAME){this.tempPre=this.node.convertToNodeSpaceAR(t.getPreviousLocation()),this.tempEnd=this.node.convertToNodeSpaceAR(t.getLocation());var e=this.tempEnd.sub(this.tempPre).normalize();if(0!=e.x||0!=e.y){if("circle1"==t.target.name){if(this.flag1)return;if(!this.flag4)return void this.shake(1)}if("circle2"==t.target.name){if(this.flag2_1&&this.flag2_2)return;if(!this.flag4||!this.flag6)return void this.shake(2)}if("circle3"==t.target.name){if(this.flag3)return;if(!this.flag6)return void this.shake(3)}if("circle4"!=t.target.name||!this.flag4){if("circle5"==t.target.name){if(this.flag5_1&&this.flag5_2)return;if(!this.flag4||!this.flag6)return void this.shake(5)}"circle6"==t.target.name&&this.flag6||this.rotate(t,e)}}}},e.prototype.onTouchEnd=function(t){if(c.GameMgr.sc._state==c.State.GAME){if("circle4"==t.target.name){var e=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),n=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key5_1.convertToWorldSpaceAR(cc.Vec2.ZERO));e<this.unLockDis?this.circle4.angle=20:o<this.unLockDis?this.circle4.angle=-55:n<this.unLockDis&&(this.circle4.angle=-130)}if("circle6"==t.target.name){var i=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key3_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),r=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),a=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key5_2.convertToWorldSpaceAR(cc.Vec2.ZERO));i<this.unLockDis?this.circle6.angle=160:r<this.unLockDis?this.circle6.angle=235:a<this.unLockDis&&(this.circle6.angle=-50)}this.scheduleOnce(function(){this.check(),this.checkSuccess()},.1)}},e.prototype.check=function(){this.check1(),this.check2(),this.check3(),this.check4(),this.check5(),this.check6()},e.prototype.check1=function(){if(!this.flag1){var t=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_1.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir4_1_1: "+t),t<this.unLockDis?this.flag1_1=!0:this.flag1_1=!1,(this.flag1_1||this.flag4)&&(this.flag1=!0,cc.tween(this.circle1).to(.5,{opacity:0}).start(),cc.tween(this.circle1).by(.5,{position:new cc.Vec3(-100,100,0)}).start())}},e.prototype.check2=function(){if(!this.flag2){var t=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_2.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir4_2_1: "+t),console.log("dir6_2_2: "+e),t<this.unLockDis?this.flag2_1=!0:this.flag2_1=!1,e<this.unLockDis?this.flag2_2=!0:this.flag2_2=!1,(this.flag2_1||this.flag4)&&(this.flag2_2||this.flag6)&&(this.flag2=!0,cc.tween(this.circle2).to(.5,{opacity:0}).start(),cc.tween(this.circle2).by(.5,{position:new cc.Vec3(0,100,0)}).start())}},e.prototype.check3=function(){if(!this.flag3){var t=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key3_1.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir6_3_1: "+t),t<this.unLockDis?this.flag3_1=!0:this.flag3_1=!1,(this.flag3_1||this.flag6)&&(this.flag3=!0,cc.tween(this.circle3).to(.5,{opacity:0}).start(),cc.tween(this.circle3).by(.5,{position:new cc.Vec3(100,100,0)}).start())}},e.prototype.check4=function(){if(!this.flag4){var t=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key1_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key5_1.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir4_1_1: "+t),console.log("dir4_2_1: "+e),console.log("dir4_5_1: "+o),t<this.unLockDis?this.flag1_1=!0:this.flag1_1=!1,e<this.unLockDis?this.flag2_1=!0:this.flag2_1=!1,o<this.unLockDis?this.flag5_1=!0:this.flag5_1=!1,(this.flag1_1||this.flag1)&&(this.flag2_1||this.flag2)&&(this.flag5_1||this.flag5)&&(this.flag4=!0,cc.tween(this.circle4).to(.5,{opacity:0}).start(),cc.tween(this.circle4).by(.5,{position:new cc.Vec3(0,100,0)}).start())}},e.prototype.check5=function(){if(!this.flag5){var t=this.distance(this.out4.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key5_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key5_2.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir4_5_1: "+t),console.log("dir6_5_2: "+e),t<this.unLockDis?this.flag5_1=!0:this.flag5_1=!1,e<this.unLockDis?this.flag5_2=!0:this.flag5_2=!1,(this.flag5_1||this.flag4)&&(this.flag5_2||this.flag6)&&(this.flag5=!0,cc.tween(this.circle5).to(.5,{opacity:0}).start(),cc.tween(this.circle5).by(.5,{position:new cc.Vec3(0,-100,0)}).start())}},e.prototype.check6=function(){if(!this.flag6){var t=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key3_1.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key2_2.convertToWorldSpaceAR(cc.Vec2.ZERO)),o=this.distance(this.out6.convertToWorldSpaceAR(cc.Vec2.ZERO),this.key5_2.convertToWorldSpaceAR(cc.Vec2.ZERO));console.log("dir6_3_1: "+t),console.log("dir6_2_2: "+e),console.log("dir6_5_2: "+o),t<this.unLockDis?this.flag3_1=!0:this.flag3_1=!1,e<this.unLockDis?this.flag2_2=!0:this.flag2_2=!1,o<this.unLockDis?this.flag5_2=!0:this.flag5_2=!1,(this.flag3_1||this.flag3)&&(this.flag2_2||this.flag2)&&(this.flag5_2||this.flag5)&&(this.flag6=!0,cc.tween(this.circle6).to(.5,{opacity:0}).start(),cc.tween(this.circle6).by(.5,{position:new cc.Vec3(100,0,0)}).start())}},e.prototype.shake=function(t){var e=this;this["flagShake"+t]||(this["flagShake"+t]=!0,cc.tween(this["circle"+t]).by(.1,{angle:5}).by(.1,{angle:-10}).by(.1,{angle:10}).by(.1,{angle:-10}).by(.1,{angle:5}).call(function(){e["flagShake"+t]=!1}).start())},e.prototype.rotate=function(t){this.tempEnd=t.target.convertToNodeSpaceAR(t.getLocation()),this.tempPre=t.target.convertToNodeSpaceAR(t.getPreviousLocation());var e=180*this.tempPre.signAngle(cc.Vec2.UP)/Math.PI,o=180*this.tempEnd.signAngle(cc.Vec2.UP)/Math.PI;o>e?t.target.angle-=c.GameMgr.sc.rotateAngle:o<e&&(t.target.angle+=c.GameMgr.sc.rotateAngle)},e.prototype.checkSuccess=function(){this.flag1&&this.flag2&&this.flag3&&this.flag4&&this.flag5&&this.flag6&&(c.GameMgr.sc._state=c.State.SUCCESS,this.scheduleOnce(function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preRightItem).setPosition(new cc.Vec3(0,0))},.5),this.scheduleOnce(function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel1),this.node.destroy()},2))},e.prototype.distance=function(t,e){var o=t.x-e.x,n=t.y-e.y;return Math.sqrt(o*o+n*n)},e.prototype.bindBack=function(){this.node.destroy(),s.default.sc.node.active=!0},e.prototype.update=function(){},r([u],e)}(cc.Component));o.LayerLevel3=p,cc._RF.pop()},{"./ring_GameMgr":"ring_GameMgr","./ring_LayerMenu":"ring_LayerMenu"}],ring_LayerMenu:[function(t,e,o){"use strict";cc._RF.push(e,"664d5YsetRIBbyOeidZzHoM","ring_LayerMenu");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ring_EventMgr"),c=t("./ring_GameMgr"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.num1Label=null,e.num2Label=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.sc=this,a.EventMgr.instance.on(a.eventMsg.loadConfig,this.loadConfig,this)},e.prototype.loadConfig=function(){this.num1Label.string=""+c.GameMgr.sc.unLockDis,this.num2Label.string=""+c.GameMgr.sc.rotateAngle},e.prototype.bindAdd1=function(){c.GameMgr.sc.unLockDis++,this.num1Label.string=""+c.GameMgr.sc.unLockDis,cc.sys.localStorage.setItem("unLockDis",c.GameMgr.sc.unLockDis)},e.prototype.bindSub1=function(){c.GameMgr.sc.unLockDis--,c.GameMgr.sc.unLockDis<=1&&(c.GameMgr.sc.unLockDis=1),this.num1Label.string=""+c.GameMgr.sc.unLockDis,cc.sys.localStorage.setItem("unLockDis",c.GameMgr.sc.unLockDis)},e.prototype.bindAdd2=function(){c.GameMgr.sc.rotateAngle++,this.num2Label.string=""+c.GameMgr.sc.rotateAngle,cc.sys.localStorage.setItem("rotateAngle",c.GameMgr.sc.rotateAngle)},e.prototype.bindSub2=function(){c.GameMgr.sc.rotateAngle--,c.GameMgr.sc.rotateAngle<=1&&(c.GameMgr.sc.rotateAngle=1),this.num2Label.string=""+c.GameMgr.sc.rotateAngle,cc.sys.localStorage.setItem("rotateAngle",c.GameMgr.sc.rotateAngle)},e.prototype.bindStart=function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel1),this.node.active=!1},e.prototype.bindStart2=function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel2),this.node.active=!1},e.prototype.bindStart3=function(){c.GameMgr.sc.showLayer(c.GameMgr.sc.preLayerLevel3),this.node.active=!1},e.prototype.start=function(){},r([u(cc.Label)],e.prototype,"num1Label",void 0),r([u(cc.Label)],e.prototype,"num2Label",void 0),o=r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./ring_EventMgr":"ring_EventMgr","./ring_GameMgr":"ring_GameMgr"}],ring_Pool:[function(t,e,o){"use strict";cc._RF.push(e,"7087f2SFjRPSaRbF8TCt/sg","ring_Pool"),Object.defineProperty(o,"__esModule",{value:!0}),o.Pool=void 0;var n=function(){function t(t,e,o){if(void 0===e&&(e=null),void 0===o&&(o=0),this._all=[],this._outside=[],this._initCount=0,this._all=[],this._outside=[],this._prefab=t,this._pool=new cc.NodePool(e),this._initCount=o,this._initCount)for(var n=0;n<this._initCount;++n){var i=cc.instantiate(this._prefab);this._pool.put(i),this._all.push(i)}}return t.prototype.push=function(t){if(t){this._pool.put(t);var e=this._outside.indexOf(t);e>-1&&this._outside.splice(e,1)}},t.prototype.pop=function(){var t=null;return this._pool.size()>0?t=this._pool.get():(t=cc.instantiate(this._prefab),this._all.push(t),this._pool.put(t),t=this._pool.get()),this._outside.push(t),t},t.prototype.pushAll=function(){for(var t=0;t<this._outside.length;t++)this._outside[t]&&this._pool.put(this._outside[t]);this._outside.length=0},t.prototype.destroyPool=function(){this._pool.clear()},t.prototype.clear=function(){this._pool.clear()},t.prototype.destroyAll=function(){for(var t=0;t<this._all.length;t++)this._all[t]&&this._all[t].destroy();this._all.length=0,this._outside.length=0,this._pool.clear()},t}();o.Pool=n,cc._RF.pop()},{}],ring_RightItem:[function(t,e,o){"use strict";cc._RF.push(e,"2cc2b38OC5DK6UMi8pfug7u","ring_RightItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDestroy=function(){cc.Tween.stopAllByTarget(this.node)},e.prototype.init=function(){var t=this;cc.tween(this.node).set({scale:.5}).to(.5,{scale:1.5},{easing:"sineOut"}).delay(.3).call(function(){t.node.destroy()}).start()},e.prototype.start=function(){this.init()},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],ring_util:[function(t,e,o){"use strict";cc._RF.push(e,"a09f9f7bjhIfYyJ6E4Oj1Y9","ring_util");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.util=void 0;var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}return t.clone=function(t){if(null===t||"object"!=typeof t)return t;var e={};for(var o in t.constructor===Array&&(e=[]),t)t.hasOwnProperty(o)&&(e[o]=this.clone(t[o]));return e},t.objectToArray=function(t){var e=[];for(var o in t)t.hasOwnProperty(o)&&e.push(t[o]);return e},t.arrayToObject=function(t,e){var o={};for(var n in t)t.hasOwnProperty(n)&&t[n][e]&&(o[t[n][e]]=t[n]);return o},t.getWeightRandIndex=function(t,e){for(var o=Math.floor(Math.random()*e),n=0,i=0;i<t.length&&!(o<(n+=t[i]));i++);return i},t.getRandomNFromM=function(t,e){for(var o=[],n=0,i=0;i<e&&!(i>=t+1);){n=this.getRandomInt(0,t);for(var r=0,a=0;a<i;a++)if(o[a]===n){r=1;break}0===r&&(o[i]=n,i++)}return o},t.getRandomInt=function(t,e){var o=Math.random()*(e-t+1)+t;return Math.floor(o)},t.getStringLength=function(t){for(var e=t,o=0,n=0,i=e.length;n<i;n++)o+=e.charCodeAt(n)<=255?1:2;return Math.ceil(o/2)},t.isEmptyObject=function(t){var e=!0;if(t&&t.constructor===Object){for(var o in t)if(t.hasOwnProperty(o)){e=!1;break}}else e=!1;return e},t.formatNum=function(t){if(t<=0)return"0";var e=Math.round(Math.log(t)/Math.log(1e3));return parseInt((t/Math.pow(1e3,e-1<0?0:e-1)).toString(),10)+["","","K","M","B"][e]},t.isNewDay=function(t){var e=new Date(t),o=new Date,n=e.getFullYear(),i=e.getMonth(),r=e.getDate(),a=o.getFullYear(),c=o.getMonth(),s=o.getDate();return a>n||c>i||s>r},t.getPropertyCount=function(t){var e,o=0;for(e in t)t.hasOwnProperty(e)&&o++;return o},t.difference=function(t,e){var o=[];if(t.constructor!==Array||e.constructor!==Array)return o;for(var n=t.length,i=0;i<n;i++)-1===e.indexOf(t[i])&&o.push(t[i]);return o},t.simulationUUID=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.trim=function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},t.isNowValid=function(t,e){var o=new Date(t),n=new Date(e),i=!1;if(o.getDate()+""!="NaN"&&n.getDate()+""!="NaN"){var r=new Date;i=r<n&&r>o}return i},t.getDeltaDays=function(t,e){var o=new Date(t),n=new Date(e),i=o.getFullYear(),r=o.getMonth()+1,a=o.getDate(),c=n.getFullYear(),s=n.getMonth()+1,l=n.getDate();t=new Date(i+"/"+r+"/"+a+" GMT+0800").getTime();var u=(e=new Date(c+"/"+s+"/"+l+" GMT+0800").getTime())-t;return Math.floor(u/864e5)},t.getMin=function(t){var e=0;if(t.constructor===Array)for(var o=t.length,n=0;n<o;n++)e=0===n?Number(t[0]):e>Number(t[n])?Number(t[n]):e;return e},t.formatTwoDigits=function(t){return(Array(2).join("0")+t).slice(-2)},t.formatDate=function(t,e){var o={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?""+o[n]:("00"+o[n]).substr((""+o[n]).length)));return e},t.getDay=function(){var t=new Date;return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},t.formatMoney=function(t){for(var e=["","K","M","G","T","P","E","Z","Y","B","N","D"],o="",n=0;n<e.length;n++){if(!(t>=1e4)){o=Math.floor(t)+e[n];break}t/=1e3}return""===o&&(o=Math.floor(t)+"U"),o},t.formatMoney2=function(t){for(var e=["","\u4e07","\u4ebf","\u5146","\u4eac","\u5793","\u79ed","\u7a70","\u6c9f"],o="",n=0;n<e.length;n++){if(!(t>=1e4)){o=0!=n?t.toFixed(1)+e[n]:Math.floor(t)+e[n];break}t/=1e4}return""===o&&(o=Math.floor(t)+"U"),o},t.formatMoney3=function(t){for(var e=["","\u4e07","\u4ebf","\u5146","\u4eac","\u5793","\u79ed","\u7a70","\u6c9f"],o="",n=0;n<e.length;n++){if(!(t>=1e4)){o=Math.floor(t)+e[n];break}t/=1e4}return""===o&&(o=Math.floor(t)+"U"),o},t.formatTimeForSecond=function(t){var e="",o=t%60,n=Math.floor(t/60);n=n<0?0:n;var i=Math.floor(n/60),r=n%60;return i>0&&(e+=i>9?i.toString():"0"+i,e+=":"),e+=r>9?r.toString():"0"+r,(e+=":")+(o>9?o.toString():"0"+o)},t.formatTimeForSecond2=function(t){var e="",o=t%60,n=Math.floor(t/60);n=n<0?0:n;var i=Math.floor(n/60),r=n%60;return i>0&&(e+=i>9?i.toString():"0"+i,e+="\u5c0f\u65f6"),e+=r>9?r.toString():"0"+r,e+="\u5206",(e+=o>9?o.toString():"0"+o)+"\u79d2"},t.formatTimeForMillisecond=function(t){var e=Math.floor(t/1e3%60),o=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3/60/60);return(e<10?"0"+e:e)+":"+(o<10?"0"+o:o)+":"+(n<10?"0"+n:n)},t.zip=function(t){var e=pako.gzip(encodeURIComponent(t),{to:"string"});return this.base64encode(e)},t.rand=function(t){for(var e=this.clone(t),o=e.length-1;o>=0;o--){var n=Math.floor(Math.random()*(o+1)),i=e[n];e[n]=e[o],e[o]=i}return e},n([r("util")],t)}());o.util=a,cc._RF.pop()},{}]},{},["AStar","DataBoard","GameEvent","Singleton","Timer","Utils","CatchModel","catch_Diaochan","catch_ErrorItem","catch_GameMgr","catch_Helloworld","catch_LayerLevel1","catch_LayerLevel2","catch_LayerMenu","catch_LvBu","catch_RightItem","catch_util","DigIceModel","digIce_AnimCall","digIce_menu","digIce_pushBtn","digIce_returnBtn","diverModel","diver_Bucket","diver_Drawer","diver_EndWaterTap","diver_GameMgr","diver_MiddleWaterTap","diver_StartWaterTap","diver_TapNode","diver_WaterLine","diver_main","drop_AStar","drop_DataBoard","drop_GameCommon","drop_GameEvent","drop_Singleton","drop_Timer","drop_Utils","DropModel","drop_BottomReceiver","drop_Game","drop_GameData","drop_LevelReceiver","drop_Plane","drop_Select","drop_Stage","drop_StageCtrl","G2048Model","g2048_BaseUI","g2048_GuideUI","g2048_Loading2UI","g2048_LoadingUI","g2048_MainUI","g2048_MenuUI","g2048_PromptUI","g2048_PropUI","g2048_RectUI","g2048_StartUI","g2048_TipUI","g2048_XiaoBlock","GridData","g2048_Grid","g2048_GridBg","g2048_GridData","g2048_Tip","g2048_ConstValue","g2048_ENUMStatus","g2048_EnumBulletType","g2048_EnumTaskType","g2048_GameData","g2048_ListenerType","g2048_StorageKey","g2048_config2","g2048_BaseConfigContainer","g2048_GameMain","g2048_AnimationManager","g2048_AudioManager","g2048_ConfigManager","g2048_GameController","g2048_GameDataManager","g2048_ListenerManager","g2048_PlatformManager","g2048_TimeManager","g2048_UIManager","g2048_HttpSender","g2048_InterfaceIO","g2048_AwardUtils","g2048_FadeUIPlugin","g2048_GameUtil","g2048_LogWrap","g2048_MathExtension","g2048_StorageUtil","g2048_StringExtension","g2048_UIHelp","GameCommon","MineModel","mine_Block","mine_Game","mine_GameData","mine_Select","mine_Stage","mine_Timer1","PaipaizuoModel","paipaizuo_Level","paipaizuo_Player","paipaizuo_Baselayer","paipaizuo_ExitLayer","paipaizuo_LoadingLayer","paipaizuo_LoseLayer","paipaizuo_MainLayer","paipaizuo_MenuLayer","paipaizuo_MoreLayer","paipaizuo_RankLayer","paipaizuo_SettingLayer","paipaizuo_WinLayer","paipaizuo_AudioManager","paipaizuo_DataManager","paipaizuo_EffectManager","paipaizuo_EventManager","paipaizuo_FadeManager","paipaizuo_GameManager","paipaizuo_PoolManager","paipaizuo_ResourceManager","paipaizuo_SdkManager","paipaizuo_ToastManager","paipaizuo_UIManager","paipaizuo_Enum","paipaizuo_Index","paipaizuo_StaticInstance","paipaizuo_Utils","paipaizuo_UIScrollControl","RingModel","ring_ErrorItem","ring_EventMgr","ring_GameMgr","ring_Helloworld","ring_LayerLevel1","ring_LayerLevel2","ring_LayerLevel3","ring_LayerMenu","ring_Pool","ring_RightItem","ring_util"]);